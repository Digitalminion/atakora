/**
 * Type definitions for Microsoft.ApiManagement resources.
 *
 * **API Version**: 2024-10-01-preview
 * **Generated**: 2025-10-13
 * **Source**: Azure ARM Schema Microsoft.ApiManagement
 *
 * @remarks
 * This file is auto-generated. Do not edit manually.
 * Generated by Felix (Schema & Validation Engineer)
 *
 * @packageDocumentation
 */

import {
  ApiManagementSkuName,
  VirtualNetworkType,
  HostnameType,
  ApiProtocol,
  ApiType,
  ProductState,
  SubscriptionState,
  PolicyFormat,
} from '../../schema/microsoft/apimanagement';

/**
 * SKU properties for API Management service.
 */
export interface ApiManagementServiceSkuProperties {
  /**
   * SKU name.
   *
   * @remarks
   * Available SKUs:
   * - Developer: Development/testing (no SLA)
   * - Basic: Entry-level production
   * - BasicV2: Basic with enhanced performance
   * - Standard: Mid-tier production
   * - StandardV2: Standard with enhanced performance
   * - Premium: Enterprise with multi-region support
   * - Consumption: Serverless, pay-per-call
   * - Isolated: Dedicated compute in customer's virtual network
   *
   * @example ApiManagementSkuName.PREMIUM
   */
  readonly name: ApiManagementSkuName | string;

  /**
   * SKU capacity (number of units).
   *
   * @remarks
   * Number of deployment units. Capacity requirements vary by SKU:
   * - Developer/Consumption: Must be 0
   * - Basic: 1-2
   * - Standard: 1-4
   * - Premium: 1-10 per location
   *
   * @example 1
   */
  readonly capacity?: number;
}

/**
 * Virtual network configuration.
 */
export interface VirtualNetworkConfiguration {
  /**
   * Virtual network resource ID.
   *
   * @remarks
   * Full resource ID of the virtual network.
   *
   * @example '/subscriptions/{sub}/resourceGroups/{rg}/providers/Microsoft.Network/virtualNetworks/{vnet}/subnets/{subnet}'
   */
  readonly subnetResourceId?: string;

  /**
   * Subnet name within the virtual network.
   */
  readonly subnetname?: string;

  /**
   * Virtual network ID.
   */
  readonly vnetid?: string;
}

/**
 * Hostname configuration for custom domains.
 */
export interface HostnameConfiguration {
  /**
   * Hostname type.
   *
   * @remarks
   * - Proxy: Gateway endpoint for API calls
   * - Portal: Developer portal
   * - Management: Management API endpoint
   * - Scm: Git repository endpoint
   * - DeveloperPortal: New developer portal
   */
  readonly type: HostnameType | string;

  /**
   * Custom hostname.
   *
   * @remarks
   * Fully qualified domain name.
   *
   * @example 'api.contoso.com'
   */
  readonly hostName: string;

  /**
   * Key vault secret identifier for SSL certificate.
   *
   * @remarks
   * Reference to certificate in Azure Key Vault.
   *
   * @example 'https://myvault.vault.azure.net/secrets/mycert'
   */
  readonly keyVaultId?: string;

  /**
   * System-assigned managed identity client ID.
   */
  readonly identityClientId?: string;

  /**
   * Base64-encoded SSL certificate.
   */
  readonly encodedCertificate?: string;

  /**
   * Certificate password.
   */
  readonly certificatePassword?: string;

  /**
   * Default SSL binding.
   */
  readonly defaultSslBinding?: boolean;

  /**
   * Negotiate client certificate.
   */
  readonly negotiateClientCertificate?: boolean;

  /**
   * SSL certificate.
   */
  readonly certificate?: CertificateInformation;

  /**
   * Certificate source.
   */
  readonly certificateSource?: 'Managed' | 'KeyVault' | 'Custom' | 'BuiltIn';

  /**
   * Certificate status.
   */
  readonly certificateStatus?: string;
}

/**
 * Certificate information.
 */
export interface CertificateInformation {
  /**
   * Certificate expiry date.
   */
  readonly expiry: string;

  /**
   * Certificate thumbprint.
   */
  readonly thumbprint: string;

  /**
   * Certificate subject.
   */
  readonly subject: string;
}

/**
 * Certificate configuration.
 */
export interface CertificateConfiguration {
  /**
   * Base64-encoded certificate.
   */
  readonly encodedCertificate?: string;

  /**
   * Certificate password.
   */
  readonly certificatePassword?: string;

  /**
   * Store name for certificate.
   */
  readonly storeName:
    | 'CertificateAuthority'
    | 'Root'
    | string;

  /**
   * Certificate information.
   */
  readonly certificate?: CertificateInformation;
}

/**
 * Additional region location configuration.
 */
export interface AdditionalLocation {
  /**
   * Azure region location.
   *
   * @remarks
   * Azure region for additional deployment.
   *
   * @example 'eastus'
   */
  readonly location: string;

  /**
   * SKU configuration for this location.
   */
  readonly sku: ApiManagementServiceSkuProperties;

  /**
   * Availability zones.
   *
   * @remarks
   * List of availability zones for high availability.
   *
   * @example ['1', '2', '3']
   */
  readonly zones?: string[];

  /**
   * Public IP address ID for this location.
   */
  readonly publicIpAddressId?: string;

  /**
   * Virtual network configuration for this location.
   */
  readonly virtualNetworkConfiguration?: VirtualNetworkConfiguration;

  /**
   * Disable gateway in this location.
   */
  readonly disableGateway?: boolean;

  /**
   * NAT gateway state.
   */
  readonly natGatewayState?: 'Enabled' | 'Disabled';
}

/**
 * API Version set contract details.
 */
export interface ApiVersionSetContractDetails {
  /**
   * Version set ID.
   */
  readonly id?: string;

  /**
   * Name of the version set.
   */
  readonly name?: string;

  /**
   * Description of the version set.
   */
  readonly description?: string;

  /**
   * Versioning scheme.
   */
  readonly versioningScheme?: 'Segment' | 'Query' | 'Header';

  /**
   * Version query parameter name (when versioningScheme is Query).
   */
  readonly versionQueryName?: string;

  /**
   * Version header name (when versioningScheme is Header).
   */
  readonly versionHeaderName?: string;
}

/**
 * OAuth2 authentication settings.
 */
export interface OAuth2AuthenticationSettingsContract {
  /**
   * OAuth authorization server ID.
   */
  readonly authorizationServerId?: string;

  /**
   * OAuth scope.
   */
  readonly scope?: string;
}

/**
 * OpenID authentication settings.
 */
export interface OpenIdAuthenticationSettingsContract {
  /**
   * OpenID Connect provider ID.
   */
  readonly openidProviderId?: string;

  /**
   * Bearer token sending methods.
   */
  readonly bearerTokenSendingMethods?: ('authorizationHeader' | 'query')[];
}

/**
 * Authentication settings contract.
 */
export interface AuthenticationSettingsContract {
  /**
   * OAuth2 authentication settings.
   */
  readonly oAuth2?: OAuth2AuthenticationSettingsContract;

  /**
   * OpenID Connect authentication settings.
   */
  readonly openid?: OpenIdAuthenticationSettingsContract;

  /**
   * Subscription key authentication settings.
   */
  readonly subscriptionKeyRequired?: boolean;
}

/**
 * Subscription key parameter names.
 */
export interface SubscriptionKeyParameterNamesContract {
  /**
   * Header parameter name for subscription key.
   *
   * @default 'Ocp-Apim-Subscription-Key'
   */
  readonly header?: string;

  /**
   * Query parameter name for subscription key.
   *
   * @default 'subscription-key'
   */
  readonly query?: string;
}

/**
 * API contact information.
 */
export interface ApiContactInformation {
  /**
   * Contact name.
   */
  readonly name?: string;

  /**
   * Contact email.
   */
  readonly email?: string;

  /**
   * Contact URL.
   */
  readonly url?: string;
}

/**
 * API license information.
 */
export interface ApiLicenseInformation {
  /**
   * License name.
   */
  readonly name?: string;

  /**
   * License URL.
   */
  readonly url?: string;
}

/**
 * Managed identity configuration.
 */
export interface ApiManagementServiceIdentity {
  /**
   * Identity type.
   *
   * @remarks
   * - None: No managed identity
   * - SystemAssigned: System-assigned identity
   * - UserAssigned: User-assigned identity
   * - SystemAssigned, UserAssigned: Both types
   */
  readonly type:
    | 'None'
    | 'SystemAssigned'
    | 'UserAssigned'
    | 'SystemAssigned, UserAssigned'
    | string;

  /**
   * User-assigned identities.
   *
   * @remarks
   * Dictionary of user-assigned managed identity resource IDs.
   * Keys are identity resource IDs, values can be empty objects.
   *
   * @example
   * ```typescript
   * {
   *   '/subscriptions/{sub}/resourceGroups/{rg}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identity}': {}
   * }
   * ```
   */
  readonly userAssignedIdentities?: Record<string, UserIdentityProperties>;

  /**
   * Principal ID (system-assigned identity).
   */
  readonly principalId?: string;

  /**
   * Tenant ID.
   */
  readonly tenantId?: string;
}

/**
 * User identity properties.
 */
export interface UserIdentityProperties {
  /**
   * Principal ID of the user-assigned identity.
   */
  readonly principalId?: string;

  /**
   * Client ID of the user-assigned identity.
   */
  readonly clientId?: string;
}

/**
 * API Management service properties.
 */
export interface ApiManagementServiceProperties {
  /**
   * Publisher email.
   *
   * @remarks
   * Email address of the service publisher.
   * Maximum length: 100 characters.
   * Required for service creation.
   *
   * @example 'admin@contoso.com'
   */
  readonly publisherEmail: string;

  /**
   * Publisher name.
   *
   * @remarks
   * Name of the publisher organization.
   * Maximum length: 100 characters.
   * Required for service creation.
   *
   * @example 'Contoso Inc.'
   */
  readonly publisherName: string;

  /**
   * Notification sender email.
   *
   * @remarks
   * Email address from which notifications will be sent.
   */
  readonly notificationSenderEmail?: string;

  /**
   * Provisioning state.
   */
  readonly provisioningState?: string;

  /**
   * Target provisioning state.
   */
  readonly targetProvisioningState?: string;

  /**
   * Creation timestamp.
   */
  readonly createdAtUtc?: string;

  /**
   * Gateway URL.
   */
  readonly gatewayUrl?: string;

  /**
   * Gateway regional URL.
   */
  readonly gatewayRegionalUrl?: string;

  /**
   * Portal URL.
   */
  readonly portalUrl?: string;

  /**
   * Management API URL.
   */
  readonly managementApiUrl?: string;

  /**
   * SCM (source control) URL.
   */
  readonly scmUrl?: string;

  /**
   * Developer portal URL.
   */
  readonly developerPortalUrl?: string;

  /**
   * Hostname configurations for custom domains.
   */
  readonly hostnameConfigurations?: HostnameConfiguration[];

  /**
   * Public IP addresses.
   */
  readonly publicIPAddresses?: string[];

  /**
   * Public IPv6 addresses.
   */
  readonly publicIPv6Addresses?: string[];

  /**
   * Private IP addresses.
   */
  readonly privateIPAddresses?: string[];

  /**
   * Public IP address ID.
   */
  readonly publicIpAddressId?: string;

  /**
   * Public network access.
   *
   * @remarks
   * Enable or disable public network access.
   * When disabled, only private network access is allowed.
   *
   * @default 'Enabled'
   */
  readonly publicNetworkAccess?: 'Enabled' | 'Disabled';

  /**
   * Virtual network configuration.
   */
  readonly virtualNetworkConfiguration?: VirtualNetworkConfiguration;

  /**
   * Virtual network type.
   *
   * @remarks
   * - None: Not connected to virtual network
   * - External: External virtual network (public gateway)
   * - Internal: Internal virtual network (private gateway)
   *
   * @default VirtualNetworkType.NONE
   */
  readonly virtualNetworkType?: VirtualNetworkType | string;

  /**
   * Additional regional locations for multi-region deployment.
   */
  readonly additionalLocations?: AdditionalLocation[];

  /**
   * Custom properties for security and protocol configuration.
   *
   * @remarks
   * Dictionary of custom configuration properties.
   * Common properties:
   * - Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls10
   * - Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls11
   * - Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Ssl30
   * - Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TripleDes168
   * - Microsoft.WindowsAzure.ApiManagement.Gateway.Protocols.Server.Http2
   *
   * Values are 'true' or 'false' strings.
   */
  readonly customProperties?: Record<string, string>;

  /**
   * SSL/TLS certificates.
   */
  readonly certificates?: CertificateConfiguration[];

  /**
   * Enable client certificate validation.
   */
  readonly enableClientCertificate?: boolean;

  /**
   * Disable gateway in default location.
   */
  readonly disableGateway?: boolean;

  /**
   * API version constraint.
   */
  readonly apiVersionConstraint?: ApiVersionConstraint;

  /**
   * Restore service from backup.
   */
  readonly restore?: boolean;

  /**
   * NAT gateway state.
   */
  readonly natGatewayState?: 'Enabled' | 'Disabled';

  /**
   * Availability zones.
   */
  readonly zones?: string[];

  /**
   * Platform version.
   */
  readonly platformVersion?: string;

  /**
   * Private endpoint connections.
   */
  readonly privateEndpointConnections?: RemotePrivateEndpointConnectionWrapper[];

  /**
   * Legacy portal configuration status.
   */
  readonly legacyPortalStatus?: 'Enabled' | 'Disabled';

  /**
   * Developer portal status.
   */
  readonly developerPortalStatus?: 'Enabled' | 'Disabled';
}

/**
 * API version constraint.
 */
export interface ApiVersionConstraint {
  /**
   * Minimum API version for requests.
   */
  readonly minApiVersion?: string;
}

/**
 * Remote private endpoint connection wrapper.
 */
export interface RemotePrivateEndpointConnectionWrapper {
  /**
   * Resource ID.
   */
  readonly id?: string;

  /**
   * Resource name.
   */
  readonly name?: string;

  /**
   * Resource type.
   */
  readonly type?: string;

  /**
   * Connection properties.
   */
  readonly properties?: PrivateEndpointConnectionProperties;
}

/**
 * Private endpoint connection properties.
 */
export interface PrivateEndpointConnectionProperties {
  /**
   * Private endpoint reference.
   */
  readonly privateEndpoint?: PrivateEndpointDetails;

  /**
   * Connection state.
   */
  readonly privateLinkServiceConnectionState?: PrivateLinkServiceConnectionState;

  /**
   * Provisioning state.
   */
  readonly provisioningState?: string;
}

/**
 * Private endpoint details.
 */
export interface PrivateEndpointDetails {
  /**
   * Private endpoint resource ID.
   */
  readonly id?: string;
}

/**
 * Private link service connection state.
 */
export interface PrivateLinkServiceConnectionState {
  /**
   * Connection status.
   */
  readonly status?: 'Pending' | 'Approved' | 'Rejected' | 'Disconnected';

  /**
   * Connection description.
   */
  readonly description?: string;

  /**
   * Actions required message.
   */
  readonly actionsRequired?: string;
}

/**
 * API properties.
 */
export interface ApiCreateOrUpdateProperties {
  /**
   * API description.
   */
  readonly description?: string;

  /**
   * Authentication settings.
   */
  readonly authenticationSettings?: AuthenticationSettingsContract;

  /**
   * Subscription key parameter names.
   */
  readonly subscriptionKeyParameterNames?: SubscriptionKeyParameterNamesContract;

  /**
   * API type.
   */
  readonly type?: ApiType | string;

  /**
   * API revision number.
   */
  readonly apiRevision?: string;

  /**
   * API revision description.
   */
  readonly apiRevisionDescription?: string;

  /**
   * API version.
   */
  readonly apiVersion?: string;

  /**
   * Indicates if this is the current API revision.
   */
  readonly isCurrent?: boolean;

  /**
   * Indicates if API version is required.
   */
  readonly isOnline?: boolean;

  /**
   * API version description.
   */
  readonly apiVersionDescription?: string;

  /**
   * API version set details.
   */
  readonly apiVersionSet?: ApiVersionSetContractDetails;

  /**
   * API version set ID.
   */
  readonly apiVersionSetId?: string;

  /**
   * Subscription required flag.
   */
  readonly subscriptionRequired?: boolean;

  /**
   * Terms of service URL.
   */
  readonly termsOfServiceUrl?: string;

  /**
   * Contact information.
   */
  readonly contact?: ApiContactInformation;

  /**
   * License information.
   */
  readonly license?: ApiLicenseInformation;

  /**
   * Source API ID (for API revisions).
   */
  readonly sourceApiId?: string;

  /**
   * Display name.
   */
  readonly displayName?: string;

  /**
   * Service URL (backend).
   */
  readonly serviceUrl?: string;

  /**
   * API URL path.
   */
  readonly path?: string;

  /**
   * Supported protocols.
   */
  readonly protocols?: (ApiProtocol | string)[];

  /**
   * API version set contract.
   */
  readonly apiVersionSet?: ApiVersionSetContractDetails;
}

/**
 * Product properties.
 */
export interface ProductContractProperties {
  /**
   * Product display name.
   *
   * @remarks
   * Length: 1-300 characters.
   */
  readonly displayName: string;

  /**
   * Product description.
   */
  readonly description?: string;

  /**
   * Product terms of use.
   */
  readonly terms?: string;

  /**
   * Subscription required flag.
   */
  readonly subscriptionRequired?: boolean;

  /**
   * Approval required for subscription.
   */
  readonly approvalRequired?: boolean;

  /**
   * Maximum number of subscriptions per user.
   */
  readonly subscriptionsLimit?: number;

  /**
   * Product state.
   */
  readonly state?: ProductState | string;
}

/**
 * Properties for Microsoft.ApiManagement/service (L1 construct).
 *
 * @remarks
 * Microsoft.ApiManagement/service - API Management Service
 *
 * **ARM Resource Type**: `Microsoft.ApiManagement/service`
 * **API Version**: `2024-10-01-preview`
 *
 * Direct mapping to ARM resource properties with no defaults or transformations.
 *
 * **Service Name Constraints**:
 * - Pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
 * - Length: 1-50 characters
 * - Must start with a letter
 * - Can contain letters, numbers, and hyphens
 * - Must end with a letter or number
 *
 * @example
 * ```typescript
 * const serviceProps: ArmApiManagementServiceProps = {
 *   name: 'contoso-api',
 *   location: 'westus2',
 *   sku: {
 *     name: ApiManagementSkuName.DEVELOPER,
 *     capacity: 1
 *   },
 *   properties: {
 *     publisherEmail: 'admin@contoso.com',
 *     publisherName: 'Contoso Inc.',
 *     virtualNetworkType: VirtualNetworkType.NONE
 *   }
 * };
 * ```
 */
export interface ArmApiManagementServiceProps {
  /**
   * API Management service name.
   *
   * @remarks
   * **Constraints**:
   * - Length: 1-50 characters
   * - Pattern: Must start with letter, can contain alphanumerics and hyphens, must end with alphanumeric
   * - Must be globally unique across Azure
   *
   * @example 'contoso-api'
   */
  readonly name: string;

  /**
   * Azure region location.
   *
   * @remarks
   * The Azure region where the service will be deployed.
   * Required for service creation.
   *
   * @example 'westus2'
   */
  readonly location: string;

  /**
   * SKU properties.
   *
   * @remarks
   * Defines the service tier and capacity.
   * Required for service creation.
   */
  readonly sku: ApiManagementServiceSkuProperties;

  /**
   * Service properties.
   *
   * @remarks
   * Configuration properties for the API Management service.
   * Required for service creation.
   */
  readonly properties: ApiManagementServiceProperties;

  /**
   * Resource tags.
   *
   * @remarks
   * Key-value pairs for organizing and categorizing resources.
   *
   * @example
   * ```typescript
   * {
   *   environment: 'production',
   *   department: 'engineering'
   * }
   * ```
   */
  readonly tags?: Record<string, string>;

  /**
   * Managed identity configuration.
   */
  readonly identity?: ApiManagementServiceIdentity;

  /**
   * Availability zones.
   *
   * @remarks
   * List of availability zone identifiers for high availability.
   *
   * @example ['1', '2', '3']
   */
  readonly zones?: string[];

  /**
   * ETag for optimistic concurrency.
   */
  readonly etag?: string;
}

/**
 * Properties for Microsoft.ApiManagement/service/apis (L1 construct).
 *
 * @remarks
 * Microsoft.ApiManagement/service/apis - API resource
 *
 * **ARM Resource Type**: `Microsoft.ApiManagement/service/apis`
 * **API Version**: `2024-10-01-preview`
 */
export interface ArmApiManagementServiceApisProps {
  /**
   * API identifier.
   *
   * @remarks
   * Length: 1-256 characters
   * Pattern: ^[^*#&+:<>?]+$
   */
  readonly name: string;

  /**
   * API properties.
   */
  readonly properties: ApiCreateOrUpdateProperties;
}

/**
 * Properties for Microsoft.ApiManagement/service/products (L1 construct).
 *
 * @remarks
 * Microsoft.ApiManagement/service/products - Product resource
 *
 * **ARM Resource Type**: `Microsoft.ApiManagement/service/products`
 * **API Version**: `2024-10-01-preview`
 */
export interface ArmApiManagementServiceProductsProps {
  /**
   * Product identifier.
   *
   * @remarks
   * Length: 1-256 characters
   */
  readonly name: string;

  /**
   * Product properties.
   */
  readonly properties: ProductContractProperties;
}
