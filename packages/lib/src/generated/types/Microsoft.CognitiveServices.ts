/**
 * Type definitions for Microsoft.CognitiveServices (Azure Cognitive Services) resources.
 *
 * **API Version**: 2023-05-01
 * **Generated**: 2025-10-13
 * **Source**: Azure ARM Schema Microsoft.CognitiveServices
 *
 * @remarks
 * This file is auto-generated. Do not edit manually.
 * Generated by Felix (Schema & Validation Engineer)
 *
 * @packageDocumentation
 */

/**
 * Identity type for Cognitive Services account.
 */
export type IdentityType =
  | 'None'
  | 'SystemAssigned'
  | 'SystemAssigned, UserAssigned'
  | 'UserAssigned';

/**
 * SKU tier for Cognitive Services.
 */
export type SkuTier = 'Basic' | 'Enterprise' | 'Free' | 'Premium' | 'Standard';

/**
 * Public network access setting.
 */
export type PublicNetworkAccess = 'Disabled' | 'Enabled';

/**
 * Network ACL default action.
 */
export type NetworkAclDefaultAction = 'Allow' | 'Deny';

/**
 * Encryption key source.
 */
export type EncryptionKeySource = 'Microsoft.CognitiveServices' | 'Microsoft.KeyVault';

/**
 * Deployment scale type.
 */
export type DeploymentScaleType = 'Manual' | 'Standard';

/**
 * Version upgrade option for deployments.
 */
export type VersionUpgradeOption =
  | 'NoAutoUpgrade'
  | 'OnceCurrentVersionExpired'
  | 'OnceNewDefaultVersionAvailable';

/**
 * Managed service identity for Cognitive Services account.
 */
export interface ManagedServiceIdentity {
  /**
   * Identity type.
   *
   * @remarks
   * Specifies the type of managed identity to use:
   * - None: No managed identity
   * - SystemAssigned: System-assigned managed identity
   * - UserAssigned: User-assigned managed identity
   * - SystemAssigned, UserAssigned: Both system and user-assigned identities
   */
  readonly type?: IdentityType;

  /**
   * User-assigned managed identities.
   *
   * @remarks
   * Dictionary of user-assigned managed identity resource IDs.
   * Key format: /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}
   */
  readonly userAssignedIdentities?: Record<string, UserAssignedIdentity>;

  /**
   * Principal ID (output only).
   *
   * @remarks
   * The principal ID of the system-assigned identity. Populated by Azure.
   */
  readonly principalId?: string;

  /**
   * Tenant ID (output only).
   *
   * @remarks
   * The tenant ID of the system-assigned identity. Populated by Azure.
   */
  readonly tenantId?: string;
}

/**
 * User-assigned managed identity details.
 */
export interface UserAssignedIdentity {
  /**
   * Principal ID (output only).
   */
  readonly principalId?: string;

  /**
   * Client ID (output only).
   */
  readonly clientId?: string;
}

/**
 * SKU configuration for Cognitive Services.
 */
export interface Sku {
  /**
   * SKU name.
   *
   * @remarks
   * The name of the SKU. Common values:
   * - F0: Free tier
   * - S0: Standard tier
   * - S1, S2, S3: Higher standard tiers
   *
   * @example 'S0'
   */
  readonly name: string;

  /**
   * SKU tier.
   *
   * @remarks
   * The pricing tier of the SKU.
   */
  readonly tier?: SkuTier;

  /**
   * SKU capacity.
   *
   * @remarks
   * The capacity value for the SKU. For deployments, this represents
   * tokens per minute (TPM) in thousands.
   */
  readonly capacity?: number;

  /**
   * SKU family.
   */
  readonly family?: string;

  /**
   * SKU size.
   */
  readonly size?: string;
}

/**
 * IP address rule for network ACL.
 */
export interface IpRule {
  /**
   * IP address or CIDR range.
   *
   * @remarks
   * IPv4 address or CIDR notation (e.g., "192.168.1.0/24").
   *
   * @example '192.168.1.0/24'
   */
  readonly value: string;
}

/**
 * Virtual network rule for network ACL.
 */
export interface VirtualNetworkRule {
  /**
   * Subnet resource ID.
   *
   * @remarks
   * Full Azure resource ID of a virtual network subnet.
   *
   * @example '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroup}/providers/Microsoft.Network/virtualNetworks/{vnet}/subnets/{subnet}'
   */
  readonly id: string;

  /**
   * Ignore missing virtual network service endpoint.
   *
   * @remarks
   * If true, the rule will not fail if the subnet doesn't have the
   * Microsoft.CognitiveServices service endpoint enabled.
   */
  readonly ignoreMissingVnetServiceEndpoint?: boolean;
}

/**
 * Network ACL configuration.
 */
export interface NetworkAcls {
  /**
   * Default network action.
   *
   * @remarks
   * Default action when no other rules match:
   * - Allow: Allow all network access
   * - Deny: Deny all network access (use with IP/VNet rules)
   */
  readonly defaultAction?: NetworkAclDefaultAction;

  /**
   * IP address rules.
   *
   * @remarks
   * List of IP addresses or CIDR ranges allowed to access the resource.
   */
  readonly ipRules?: IpRule[];

  /**
   * Virtual network rules.
   *
   * @remarks
   * List of virtual network subnets allowed to access the resource.
   */
  readonly virtualNetworkRules?: VirtualNetworkRule[];
}

/**
 * Key Vault properties for encryption.
 */
export interface KeyVaultProperties {
  /**
   * Key Vault key identifier.
   *
   * @remarks
   * Full Key Vault key URI.
   *
   * @example 'https://myvault.vault.azure.net/keys/mykey/version'
   */
  readonly keyIdentifier?: string;

  /**
   * Key Vault URI.
   *
   * @remarks
   * URI of the Key Vault instance.
   *
   * @example 'https://myvault.vault.azure.net'
   */
  readonly keyVaultUri?: string;

  /**
   * Key name in Key Vault.
   */
  readonly keyName?: string;

  /**
   * Key version in Key Vault.
   */
  readonly keyVersion?: string;

  /**
   * Identity client ID for Key Vault access.
   *
   * @remarks
   * Client ID of a user-assigned managed identity with Key Vault access.
   */
  readonly identityClientId?: string;
}

/**
 * Encryption configuration.
 */
export interface Encryption {
  /**
   * Encryption key source.
   *
   * @remarks
   * Source of the encryption key:
   * - Microsoft.CognitiveServices: Microsoft-managed keys
   * - Microsoft.KeyVault: Customer-managed keys from Key Vault
   */
  readonly keySource?: EncryptionKeySource;

  /**
   * Key Vault properties.
   *
   * @remarks
   * Required when keySource is Microsoft.KeyVault.
   */
  readonly keyVaultProperties?: KeyVaultProperties;
}

/**
 * Private endpoint connection (output only).
 */
export interface PrivateEndpointConnection {
  /**
   * Private endpoint connection ID.
   */
  readonly id?: string;

  /**
   * Private endpoint connection name.
   */
  readonly name?: string;

  /**
   * Private endpoint connection type.
   */
  readonly type?: string;

  /**
   * Private endpoint details.
   */
  readonly privateEndpoint?: {
    readonly id?: string;
  };

  /**
   * Private link service connection state.
   */
  readonly privateLinkServiceConnectionState?: {
    readonly status?: string;
    readonly description?: string;
    readonly actionsRequired?: string;
  };

  /**
   * Provisioning state.
   */
  readonly provisioningState?: string;
}

/**
 * API properties for specific Cognitive Services kinds.
 */
export interface ApiProperties {
  /**
   * QnA Maker endpoint key.
   */
  readonly qnaRuntimeEndpoint?: string;

  /**
   * Azure Search endpoint for QnA Maker.
   */
  readonly qnaAzureSearchEndpointKey?: string;

  /**
   * Azure Search endpoint ID.
   */
  readonly qnaAzureSearchEndpointId?: string;

  /**
   * Statistics enabled flag.
   */
  readonly statisticsEnabled?: boolean;

  /**
   * Event hub connection string.
   */
  readonly eventHubConnectionString?: string;

  /**
   * Storage account connection string.
   */
  readonly storageAccountConnectionString?: string;

  /**
   * AAD client ID.
   */
  readonly aadClientId?: string;

  /**
   * AAD tenant ID.
   */
  readonly aadTenantId?: string;

  /**
   * Super user flag.
   */
  readonly superUser?: boolean;

  /**
   * Website name.
   */
  readonly websiteName?: string;
}

/**
 * User-owned storage configuration.
 */
export interface UserOwnedStorage {
  /**
   * Storage resource ID.
   *
   * @remarks
   * Full Azure resource ID of a storage account.
   *
   * @example '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroup}/providers/Microsoft.Storage/storageAccounts/{storageAccount}'
   */
  readonly resourceId?: string;

  /**
   * Identity client ID for storage access.
   */
  readonly identityClientId?: string;
}

/**
 * Cognitive Services account properties.
 */
export interface CognitiveServicesAccountProperties {
  /**
   * Provisioning state (output only).
   */
  readonly provisioningState?: string;

  /**
   * Endpoint (output only).
   *
   * @remarks
   * The endpoint URL for accessing the Cognitive Services account.
   *
   * @example 'https://myaccount.cognitiveservices.azure.com/'
   */
  readonly endpoint?: string;

  /**
   * Internal endpoint (output only).
   */
  readonly internalId?: string;

  /**
   * Custom subdomain name.
   *
   * @remarks
   * Custom subdomain for the account. Required for OpenAI and
   * when using private endpoints or network restrictions.
   *
   * **Constraints**:
   * - Length: 2-64 characters
   * - Pattern: lowercase letters, numbers, and hyphens only
   * - Cannot start or end with hyphen
   * - Must be globally unique
   *
   * @example 'myopenai'
   */
  readonly customSubDomainName?: string;

  /**
   * Network ACLs configuration.
   *
   * @remarks
   * Network access control rules for the account.
   */
  readonly networkAcls?: NetworkAcls;

  /**
   * Encryption configuration.
   *
   * @remarks
   * Customer-managed key encryption settings.
   */
  readonly encryption?: Encryption;

  /**
   * User-owned storage accounts.
   *
   * @remarks
   * List of storage accounts managed by the customer.
   */
  readonly userOwnedStorage?: UserOwnedStorage[];

  /**
   * Private endpoint connections (output only).
   *
   * @remarks
   * List of private endpoint connections for this account.
   */
  readonly privateEndpointConnections?: PrivateEndpointConnection[];

  /**
   * Public network access setting.
   *
   * @remarks
   * Controls public network access to the account:
   * - Enabled: Allow public network access
   * - Disabled: Block public network access (use private endpoints)
   */
  readonly publicNetworkAccess?: PublicNetworkAccess;

  /**
   * API properties.
   *
   * @remarks
   * Additional properties specific to certain Cognitive Services kinds.
   */
  readonly apiProperties?: ApiProperties;

  /**
   * Date created (output only).
   */
  readonly dateCreated?: string;

  /**
   * Disable local authentication.
   *
   * @remarks
   * If true, disables key-based authentication. Use Azure AD only.
   */
  readonly disableLocalAuth?: boolean;

  /**
   * Dynamic throttling enabled.
   *
   * @remarks
   * If true, enables dynamic throttling based on usage patterns.
   */
  readonly dynamicThrottlingEnabled?: boolean;

  /**
   * Restrict outbound network access.
   *
   * @remarks
   * If true, restricts outbound network access from the account.
   */
  readonly restrictOutboundNetworkAccess?: boolean;

  /**
   * Allowed FQDN list.
   *
   * @remarks
   * List of fully qualified domain names allowed for outbound access.
   */
  readonly allowedFqdnList?: string[];

  /**
   * Capabilities (output only).
   *
   * @remarks
   * List of capabilities supported by this account.
   */
  readonly capabilities?: Array<{
    readonly name?: string;
    readonly value?: string;
  }>;

  /**
   * Migration token.
   *
   * @remarks
   * Token used for migrating the account between regions or subscriptions.
   */
  readonly migrationToken?: string;

  /**
   * Locations (output only).
   *
   * @remarks
   * Available locations for multi-region accounts.
   */
  readonly locations?: {
    readonly primary?: string;
    readonly secondary?: string;
  };
}

/**
 * Deployment model configuration.
 */
export interface DeploymentModel {
  /**
   * Model format.
   *
   * @remarks
   * Format of the model (e.g., "OpenAI").
   */
  readonly format?: string;

  /**
   * Model name.
   *
   * @remarks
   * Name of the model to deploy.
   *
   * **OpenAI Models**:
   * - gpt-4: GPT-4 model
   * - gpt-4-32k: GPT-4 with 32K context
   * - gpt-35-turbo: GPT-3.5 Turbo model
   * - gpt-35-turbo-16k: GPT-3.5 Turbo with 16K context
   * - text-embedding-ada-002: Text embedding model
   * - text-davinci-003: GPT-3 Davinci model
   * - code-davinci-002: Codex model
   *
   * @example 'gpt-4'
   */
  readonly name?: string;

  /**
   * Model version.
   *
   * @remarks
   * Version identifier for the model.
   *
   * @example '0613'
   */
  readonly version?: string;

  /**
   * Model source.
   *
   * @remarks
   * Source location of the model (optional).
   */
  readonly source?: string;
}

/**
 * Deployment scale settings.
 */
export interface DeploymentScaleSettings {
  /**
   * Scale type.
   *
   * @remarks
   * Type of scaling for the deployment:
   * - Manual: Manual capacity management
   * - Standard: Auto-scaling (if available)
   */
  readonly scaleType?: DeploymentScaleType;

  /**
   * Capacity.
   *
   * @remarks
   * Deployment capacity. For OpenAI, this is tokens per minute (TPM)
   * in thousands.
   *
   * **Typical Values**:
   * - 10: 10K TPM
   * - 30: 30K TPM
   * - 60: 60K TPM
   * - 120: 120K TPM
   * - 240: 240K TPM
   *
   * @example 30
   */
  readonly capacity?: number;
}

/**
 * Deployment properties for Cognitive Services model deployments.
 */
export interface DeploymentProperties {
  /**
   * Model configuration.
   *
   * @remarks
   * Specifies which model to deploy.
   */
  readonly model?: DeploymentModel;

  /**
   * Scale settings.
   *
   * @remarks
   * Capacity and scaling configuration for the deployment.
   */
  readonly scaleSettings?: DeploymentScaleSettings;

  /**
   * Version upgrade option.
   *
   * @remarks
   * Controls automatic version upgrades:
   * - NoAutoUpgrade: No automatic upgrades
   * - OnceCurrentVersionExpired: Upgrade when current version expires
   * - OnceNewDefaultVersionAvailable: Upgrade when new default available
   */
  readonly versionUpgradeOption?: VersionUpgradeOption;

  /**
   * RAI policy name.
   *
   * @remarks
   * Name of the Responsible AI policy to apply to this deployment.
   */
  readonly raiPolicyName?: string;

  /**
   * Provisioning state (output only).
   */
  readonly provisioningState?: string;

  /**
   * Call rate limit (output only).
   *
   * @remarks
   * Call rate limits for the deployment.
   */
  readonly callRateLimit?: {
    readonly count?: number;
    readonly renewalPeriod?: number;
    readonly rules?: Array<{
      readonly key?: string;
      readonly value?: number;
      readonly count?: number;
      readonly renewalPeriod?: number;
      readonly matchPatterns?: Array<{
        readonly path?: string;
        readonly method?: string;
      }>;
    }>;
  };
}

/**
 * Properties for Microsoft.CognitiveServices/accounts (L1 construct).
 *
 * @remarks
 * Microsoft.CognitiveServices/accounts - Azure Cognitive Services Account
 *
 * **ARM Resource Type**: `Microsoft.CognitiveServices/accounts`
 * **API Version**: `2023-05-01`
 *
 * Direct mapping to ARM resource properties with no defaults or transformations.
 *
 * **Account Name Constraints**:
 * - Pattern: ^[a-zA-Z0-9][a-zA-Z0-9_.-]*$
 * - Length: 2-64 characters
 * - Must start with alphanumeric character
 * - Can contain alphanumeric, underscore, dot, and hyphen
 * - Must be globally unique within the kind
 *
 * @example
 * ```typescript
 * const accountProps: ArmCognitiveServicesAccountProps = {
 *   name: 'myopenai-account',
 *   location: 'eastus',
 *   kind: 'OpenAI',
 *   sku: {
 *     name: 'S0'
 *   },
 *   properties: {
 *     customSubDomainName: 'myopenai',
 *     publicNetworkAccess: 'Enabled'
 *   }
 * };
 * ```
 */
export interface ArmCognitiveServicesAccountProps {
  /**
   * Account name.
   *
   * @remarks
   * The name of the Cognitive Services account.
   *
   * **Constraints**:
   * - Pattern: ^[a-zA-Z0-9][a-zA-Z0-9_.-]*$
   * - Length: 2-64 characters
   * - Must be globally unique within the kind
   *
   * @example 'myopenai-account'
   */
  readonly name: string;

  /**
   * Azure region location.
   *
   * @remarks
   * The Azure region where the account will be deployed.
   *
   * @example 'eastus'
   */
  readonly location?: string;

  /**
   * Cognitive Services kind.
   *
   * @remarks
   * The kind of Cognitive Services account to create.
   *
   * **Common Kinds**:
   * - OpenAI: Azure OpenAI Service
   * - CognitiveServices: Multi-service account
   * - ComputerVision: Computer Vision
   * - Face: Face API
   * - TextAnalytics: Language service
   * - SpeechServices: Speech service
   * - LUIS: Language Understanding
   * - QnAMaker: QnA Maker
   * - FormRecognizer: Document Intelligence
   *
   * @example 'OpenAI'
   */
  readonly kind?: string;

  /**
   * SKU configuration.
   *
   * @remarks
   * Defines the pricing tier and capacity for the account.
   */
  readonly sku: Sku;

  /**
   * Managed service identity.
   *
   * @remarks
   * Managed identity configuration for the account.
   */
  readonly identity?: ManagedServiceIdentity;

  /**
   * Account properties.
   *
   * @remarks
   * Configuration settings for the Cognitive Services account.
   */
  readonly properties?: CognitiveServicesAccountProperties;

  /**
   * Resource tags.
   *
   * @remarks
   * Key-value pairs for organizing and categorizing resources.
   *
   * @example
   * ```typescript
   * {
   *   environment: 'production',
   *   costCenter: 'AI-001'
   * }
   * ```
   */
  readonly tags?: Record<string, string>;
}

/**
 * Properties for Microsoft.CognitiveServices/accounts/deployments (L1 construct).
 *
 * @remarks
 * Microsoft.CognitiveServices/accounts/deployments - Model Deployment
 *
 * **ARM Resource Type**: `Microsoft.CognitiveServices/accounts/deployments`
 * **API Version**: `2023-05-01`
 *
 * Represents a model deployment within a Cognitive Services account.
 * Commonly used for OpenAI model deployments.
 *
 * @example
 * ```typescript
 * const deploymentProps: ArmCognitiveServicesDeploymentProps = {
 *   name: 'gpt4-deployment',
 *   properties: {
 *     model: {
 *       format: 'OpenAI',
 *       name: 'gpt-4',
 *       version: '0613'
 *     },
 *     scaleSettings: {
 *       scaleType: 'Standard',
 *       capacity: 30
 *     }
 *   },
 *   sku: {
 *     name: 'Standard',
 *     capacity: 30
 *   }
 * };
 * ```
 */
export interface ArmCognitiveServicesDeploymentProps {
  /**
   * Deployment name.
   *
   * @remarks
   * The name of the model deployment.
   * This is the name you'll use when making API calls to the deployed model.
   *
   * @example 'gpt4-deployment'
   */
  readonly name: string;

  /**
   * Deployment properties.
   *
   * @remarks
   * Configuration for the model deployment.
   */
  readonly properties?: DeploymentProperties;

  /**
   * SKU configuration.
   *
   * @remarks
   * Defines capacity for the deployment. For OpenAI, capacity represents
   * tokens per minute (TPM) in thousands.
   */
  readonly sku?: Sku;
}
