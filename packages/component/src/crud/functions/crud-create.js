// Auto-generated minified bundle for crud-create
// Do not edit - regenerate with: npm run templates
export default "\"use strict\";var Rq=Object.create;var xy=Object.defineProperty;var Sq=Object.getOwnPropertyDescriptor;var Tq=Object.getOwnPropertyNames;var bq=Object.getPrototypeOf,kq=Object.prototype.hasOwnProperty;var $n=(t,e)=>()=>(t&&(e=t(t=0)),e);var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),fr=(t,e)=>{for(var r in e)xy(t,r,{get:e[r],enumerable:!0})},Dq=(t,e,r,n)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of Tq(e))!kq.call(t,i)&&i!==r&&xy(t,i,{get:()=>e[i],enumerable:!(n=Sq(e,i))||n.enumerable});return t};var Ae=(t,e,r)=>(r=t!=null?Rq(bq(t)):{},Dq(e||!t||!t.__esModule?xy(r,\"default\",{value:t,enumerable:!0}):r,t));var CI=y((Ide,qk)=>{\"use strict\";qk.exports=ti;function ti(t){this._comparator=t||ti.DEFAULT_COMPARATOR,this._elements=[]}ti.DEFAULT_COMPARATOR=function(t,e){return typeof t==\"number\"&&typeof e==\"number\"?t-e:(t=t.toString(),e=e.toString(),t==e?0:t>e?1:-1)};ti.prototype.isEmpty=function(){return this.size()===0};ti.prototype.peek=function(){if(this.isEmpty())throw new Error(\"PriorityQueue is empty\");return this._elements[0]};ti.prototype.deq=function(){var t=this.peek(),e=this._elements.pop(),r=this.size();if(r===0)return t;this._elements[0]=e;for(var n=0;n<r;){var i=n,o=2*n+1,s=2*n+2;if(o<r&&this._compare(o,i)>=0&&(i=o),s<r&&this._compare(s,i)>=0&&(i=s),i===n)break;this._swap(i,n),n=i}return t};ti.prototype.enq=function(t){for(var e=this._elements.push(t),r=e-1;r>0;){var n=Math.floor((r-1)/2);if(this._compare(r,n)<=0)break;this._swap(n,r),r=n}return e};ti.prototype.size=function(){return this._elements.length};ti.prototype.forEach=function(t){return this._elements.forEach(t)};ti.prototype._compare=function(t,e){return this._comparator(this._elements[t],this._elements[e])};ti.prototype._swap=function(t,e){var r=this._elements[t];this._elements[t]=this._elements[e],this._elements[e]=r}});var wu=y((mI,Gk)=>{\"use strict\";(function(t){\"use strict\";var e=function(n){setTimeout(n,0)};typeof process<\"u\"&&process&&typeof process.nextTick==\"function\"&&(e=process.nextTick);function r(n){var i={capacity:n||1,current:0,queue:[],firstHere:!1,take:function(){if(i.firstHere===!1){i.current++,i.firstHere=!0;var o=1}else var o=0;var s={n:1};typeof arguments[0]==\"function\"?s.task=arguments[0]:s.n=arguments[0],arguments.length>=2&&(typeof arguments[1]==\"function\"?s.task=arguments[1]:s.n=arguments[1]);var a=s.task;if(s.task=function(){a(i.leave)},i.current+s.n-o>i.capacity)return o===1&&(i.current--,i.firstHere=!1),i.queue.push(s);i.current+=s.n-o,s.task(i.leave),o===1&&(i.firstHere=!1)},leave:function(o){if(o=o||1,i.current-=o,!i.queue.length){if(i.current<0)throw new Error(\"leave called too many times.\");return}var s=i.queue[0];s.n+i.current>i.capacity||(i.queue.shift(),i.current+=s.n,e(s.task))},available:function(o){return o=o||1,i.current+o<=i.capacity}};return i}typeof mI==\"object\"?Gk.exports=r:typeof define==\"function\"&&define.amd?define(function(){return r}):t.semaphore=r})(mI)});var Wk=y((Ude,Kk)=>{\"use strict\";Kk.exports=function(t,e){e||(e={}),typeof e==\"function\"&&(e={cmp:e});var r=typeof e.cycles==\"boolean\"?e.cycles:!1,n=e.cmp&&(function(o){return function(s){return function(a,A){var c={key:a,value:s[a]},l={key:A,value:s[A]};return o(c,l)}}})(e.cmp),i=[];return(function o(s){if(s&&s.toJSON&&typeof s.toJSON==\"function\"&&(s=s.toJSON()),s!==void 0){if(typeof s==\"number\")return isFinite(s)?\"\"+s:\"null\";if(typeof s!=\"object\")return JSON.stringify(s);var a,A;if(Array.isArray(s)){for(A=\"[\",a=0;a<s.length;a++)a&&(A+=\",\"),A+=o(s[a])||\"null\";return A+\"]\"}if(s===null)return\"null\";if(i.indexOf(s)!==-1){if(r)return JSON.stringify(\"__cycle__\");throw new TypeError(\"Converting circular structure to JSON\")}var c=i.push(s)-1,l=Object.keys(s).sort(n&&n(s));for(A=\"\",a=0;a<l.length;a++){var u=l[a],d=o(s[u]);d&&(A&&(A+=\",\"),A+=JSON.stringify(u)+\":\"+d)}return i.splice(c,1),\"{\"+A+\"}\"}})(t)}});var UI=y((eme,gD)=>{\"use strict\";var Rc=1e3,Sc=Rc*60,Tc=Sc*60,Sa=Tc*24,_G=Sa*7,HG=Sa*365.25;gD.exports=function(t,e){e=e||{};var r=typeof t;if(r===\"string\"&&t.length>0)return qG(t);if(r===\"number\"&&isFinite(t))return e.long?YG(t):GG(t);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(t))};function qG(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||\"ms\").toLowerCase();switch(n){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return r*HG;case\"weeks\":case\"week\":case\"w\":return r*_G;case\"days\":case\"day\":case\"d\":return r*Sa;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return r*Tc;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return r*Sc;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return r*Rc;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return r;default:return}}}}function GG(t){var e=Math.abs(t);return e>=Sa?Math.round(t/Sa)+\"d\":e>=Tc?Math.round(t/Tc)+\"h\":e>=Sc?Math.round(t/Sc)+\"m\":e>=Rc?Math.round(t/Rc)+\"s\":t+\"ms\"}function YG(t){var e=Math.abs(t);return e>=Sa?tp(t,e,Sa,\"day\"):e>=Tc?tp(t,e,Tc,\"hour\"):e>=Sc?tp(t,e,Sc,\"minute\"):e>=Rc?tp(t,e,Rc,\"second\"):t+\" ms\"}function tp(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+\" \"+n+(i?\"s\":\"\")}});var _I=y((tme,fD)=>{\"use strict\";function VG(t){r.debug=r,r.default=r,r.coerce=A,r.disable=s,r.enable=i,r.enabled=a,r.humanize=UI(),r.destroy=c,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let u=0;for(let d=0;d<l.length;d++)u=(u<<5)-u+l.charCodeAt(d),u|=0;return r.colors[Math.abs(u)%r.colors.length]}r.selectColor=e;function r(l){let u,d=null,h,g;function p(...f){if(!p.enabled)return;let C=p,m=Number(new Date),B=m-(u||m);C.diff=B,C.prev=u,C.curr=m,u=m,f[0]=r.coerce(f[0]),typeof f[0]!=\"string\"&&f.unshift(\"%O\");let T=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,(F,R)=>{if(F===\"%%\")return\"%\";T++;let S=r.formatters[R];if(typeof S==\"function\"){let I=f[T];F=S.call(C,I),f.splice(T,1),T--}return F}),r.formatArgs.call(C,f),(C.log||r.log).apply(C,f)}return p.namespace=l,p.useColors=r.useColors(),p.color=r.selectColor(l),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,\"enabled\",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(h!==r.namespaces&&(h=r.namespaces,g=r.enabled(l)),g),set:f=>{d=f}}),typeof r.init==\"function\"&&r.init(p),p}function n(l,u){let d=r(this.namespace+(typeof u>\"u\"?\":\":u)+l);return d.log=this.log,d}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let u=(typeof l==\"string\"?l:\"\").trim().replace(/\\s+/g,\",\").split(\",\").filter(Boolean);for(let d of u)d[0]===\"-\"?r.skips.push(d.slice(1)):r.names.push(d)}function o(l,u){let d=0,h=0,g=-1,p=0;for(;d<l.length;)if(h<u.length&&(u[h]===l[d]||u[h]===\"*\"))u[h]===\"*\"?(g=h,p=d,h++):(d++,h++);else if(g!==-1)h=g+1,p++,d=p;else return!1;for(;h<u.length&&u[h]===\"*\";)h++;return h===u.length}function s(){let l=[...r.names,...r.skips.map(u=>\"-\"+u)].join(\",\");return r.enable(\"\"),l}function a(l){for(let u of r.skips)if(o(l,u))return!1;for(let u of r.names)if(o(l,u))return!0;return!1}function A(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\")}return r.enable(r.load()),r}fD.exports=VG});var pD=y((qr,rp)=>{\"use strict\";qr.formatArgs=KG;qr.save=WG;qr.load=zG;qr.useColors=JG;qr.storage=jG();qr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\"))}})();qr.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"];function JG(){if(typeof window<\"u\"&&window.process&&(window.process.type===\"renderer\"||window.process.__nwjs))return!0;if(typeof navigator<\"u\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))return!1;let t;return typeof document<\"u\"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<\"u\"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<\"u\"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<\"u\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)}function KG(t){if(t[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+t[0]+(this.useColors?\"%c \":\" \")+\"+\"+rp.exports.humanize(this.diff),!this.useColors)return;let e=\"color: \"+this.color;t.splice(1,0,e,\"color: inherit\");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!==\"%%\"&&(r++,i===\"%c\"&&(n=r))}),t.splice(n,0,e)}qr.log=console.debug||console.log||(()=>{});function WG(t){try{t?qr.storage.setItem(\"debug\",t):qr.storage.removeItem(\"debug\")}catch{}}function zG(){let t;try{t=qr.storage.getItem(\"debug\")||qr.storage.getItem(\"DEBUG\")}catch{}return!t&&typeof process<\"u\"&&\"env\"in process&&(t=process.env.DEBUG),t}function jG(){try{return localStorage}catch{}}rp.exports=_I()(qr);var{formatters:$G}=rp.exports;$G.j=function(t){try{return JSON.stringify(t)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}}});var CD=y((rme,ED)=>{\"use strict\";ED.exports=(t,e=process.argv)=>{let r=t.startsWith(\"-\")?\"\":t.length===1?\"-\":\"--\",n=e.indexOf(r+t),i=e.indexOf(\"--\");return n!==-1&&(i===-1||n<i)}});var ID=y((nme,yD)=>{\"use strict\";var XG=require(\"os\"),mD=require(\"tty\"),Mn=CD(),{env:Vt}=process,ns;Mn(\"no-color\")||Mn(\"no-colors\")||Mn(\"color=false\")||Mn(\"color=never\")?ns=0:(Mn(\"color\")||Mn(\"colors\")||Mn(\"color=true\")||Mn(\"color=always\"))&&(ns=1);\"FORCE_COLOR\"in Vt&&(Vt.FORCE_COLOR===\"true\"?ns=1:Vt.FORCE_COLOR===\"false\"?ns=0:ns=Vt.FORCE_COLOR.length===0?1:Math.min(parseInt(Vt.FORCE_COLOR,10),3));function HI(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function qI(t,e){if(ns===0)return 0;if(Mn(\"color=16m\")||Mn(\"color=full\")||Mn(\"color=truecolor\"))return 3;if(Mn(\"color=256\"))return 2;if(t&&!e&&ns===void 0)return 0;let r=ns||0;if(Vt.TERM===\"dumb\")return r;if(process.platform===\"win32\"){let n=XG.release().split(\".\");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if(\"CI\"in Vt)return[\"TRAVIS\",\"CIRCLECI\",\"APPVEYOR\",\"GITLAB_CI\",\"GITHUB_ACTIONS\",\"BUILDKITE\"].some(n=>n in Vt)||Vt.CI_NAME===\"codeship\"?1:r;if(\"TEAMCITY_VERSION\"in Vt)return/^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(Vt.TEAMCITY_VERSION)?1:0;if(Vt.COLORTERM===\"truecolor\")return 3;if(\"TERM_PROGRAM\"in Vt){let n=parseInt((Vt.TERM_PROGRAM_VERSION||\"\").split(\".\")[0],10);switch(Vt.TERM_PROGRAM){case\"iTerm.app\":return n>=3?3:2;case\"Apple_Terminal\":return 2}}return/-256(color)?$/i.test(Vt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Vt.TERM)||\"COLORTERM\"in Vt?1:r}function ZG(t){let e=qI(t,t&&t.isTTY);return HI(e)}yD.exports={supportsColor:ZG,stdout:HI(qI(!0,mD.isatty(1))),stderr:HI(qI(!0,mD.isatty(2)))}});var QD=y((Jt,ip)=>{\"use strict\";var e1=require(\"tty\"),np=require(\"util\");Jt.init=a1;Jt.log=i1;Jt.formatArgs=r1;Jt.save=o1;Jt.load=s1;Jt.useColors=t1;Jt.destroy=np.deprecate(()=>{},\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\");Jt.colors=[6,2,3,4,5,1];try{let t=ID();t&&(t.stderr||t).level>=2&&(Jt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Jt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n===\"null\"?n=null:n=Number(n),t[r]=n,t},{});function t1(){return\"colors\"in Jt.inspectOpts?!!Jt.inspectOpts.colors:e1.isatty(process.stderr.fd)}function r1(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i=\"\\x1B[3\"+(n<8?n:\"8;5;\"+n),o=`  ${i};1m${e} \\x1B[0m`;t[0]=o+t[0].split(`\n`).join(`\n`+o),t.push(i+\"m+\"+ip.exports.humanize(this.diff)+\"\\x1B[0m\")}else t[0]=n1()+e+\" \"+t[0]}function n1(){return Jt.inspectOpts.hideDate?\"\":new Date().toISOString()+\" \"}function i1(...t){return process.stderr.write(np.formatWithOptions(Jt.inspectOpts,...t)+`\n`)}function o1(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function s1(){return process.env.DEBUG}function a1(t){t.inspectOpts={};let e=Object.keys(Jt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Jt.inspectOpts[e[r]]}ip.exports=_I()(Jt);var{formatters:BD}=ip.exports;BD.o=function(t){return this.inspectOpts.colors=this.useColors,np.inspect(t,this.inspectOpts).split(`\n`).map(e=>e.trim()).join(\" \")};BD.O=function(t){return this.inspectOpts.colors=this.useColors,np.inspect(t,this.inspectOpts)}});var op=y((ime,GI)=>{\"use strict\";typeof process>\"u\"||process.type===\"renderer\"||process.browser===!0||process.__nwjs?GI.exports=pD():GI.exports=QD()});var SD=y(Gr=>{\"use strict\";var A1=Gr&&Gr.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||(\"get\"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),c1=Gr&&Gr.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,\"default\",{enumerable:!0,value:e})}):function(t,e){t.default=e}),wD=Gr&&Gr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!==\"default\"&&Object.prototype.hasOwnProperty.call(t,r)&&A1(e,t,r);return c1(e,t),e};Object.defineProperty(Gr,\"__esModule\",{value:!0});Gr.req=Gr.json=Gr.toBuffer=void 0;var l1=wD(require(\"http\")),u1=wD(require(\"https\"));async function RD(t){let e=0,r=[];for await(let n of t)e+=n.length,r.push(n);return Buffer.concat(r,e)}Gr.toBuffer=RD;async function d1(t){let r=(await RD(t)).toString(\"utf8\");try{return JSON.parse(r)}catch(n){let i=n;throw i.message+=` (input: ${r})`,i}}Gr.json=d1;function h1(t,e={}){let n=((typeof t==\"string\"?t:t.href).startsWith(\"https:\")?u1:l1).request(t,e),i=new Promise((o,s)=>{n.once(\"response\",o).once(\"error\",s).end()});return n.then=i.then.bind(i),n}Gr.req=h1});var VI=y(an=>{\"use strict\";var bD=an&&an.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||(\"get\"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),g1=an&&an.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,\"default\",{enumerable:!0,value:e})}):function(t,e){t.default=e}),kD=an&&an.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!==\"default\"&&Object.prototype.hasOwnProperty.call(t,r)&&bD(e,t,r);return g1(e,t),e},f1=an&&an.__exportStar||function(t,e){for(var r in t)r!==\"default\"&&!Object.prototype.hasOwnProperty.call(e,r)&&bD(e,t,r)};Object.defineProperty(an,\"__esModule\",{value:!0});an.Agent=void 0;var p1=kD(require(\"net\")),TD=kD(require(\"http\")),E1=require(\"https\");f1(SD(),an);var yi=Symbol(\"AgentBaseInternalState\"),YI=class extends TD.Agent{constructor(e){super(e),this[yi]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint==\"boolean\")return e.secureEndpoint;if(typeof e.protocol==\"string\")return e.protocol===\"https:\"}let{stack:r}=new Error;return typeof r!=\"string\"?!1:r.split(`\n`).some(n=>n.indexOf(\"(https.js:\")!==-1||n.indexOf(\"node:https:\")!==-1)}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let r=new p1.Socket({writable:!1});return this.sockets[e].push(r),this.totalSocketCount++,r}decrementSockets(e,r){if(!this.sockets[e]||r===null)return;let n=this.sockets[e],i=n.indexOf(r);i!==-1&&(n.splice(i,1),this.totalSocketCount--,n.length===0&&delete this.sockets[e])}getName(e){return this.isSecureEndpoint(e)?E1.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,r,n){let i={...r,secureEndpoint:this.isSecureEndpoint(r)},o=this.getName(i),s=this.incrementSockets(o);Promise.resolve().then(()=>this.connect(e,i)).then(a=>{if(this.decrementSockets(o,s),a instanceof TD.Agent)try{return a.addRequest(e,i)}catch(A){return n(A)}this[yi].currentSocket=a,super.createSocket(e,r,n)},a=>{this.decrementSockets(o,s),n(a)})}createConnection(){let e=this[yi].currentSocket;if(this[yi].currentSocket=void 0,!e)throw new Error(\"No socket was returned in the `connect()` function\");return e}get defaultPort(){return this[yi].defaultPort??(this.protocol===\"https:\"?443:80)}set defaultPort(e){this[yi]&&(this[yi].defaultPort=e)}get protocol(){return this[yi].protocol??(this.isSecureEndpoint()?\"https:\":\"http:\")}set protocol(e){this[yi]&&(this[yi].protocol=e)}};an.Agent=YI});var DD=y(bc=>{\"use strict\";var C1=bc&&bc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bc,\"__esModule\",{value:!0});bc.parseProxyResponse=void 0;var m1=C1(op()),sp=(0,m1.default)(\"https-proxy-agent:parse-proxy-response\");function y1(t){return new Promise((e,r)=>{let n=0,i=[];function o(){let l=t.read();l?c(l):t.once(\"readable\",o)}function s(){t.removeListener(\"end\",a),t.removeListener(\"error\",A),t.removeListener(\"readable\",o)}function a(){s(),sp(\"onend\"),r(new Error(\"Proxy connection ended before receiving CONNECT response\"))}function A(l){s(),sp(\"onerror %o\",l),r(l)}function c(l){i.push(l),n+=l.length;let u=Buffer.concat(i,n),d=u.indexOf(`\\r\n\\r\n`);if(d===-1){sp(\"have not received end of HTTP headers yet...\"),o();return}let h=u.slice(0,d).toString(\"ascii\").split(`\\r\n`),g=h.shift();if(!g)return t.destroy(),r(new Error(\"No header received from proxy CONNECT response\"));let p=g.split(\" \"),f=+p[1],C=p.slice(2).join(\" \"),m={};for(let B of h){if(!B)continue;let T=B.indexOf(\":\");if(T===-1)return t.destroy(),r(new Error(`Invalid header from proxy CONNECT response: \"${B}\"`));let L=B.slice(0,T).toLowerCase(),F=B.slice(T+1).trimStart(),R=m[L];typeof R==\"string\"?m[L]=[R,F]:Array.isArray(R)?R.push(F):m[L]=F}sp(\"got proxy server response: %o %o\",g,m),s(),e({connect:{statusCode:f,statusText:C,headers:m},buffered:u})}t.on(\"error\",A),t.on(\"end\",a),o()})}bc.parseProxyResponse=y1});var FD=y(Fn=>{\"use strict\";var I1=Fn&&Fn.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||(\"get\"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),B1=Fn&&Fn.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,\"default\",{enumerable:!0,value:e})}):function(t,e){t.default=e}),PD=Fn&&Fn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!==\"default\"&&Object.prototype.hasOwnProperty.call(t,r)&&I1(e,t,r);return B1(e,t),e},MD=Fn&&Fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fn,\"__esModule\",{value:!0});Fn.HttpsProxyAgent=void 0;var ap=PD(require(\"net\")),xD=PD(require(\"tls\")),Q1=MD(require(\"assert\")),w1=MD(op()),R1=VI(),S1=require(\"url\"),T1=DD(),qu=(0,w1.default)(\"https-proxy-agent\"),vD=t=>t.servername===void 0&&t.host&&!ap.isIP(t.host)?{...t,servername:t.host}:t,Ap=class extends R1.Agent{constructor(e,r){super(r),this.options={path:void 0},this.proxy=typeof e==\"string\"?new S1.URL(e):e,this.proxyHeaders=r?.headers??{},qu(\"Creating new HttpsProxyAgent instance: %o\",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\\[|\\]$/g,\"\"),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol===\"https:\"?443:80;this.connectOpts={ALPNProtocols:[\"http/1.1\"],...r?ND(r,\"headers\"):null,host:n,port:i}}async connect(e,r){let{proxy:n}=this;if(!r.host)throw new TypeError('No \"host\" provided');let i;n.protocol===\"https:\"?(qu(\"Creating `tls.Socket`: %o\",this.connectOpts),i=xD.connect(vD(this.connectOpts))):(qu(\"Creating `net.Socket`: %o\",this.connectOpts),i=ap.connect(this.connectOpts));let o=typeof this.proxyHeaders==\"function\"?this.proxyHeaders():{...this.proxyHeaders},s=ap.isIPv6(r.host)?`[${r.host}]`:r.host,a=`CONNECT ${s}:${r.port} HTTP/1.1\\r\n`;if(n.username||n.password){let d=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;o[\"Proxy-Authorization\"]=`Basic ${Buffer.from(d).toString(\"base64\")}`}o.Host=`${s}:${r.port}`,o[\"Proxy-Connection\"]||(o[\"Proxy-Connection\"]=this.keepAlive?\"Keep-Alive\":\"close\");for(let d of Object.keys(o))a+=`${d}: ${o[d]}\\r\n`;let A=(0,T1.parseProxyResponse)(i);i.write(`${a}\\r\n`);let{connect:c,buffered:l}=await A;if(e.emit(\"proxyConnect\",c),this.emit(\"proxyConnect\",c,e),c.statusCode===200)return e.once(\"socket\",b1),r.secureEndpoint?(qu(\"Upgrading socket connection to TLS\"),xD.connect({...ND(vD(r),\"host\",\"path\",\"port\"),socket:i})):i;i.destroy();let u=new ap.Socket({writable:!1});return u.readable=!0,e.once(\"socket\",d=>{qu(\"Replaying proxy buffer for failed request\"),(0,Q1.default)(d.listenerCount(\"data\")>0),d.push(l),d.push(null)}),u}};Ap.protocols=[\"http\",\"https\"];Fn.HttpsProxyAgent=Ap;function b1(t){t.resume()}function ND(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}});var UD=y(Ln=>{\"use strict\";var k1=Ln&&Ln.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||(\"get\"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),D1=Ln&&Ln.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,\"default\",{enumerable:!0,value:e})}):function(t,e){t.default=e}),OD=Ln&&Ln.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!==\"default\"&&Object.prototype.hasOwnProperty.call(t,r)&&k1(e,t,r);return D1(e,t),e},x1=Ln&&Ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ln,\"__esModule\",{value:!0});Ln.HttpProxyAgent=void 0;var v1=OD(require(\"net\")),N1=OD(require(\"tls\")),P1=x1(op()),M1=require(\"events\"),F1=VI(),LD=require(\"url\"),kc=(0,P1.default)(\"http-proxy-agent\"),cp=class extends F1.Agent{constructor(e,r){super(r),this.proxy=typeof e==\"string\"?new LD.URL(e):e,this.proxyHeaders=r?.headers??{},kc(\"Creating new HttpProxyAgent instance: %o\",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\\[|\\]$/g,\"\"),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol===\"https:\"?443:80;this.connectOpts={...r?L1(r,\"headers\"):null,host:n,port:i}}addRequest(e,r){e._header=null,this.setRequestProps(e,r),super.addRequest(e,r)}setRequestProps(e,r){let{proxy:n}=this,i=r.secureEndpoint?\"https:\":\"http:\",o=e.getHeader(\"host\")||\"localhost\",s=`${i}//${o}`,a=new LD.URL(e.path,s);r.port!==80&&(a.port=String(r.port)),e.path=String(a);let A=typeof this.proxyHeaders==\"function\"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let c=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;A[\"Proxy-Authorization\"]=`Basic ${Buffer.from(c).toString(\"base64\")}`}A[\"Proxy-Connection\"]||(A[\"Proxy-Connection\"]=this.keepAlive?\"Keep-Alive\":\"close\");for(let c of Object.keys(A)){let l=A[c];l&&e.setHeader(c,l)}}async connect(e,r){e._header=null,e.path.includes(\"://\")||this.setRequestProps(e,r);let n,i;kc(\"Regenerating stored HTTP header string for request\"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(kc(\"Patching connection write() output buffer with updated header\"),n=e.outputData[0].data,i=n.indexOf(`\\r\n\\r\n`)+4,e.outputData[0].data=e._header+n.substring(i),kc(\"Output buffer: %o\",e.outputData[0].data));let o;return this.proxy.protocol===\"https:\"?(kc(\"Creating `tls.Socket`: %o\",this.connectOpts),o=N1.connect(this.connectOpts)):(kc(\"Creating `net.Socket`: %o\",this.connectOpts),o=v1.connect(this.connectOpts)),await(0,M1.once)(o,\"connect\"),o}};cp.protocols=[\"http\",\"https\"];Ln.HttpProxyAgent=cp;function L1(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}});var i0=y(Bp=>{\"use strict\";Object.defineProperty(Bp,\"__esModule\",{value:!0});Bp.state=void 0;Bp.state={instrumenterImplementation:void 0}});var P0=y(yB=>{\"use strict\";yB.parse=$V;yB.serialize=XV;var VV=Object.prototype.toString,JV=Object.prototype.hasOwnProperty,KV=/^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/,WV=/^(\"?)[\\u0021\\u0023-\\u002B\\u002D-\\u003A\\u003C-\\u005B\\u005D-\\u007E]*\\1$/,zV=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,jV=/^[\\u0020-\\u003A\\u003D-\\u007E]*$/;function $V(t,e){if(typeof t!=\"string\")throw new TypeError(\"argument str must be a string\");var r={},n=t.length;if(n<2)return r;var i=e&&e.decode||ZV,o=0,s=0,a=0;do{if(s=t.indexOf(\"=\",o),s===-1)break;if(a=t.indexOf(\";\",o),a===-1)a=n;else if(s>a){o=t.lastIndexOf(\";\",s-1)+1;continue}var A=v0(t,o,s),c=N0(t,s,A),l=t.slice(A,c);if(!JV.call(r,l)){var u=v0(t,s+1,a),d=N0(t,a,u);t.charCodeAt(u)===34&&t.charCodeAt(d-1)===34&&(u++,d--);var h=t.slice(u,d);r[l]=tJ(h,i)}o=a+1}while(o<n);return r}function v0(t,e,r){do{var n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<r);return r}function N0(t,e,r){for(;e>r;){var n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return r}function XV(t,e,r){var n=r&&r.encode||encodeURIComponent;if(typeof n!=\"function\")throw new TypeError(\"option encode is invalid\");if(!KV.test(t))throw new TypeError(\"argument name is invalid\");var i=n(e);if(!WV.test(i))throw new TypeError(\"argument val is invalid\");var o=t+\"=\"+i;if(!r)return o;if(r.maxAge!=null){var s=Math.floor(r.maxAge);if(!isFinite(s))throw new TypeError(\"option maxAge is invalid\");o+=\"; Max-Age=\"+s}if(r.domain){if(!zV.test(r.domain))throw new TypeError(\"option domain is invalid\");o+=\"; Domain=\"+r.domain}if(r.path){if(!jV.test(r.path))throw new TypeError(\"option path is invalid\");o+=\"; Path=\"+r.path}if(r.expires){var a=r.expires;if(!eJ(a)||isNaN(a.valueOf()))throw new TypeError(\"option expires is invalid\");o+=\"; Expires=\"+a.toUTCString()}if(r.httpOnly&&(o+=\"; HttpOnly\"),r.secure&&(o+=\"; Secure\"),r.partitioned&&(o+=\"; Partitioned\"),r.priority){var A=typeof r.priority==\"string\"?r.priority.toLowerCase():r.priority;switch(A){case\"low\":o+=\"; Priority=Low\";break;case\"medium\":o+=\"; Priority=Medium\";break;case\"high\":o+=\"; Priority=High\";break;default:throw new TypeError(\"option priority is invalid\")}}if(r.sameSite){var c=typeof r.sameSite==\"string\"?r.sameSite.toLowerCase():r.sameSite;switch(c){case!0:o+=\"; SameSite=Strict\";break;case\"lax\":o+=\"; SameSite=Lax\";break;case\"strict\":o+=\"; SameSite=Strict\";break;case\"none\":o+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return o}function ZV(t){return t.indexOf(\"%\")!==-1?decodeURIComponent(t):t}function eJ(t){return VV.call(t)===\"[object Date]\"}function tJ(t,e){try{return e(t)}catch{return t}}});var st=y((JNe,M0)=>{\"use strict\";M0.exports={kClose:Symbol(\"close\"),kDestroy:Symbol(\"destroy\"),kDispatch:Symbol(\"dispatch\"),kUrl:Symbol(\"url\"),kWriting:Symbol(\"writing\"),kResuming:Symbol(\"resuming\"),kQueue:Symbol(\"queue\"),kConnect:Symbol(\"connect\"),kConnecting:Symbol(\"connecting\"),kHeadersList:Symbol(\"headers list\"),kKeepAliveDefaultTimeout:Symbol(\"default keep alive timeout\"),kKeepAliveMaxTimeout:Symbol(\"max keep alive timeout\"),kKeepAliveTimeoutThreshold:Symbol(\"keep alive timeout threshold\"),kKeepAliveTimeoutValue:Symbol(\"keep alive timeout\"),kKeepAlive:Symbol(\"keep alive\"),kHeadersTimeout:Symbol(\"headers timeout\"),kBodyTimeout:Symbol(\"body timeout\"),kServerName:Symbol(\"server name\"),kLocalAddress:Symbol(\"local address\"),kHost:Symbol(\"host\"),kNoRef:Symbol(\"no ref\"),kBodyUsed:Symbol(\"used\"),kRunning:Symbol(\"running\"),kBlocking:Symbol(\"blocking\"),kPending:Symbol(\"pending\"),kSize:Symbol(\"size\"),kBusy:Symbol(\"busy\"),kQueued:Symbol(\"queued\"),kFree:Symbol(\"free\"),kConnected:Symbol(\"connected\"),kClosed:Symbol(\"closed\"),kNeedDrain:Symbol(\"need drain\"),kReset:Symbol(\"reset\"),kDestroyed:Symbol.for(\"nodejs.stream.destroyed\"),kMaxHeadersSize:Symbol(\"max headers size\"),kRunningIdx:Symbol(\"running index\"),kPendingIdx:Symbol(\"pending index\"),kError:Symbol(\"error\"),kClients:Symbol(\"clients\"),kClient:Symbol(\"client\"),kParser:Symbol(\"parser\"),kOnDestroyed:Symbol(\"destroy callbacks\"),kPipelining:Symbol(\"pipelining\"),kSocket:Symbol(\"socket\"),kHostHeader:Symbol(\"host header\"),kConnector:Symbol(\"connector\"),kStrictContentLength:Symbol(\"strict content length\"),kMaxRedirections:Symbol(\"maxRedirections\"),kMaxRequests:Symbol(\"maxRequestsPerClient\"),kProxy:Symbol(\"proxy agent options\"),kCounter:Symbol(\"socket request counter\"),kInterceptors:Symbol(\"dispatch interceptors\"),kMaxResponseSize:Symbol(\"max response size\"),kHTTP2Session:Symbol(\"http2Session\"),kHTTP2SessionState:Symbol(\"http2Session state\"),kHTTP2BuildRequest:Symbol(\"http2 build request\"),kHTTP1BuildRequest:Symbol(\"http1 build request\"),kHTTP2CopyHeaders:Symbol(\"http2 copy headers\"),kHTTPConnVersion:Symbol(\"http connection version\"),kRetryHandlerDefaultRetry:Symbol(\"retry agent default retry\"),kConstruct:Symbol(\"constructable\")}});var Ze=y((KNe,F0)=>{\"use strict\";var vt=class extends Error{constructor(e){super(e),this.name=\"UndiciError\",this.code=\"UND_ERR\"}},IB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"ConnectTimeoutError\",this.message=e||\"Connect Timeout Error\",this.code=\"UND_ERR_CONNECT_TIMEOUT\"}},BB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"HeadersTimeoutError\",this.message=e||\"Headers Timeout Error\",this.code=\"UND_ERR_HEADERS_TIMEOUT\"}},QB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"HeadersOverflowError\",this.message=e||\"Headers Overflow Error\",this.code=\"UND_ERR_HEADERS_OVERFLOW\"}},wB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"BodyTimeoutError\",this.message=e||\"Body Timeout Error\",this.code=\"UND_ERR_BODY_TIMEOUT\"}},RB=class t extends vt{constructor(e,r,n,i){super(e),Error.captureStackTrace(this,t),this.name=\"ResponseStatusCodeError\",this.message=e||\"Response Status Code Error\",this.code=\"UND_ERR_RESPONSE_STATUS_CODE\",this.body=i,this.status=r,this.statusCode=r,this.headers=n}},SB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"InvalidArgumentError\",this.message=e||\"Invalid Argument Error\",this.code=\"UND_ERR_INVALID_ARG\"}},TB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"InvalidReturnValueError\",this.message=e||\"Invalid Return Value Error\",this.code=\"UND_ERR_INVALID_RETURN_VALUE\"}},bB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"AbortError\",this.message=e||\"Request aborted\",this.code=\"UND_ERR_ABORTED\"}},kB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"InformationalError\",this.message=e||\"Request information\",this.code=\"UND_ERR_INFO\"}},DB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"RequestContentLengthMismatchError\",this.message=e||\"Request body length does not match content-length header\",this.code=\"UND_ERR_REQ_CONTENT_LENGTH_MISMATCH\"}},xB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"ResponseContentLengthMismatchError\",this.message=e||\"Response body length does not match content-length header\",this.code=\"UND_ERR_RES_CONTENT_LENGTH_MISMATCH\"}},vB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"ClientDestroyedError\",this.message=e||\"The client is destroyed\",this.code=\"UND_ERR_DESTROYED\"}},NB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"ClientClosedError\",this.message=e||\"The client is closed\",this.code=\"UND_ERR_CLOSED\"}},PB=class t extends vt{constructor(e,r){super(e),Error.captureStackTrace(this,t),this.name=\"SocketError\",this.message=e||\"Socket error\",this.code=\"UND_ERR_SOCKET\",this.socket=r}},Kp=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"NotSupportedError\",this.message=e||\"Not supported error\",this.code=\"UND_ERR_NOT_SUPPORTED\"}},MB=class extends vt{constructor(e){super(e),Error.captureStackTrace(this,Kp),this.name=\"MissingUpstreamError\",this.message=e||\"No upstream has been added to the BalancedPool\",this.code=\"UND_ERR_BPL_MISSING_UPSTREAM\"}},FB=class t extends Error{constructor(e,r,n){super(e),Error.captureStackTrace(this,t),this.name=\"HTTPParserError\",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},LB=class t extends vt{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"ResponseExceededMaxSizeError\",this.message=e||\"Response content exceeded max size\",this.code=\"UND_ERR_RES_EXCEEDED_MAX_SIZE\"}},OB=class t extends vt{constructor(e,r,{headers:n,data:i}){super(e),Error.captureStackTrace(this,t),this.name=\"RequestRetryError\",this.message=e||\"Request retry error\",this.code=\"UND_ERR_REQ_RETRY\",this.statusCode=r,this.data=i,this.headers=n}};F0.exports={HTTPParserError:FB,UndiciError:vt,HeadersTimeoutError:BB,HeadersOverflowError:QB,BodyTimeoutError:wB,RequestContentLengthMismatchError:DB,ConnectTimeoutError:IB,ResponseStatusCodeError:RB,InvalidArgumentError:SB,InvalidReturnValueError:TB,RequestAbortedError:bB,ClientDestroyedError:vB,ClientClosedError:NB,InformationalError:kB,SocketError:PB,NotSupportedError:Kp,ResponseContentLengthMismatchError:xB,BalancedPoolMissingUpstreamError:MB,ResponseExceededMaxSizeError:LB,RequestRetryError:OB}});var O0=y((WNe,L0)=>{\"use strict\";var Wp={},UB=[\"Accept\",\"Accept-Encoding\",\"Accept-Language\",\"Accept-Ranges\",\"Access-Control-Allow-Credentials\",\"Access-Control-Allow-Headers\",\"Access-Control-Allow-Methods\",\"Access-Control-Allow-Origin\",\"Access-Control-Expose-Headers\",\"Access-Control-Max-Age\",\"Access-Control-Request-Headers\",\"Access-Control-Request-Method\",\"Age\",\"Allow\",\"Alt-Svc\",\"Alt-Used\",\"Authorization\",\"Cache-Control\",\"Clear-Site-Data\",\"Connection\",\"Content-Disposition\",\"Content-Encoding\",\"Content-Language\",\"Content-Length\",\"Content-Location\",\"Content-Range\",\"Content-Security-Policy\",\"Content-Security-Policy-Report-Only\",\"Content-Type\",\"Cookie\",\"Cross-Origin-Embedder-Policy\",\"Cross-Origin-Opener-Policy\",\"Cross-Origin-Resource-Policy\",\"Date\",\"Device-Memory\",\"Downlink\",\"ECT\",\"ETag\",\"Expect\",\"Expect-CT\",\"Expires\",\"Forwarded\",\"From\",\"Host\",\"If-Match\",\"If-Modified-Since\",\"If-None-Match\",\"If-Range\",\"If-Unmodified-Since\",\"Keep-Alive\",\"Last-Modified\",\"Link\",\"Location\",\"Max-Forwards\",\"Origin\",\"Permissions-Policy\",\"Pragma\",\"Proxy-Authenticate\",\"Proxy-Authorization\",\"RTT\",\"Range\",\"Referer\",\"Referrer-Policy\",\"Refresh\",\"Retry-After\",\"Sec-WebSocket-Accept\",\"Sec-WebSocket-Extensions\",\"Sec-WebSocket-Key\",\"Sec-WebSocket-Protocol\",\"Sec-WebSocket-Version\",\"Server\",\"Server-Timing\",\"Service-Worker-Allowed\",\"Service-Worker-Navigation-Preload\",\"Set-Cookie\",\"SourceMap\",\"Strict-Transport-Security\",\"Supports-Loading-Mode\",\"TE\",\"Timing-Allow-Origin\",\"Trailer\",\"Transfer-Encoding\",\"Upgrade\",\"Upgrade-Insecure-Requests\",\"User-Agent\",\"Vary\",\"Via\",\"WWW-Authenticate\",\"X-Content-Type-Options\",\"X-DNS-Prefetch-Control\",\"X-Frame-Options\",\"X-Permitted-Cross-Domain-Policies\",\"X-Powered-By\",\"X-Requested-With\",\"X-XSS-Protection\"];for(let t=0;t<UB.length;++t){let e=UB[t],r=e.toLowerCase();Wp[e]=Wp[r]=r}Object.setPrototypeOf(Wp,null);L0.exports={wellknownHeaderNames:UB,headerNameLowerCasedRecord:Wp}});var De=y((zNe,z0)=>{\"use strict\";var q0=require(\"assert\"),{kDestroyed:G0,kBodyUsed:U0}=st(),{IncomingMessage:rJ}=require(\"http\"),Fc=require(\"stream\"),nJ=require(\"net\"),{InvalidArgumentError:Xt}=Ze(),{Blob:_0}=require(\"buffer\"),zp=require(\"util\"),{stringify:iJ}=require(\"querystring\"),{headerNameLowerCasedRecord:oJ}=O0(),[_B,H0]=process.versions.node.split(\".\").map(t=>Number(t));function sJ(){}function HB(t){return t&&typeof t==\"object\"&&typeof t.pipe==\"function\"&&typeof t.on==\"function\"}function Y0(t){return _0&&t instanceof _0||t&&typeof t==\"object\"&&(typeof t.stream==\"function\"||typeof t.arrayBuffer==\"function\")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function aJ(t,e){if(t.includes(\"?\")||t.includes(\"#\"))throw new Error('Query params cannot be passed when url already contains \"?\" or \"#\".');let r=iJ(e);return r&&(t+=\"?\"+r),t}function V0(t){if(typeof t==\"string\"){if(t=new URL(t),!/^https?:/.test(t.origin||t.protocol))throw new Xt(\"Invalid URL protocol: the URL must start with `http:` or `https:`.\");return t}if(!t||typeof t!=\"object\")throw new Xt(\"Invalid URL: The URL argument must be a non-null object.\");if(!/^https?:/.test(t.origin||t.protocol))throw new Xt(\"Invalid URL protocol: the URL must start with `http:` or `https:`.\");if(!(t instanceof URL)){if(t.port!=null&&t.port!==\"\"&&!Number.isFinite(parseInt(t.port)))throw new Xt(\"Invalid URL: port must be a valid integer or a string representation of an integer.\");if(t.path!=null&&typeof t.path!=\"string\")throw new Xt(\"Invalid URL path: the path must be a string or null/undefined.\");if(t.pathname!=null&&typeof t.pathname!=\"string\")throw new Xt(\"Invalid URL pathname: the pathname must be a string or null/undefined.\");if(t.hostname!=null&&typeof t.hostname!=\"string\")throw new Xt(\"Invalid URL hostname: the hostname must be a string or null/undefined.\");if(t.origin!=null&&typeof t.origin!=\"string\")throw new Xt(\"Invalid URL origin: the origin must be a string or null/undefined.\");let e=t.port!=null?t.port:t.protocol===\"https:\"?443:80,r=t.origin!=null?t.origin:`${t.protocol}//${t.hostname}:${e}`,n=t.path!=null?t.path:`${t.pathname||\"\"}${t.search||\"\"}`;r.endsWith(\"/\")&&(r=r.substring(0,r.length-1)),n&&!n.startsWith(\"/\")&&(n=`/${n}`),t=new URL(r+n)}return t}function AJ(t){if(t=V0(t),t.pathname!==\"/\"||t.search||t.hash)throw new Xt(\"invalid url\");return t}function cJ(t){if(t[0]===\"[\"){let r=t.indexOf(\"]\");return q0(r!==-1),t.substring(1,r)}let e=t.indexOf(\":\");return e===-1?t:t.substring(0,e)}function lJ(t){if(!t)return null;q0.strictEqual(typeof t,\"string\");let e=cJ(t);return nJ.isIP(e)?\"\":e}function uJ(t){return JSON.parse(JSON.stringify(t))}function dJ(t){return t!=null&&typeof t[Symbol.asyncIterator]==\"function\"}function hJ(t){return t!=null&&(typeof t[Symbol.iterator]==\"function\"||typeof t[Symbol.asyncIterator]==\"function\")}function gJ(t){if(t==null)return 0;if(HB(t)){let e=t._readableState;return e&&e.objectMode===!1&&e.ended===!0&&Number.isFinite(e.length)?e.length:null}else{if(Y0(t))return t.size!=null?t.size:null;if(K0(t))return t.byteLength}return null}function qB(t){return!t||!!(t.destroyed||t[G0])}function J0(t){let e=t&&t._readableState;return qB(t)&&e&&!e.endEmitted}function fJ(t,e){t==null||!HB(t)||qB(t)||(typeof t.destroy==\"function\"?(Object.getPrototypeOf(t).constructor===rJ&&(t.socket=null),t.destroy(e)):e&&process.nextTick((r,n)=>{r.emit(\"error\",n)},t,e),t.destroyed!==!0&&(t[G0]=!0))}var pJ=/timeout=(\\d+)/;function EJ(t){let e=t.toString().match(pJ);return e?parseInt(e[1],10)*1e3:null}function CJ(t){return oJ[t]||t.toLowerCase()}function mJ(t,e={}){if(!Array.isArray(t))return t;for(let r=0;r<t.length;r+=2){let n=t[r].toString().toLowerCase(),i=e[n];i?(Array.isArray(i)||(i=[i],e[n]=i),i.push(t[r+1].toString(\"utf8\"))):Array.isArray(t[r+1])?e[n]=t[r+1].map(o=>o.toString(\"utf8\")):e[n]=t[r+1].toString(\"utf8\")}return\"content-length\"in e&&\"content-disposition\"in e&&(e[\"content-disposition\"]=Buffer.from(e[\"content-disposition\"]).toString(\"latin1\")),e}function yJ(t){let e=[],r=!1,n=-1;for(let i=0;i<t.length;i+=2){let o=t[i+0].toString(),s=t[i+1].toString(\"utf8\");o.length===14&&(o===\"content-length\"||o.toLowerCase()===\"content-length\")?(e.push(o,s),r=!0):o.length===19&&(o===\"content-disposition\"||o.toLowerCase()===\"content-disposition\")?n=e.push(o,s)-1:e.push(o,s)}return r&&n!==-1&&(e[n]=Buffer.from(e[n]).toString(\"latin1\")),e}function K0(t){return t instanceof Uint8Array||Buffer.isBuffer(t)}function IJ(t,e,r){if(!t||typeof t!=\"object\")throw new Xt(\"handler must be an object\");if(typeof t.onConnect!=\"function\")throw new Xt(\"invalid onConnect method\");if(typeof t.onError!=\"function\")throw new Xt(\"invalid onError method\");if(typeof t.onBodySent!=\"function\"&&t.onBodySent!==void 0)throw new Xt(\"invalid onBodySent method\");if(r||e===\"CONNECT\"){if(typeof t.onUpgrade!=\"function\")throw new Xt(\"invalid onUpgrade method\")}else{if(typeof t.onHeaders!=\"function\")throw new Xt(\"invalid onHeaders method\");if(typeof t.onData!=\"function\")throw new Xt(\"invalid onData method\");if(typeof t.onComplete!=\"function\")throw new Xt(\"invalid onComplete method\")}}function BJ(t){return!!(t&&(Fc.isDisturbed?Fc.isDisturbed(t)||t[U0]:t[U0]||t.readableDidRead||t._readableState&&t._readableState.dataEmitted||J0(t)))}function QJ(t){return!!(t&&(Fc.isErrored?Fc.isErrored(t):/state: 'errored'/.test(zp.inspect(t))))}function wJ(t){return!!(t&&(Fc.isReadable?Fc.isReadable(t):/state: 'readable'/.test(zp.inspect(t))))}function RJ(t){return{localAddress:t.localAddress,localPort:t.localPort,remoteAddress:t.remoteAddress,remotePort:t.remotePort,remoteFamily:t.remoteFamily,timeout:t.timeout,bytesWritten:t.bytesWritten,bytesRead:t.bytesRead}}async function*SJ(t){for await(let e of t)yield Buffer.isBuffer(e)?e:Buffer.from(e)}var Ad;function TJ(t){if(Ad||(Ad=require(\"stream/web\").ReadableStream),Ad.from)return Ad.from(SJ(t));let e;return new Ad({async start(){e=t[Symbol.asyncIterator]()},async pull(r){let{done:n,value:i}=await e.next();if(n)queueMicrotask(()=>{r.close()});else{let o=Buffer.isBuffer(i)?i:Buffer.from(i);r.enqueue(new Uint8Array(o))}return r.desiredSize>0},async cancel(r){await e.return()}},0)}function bJ(t){return t&&typeof t==\"object\"&&typeof t.append==\"function\"&&typeof t.delete==\"function\"&&typeof t.get==\"function\"&&typeof t.getAll==\"function\"&&typeof t.has==\"function\"&&typeof t.set==\"function\"&&t[Symbol.toStringTag]===\"FormData\"}function kJ(t){if(t){if(typeof t.throwIfAborted==\"function\")t.throwIfAborted();else if(t.aborted){let e=new Error(\"The operation was aborted\");throw e.name=\"AbortError\",e}}}function DJ(t,e){return\"addEventListener\"in t?(t.addEventListener(\"abort\",e,{once:!0}),()=>t.removeEventListener(\"abort\",e)):(t.addListener(\"abort\",e),()=>t.removeListener(\"abort\",e))}var xJ=!!String.prototype.toWellFormed;function vJ(t){return xJ?`${t}`.toWellFormed():zp.toUSVString?zp.toUSVString(t):`${t}`}function NJ(t){if(t==null||t===\"\")return{start:0,end:null,size:null};let e=t?t.match(/^bytes (\\d+)-(\\d+)\\/(\\d+)?$/):null;return e?{start:parseInt(e[1]),end:e[2]?parseInt(e[2]):null,size:e[3]?parseInt(e[3]):null}:null}var W0=Object.create(null);W0.enumerable=!0;z0.exports={kEnumerableProperty:W0,nop:sJ,isDisturbed:BJ,isErrored:QJ,isReadable:wJ,toUSVString:vJ,isReadableAborted:J0,isBlobLike:Y0,parseOrigin:AJ,parseURL:V0,getServerName:lJ,isStream:HB,isIterable:hJ,isAsyncIterable:dJ,isDestroyed:qB,headerNameToString:CJ,parseRawHeaders:yJ,parseHeaders:mJ,parseKeepAliveTimeout:EJ,destroy:fJ,bodyLength:gJ,deepClone:uJ,ReadableStreamFrom:TJ,isBuffer:K0,validateHandler:IJ,getSocketInfo:RJ,isFormDataLike:bJ,buildURL:aJ,throwIfAborted:kJ,addAbortListener:DJ,parseRangeHeader:NJ,nodeMajor:_B,nodeMinor:H0,nodeHasAutoSelectFamily:_B>18||_B===18&&H0>=13,safeHTTPMethods:[\"GET\",\"HEAD\",\"OPTIONS\",\"TRACE\"]}});var X0=y((jNe,$0)=>{\"use strict\";var GB=Date.now(),As,cs=[];function PJ(){GB=Date.now();let t=cs.length,e=0;for(;e<t;){let r=cs[e];r.state===0?r.state=GB+r.delay:r.state>0&&GB>=r.state&&(r.state=-1,r.callback(r.opaque)),r.state===-1?(r.state=-2,e!==t-1?cs[e]=cs.pop():cs.pop(),t-=1):e+=1}cs.length>0&&j0()}function j0(){As&&As.refresh?As.refresh():(clearTimeout(As),As=setTimeout(PJ,1e3),As.unref&&As.unref())}var jp=class{constructor(e,r,n){this.callback=e,this.delay=r,this.opaque=n,this.state=-2,this.refresh()}refresh(){this.state===-2&&(cs.push(this),(!As||cs.length===1)&&j0()),this.state=0}clear(){this.state=-1}};$0.exports={setTimeout(t,e,r){return e<1e3?setTimeout(t,e,r):new jp(t,e,r)},clearTimeout(t){t instanceof jp?t.clear():clearTimeout(t)}}});var YB=y(($Ne,Z0)=>{\"use strict\";var MJ=require(\"node:events\").EventEmitter,FJ=require(\"node:util\").inherits;function xa(t){if(typeof t==\"string\"&&(t=Buffer.from(t)),!Buffer.isBuffer(t))throw new TypeError(\"The needle has to be a String or a Buffer.\");let e=t.length;if(e===0)throw new Error(\"The needle cannot be an empty String/Buffer.\");if(e>256)throw new Error(\"The needle cannot have a length bigger than 256.\");this.maxMatches=1/0,this.matches=0,this._occ=new Array(256).fill(e),this._lookbehind_size=0,this._needle=t,this._bufpos=0,this._lookbehind=Buffer.alloc(e);for(var r=0;r<e-1;++r)this._occ[t[r]]=e-1-r}FJ(xa,MJ);xa.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0};xa.prototype.push=function(t,e){Buffer.isBuffer(t)||(t=Buffer.from(t,\"binary\"));let r=t.length;this._bufpos=e||0;let n;for(;n!==r&&this.matches<this.maxMatches;)n=this._sbmh_feed(t);return n};xa.prototype._sbmh_feed=function(t){let e=t.length,r=this._needle,n=r.length,i=r[n-1],o=-this._lookbehind_size,s;if(o<0){for(;o<0&&o<=e-n;){if(s=this._sbmh_lookup_char(t,o+n-1),s===i&&this._sbmh_memcmp(t,o,n-1))return this._lookbehind_size=0,++this.matches,this.emit(\"info\",!0),this._bufpos=o+n;o+=this._occ[s]}if(o<0)for(;o<0&&!this._sbmh_memcmp(t,o,e-o);)++o;if(o>=0)this.emit(\"info\",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let a=this._lookbehind_size+o;return a>0&&this.emit(\"info\",!1,this._lookbehind,0,a),this._lookbehind.copy(this._lookbehind,0,a,this._lookbehind_size-a),this._lookbehind_size-=a,t.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=e,this._bufpos=e,e}}if(o+=(o>=0)*this._bufpos,t.indexOf(r,o)!==-1)return o=t.indexOf(r,o),++this.matches,o>0?this.emit(\"info\",!0,t,this._bufpos,o):this.emit(\"info\",!0),this._bufpos=o+n;for(o=e-n;o<e&&(t[o]!==r[0]||Buffer.compare(t.subarray(o,o+e-o),r.subarray(0,e-o))!==0);)++o;return o<e&&(t.copy(this._lookbehind,0,o,o+(e-o)),this._lookbehind_size=e-o),o>0&&this.emit(\"info\",!1,t,this._bufpos,o<e?o:e),this._bufpos=e,e};xa.prototype._sbmh_lookup_char=function(t,e){return e<0?this._lookbehind[this._lookbehind_size+e]:t[e]};xa.prototype._sbmh_memcmp=function(t,e,r){for(var n=0;n<r;++n)if(this._sbmh_lookup_char(t,e+n)!==this._needle[n])return!1;return!0};Z0.exports=xa});var rx=y((XNe,tx)=>{\"use strict\";var LJ=require(\"node:util\").inherits,ex=require(\"node:stream\").Readable;function VB(t){ex.call(this,t)}LJ(VB,ex);VB.prototype._read=function(t){};tx.exports=VB});var $p=y((ZNe,nx)=>{\"use strict\";nx.exports=function(e,r,n){if(!e||e[r]===void 0||e[r]===null)return n;if(typeof e[r]!=\"number\"||isNaN(e[r]))throw new TypeError(\"Limit \"+r+\" is not a valid number\");return e[r]}});var ax=y((ePe,sx)=>{\"use strict\";var ox=require(\"node:events\").EventEmitter,OJ=require(\"node:util\").inherits,ix=$p(),UJ=YB(),_J=Buffer.from(`\\r\n\\r\n`),HJ=/\\r\\n/g,qJ=/^([^:]+):[ \\t]?([\\x00-\\xFF]+)?$/;function Lc(t){ox.call(this),t=t||{};let e=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=ix(t,\"maxHeaderPairs\",2e3),this.maxHeaderSize=ix(t,\"maxHeaderSize\",80*1024),this.buffer=\"\",this.header={},this.finished=!1,this.ss=new UJ(_J),this.ss.on(\"info\",function(r,n,i,o){n&&!e.maxed&&(e.nread+o-i>=e.maxHeaderSize?(o=e.maxHeaderSize-e.nread+i,e.nread=e.maxHeaderSize,e.maxed=!0):e.nread+=o-i,e.buffer+=n.toString(\"binary\",i,o)),r&&e._finish()})}OJ(Lc,ox);Lc.prototype.push=function(t){let e=this.ss.push(t);if(this.finished)return e};Lc.prototype.reset=function(){this.finished=!1,this.buffer=\"\",this.header={},this.ss.reset()};Lc.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;let t=this.header;this.header={},this.buffer=\"\",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit(\"header\",t)};Lc.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs)return;let t=this.buffer.split(HJ),e=t.length,r,n;for(var i=0;i<e;++i){if(t[i].length===0)continue;if((t[i][0]===\"\t\"||t[i][0]===\" \")&&n){this.header[n][this.header[n].length-1]+=t[i];continue}let o=t[i].indexOf(\":\");if(o===-1||o===0)return;if(r=qJ.exec(t[i]),n=r[1].toLowerCase(),this.header[n]=this.header[n]||[],this.header[n].push(r[2]||\"\"),++this.npairs===this.maxHeaderPairs)break}};sx.exports=Lc});var KB=y((tPe,cx)=>{\"use strict\";var JB=require(\"node:stream\").Writable,GJ=require(\"node:util\").inherits,YJ=YB(),Ax=rx(),VJ=ax(),JJ=45,KJ=Buffer.from(\"-\"),WJ=Buffer.from(`\\r\n`),zJ=function(){};function ni(t){if(!(this instanceof ni))return new ni(t);if(JB.call(this,t),!t||!t.headerFirst&&typeof t.boundary!=\"string\")throw new TypeError(\"Boundary required\");typeof t.boundary==\"string\"?this.setBoundary(t.boundary):this._bparser=void 0,this._headerFirst=t.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:t.partHwm},this._pause=!1;let e=this;this._hparser=new VJ(t),this._hparser.on(\"header\",function(r){e._inHeader=!1,e._part.emit(\"header\",r)})}GJ(ni,JB);ni.prototype.emit=function(t){if(t===\"finish\"&&!this._realFinish){if(!this._finished){let e=this;process.nextTick(function(){if(e.emit(\"error\",new Error(\"Unexpected end of multipart data\")),e._part&&!e._ignoreData){let r=e._isPreamble?\"Preamble\":\"Part\";e._part.emit(\"error\",new Error(r+\" terminated early due to unexpected end of multipart data\")),e._part.push(null),process.nextTick(function(){e._realFinish=!0,e.emit(\"finish\"),e._realFinish=!1});return}e._realFinish=!0,e.emit(\"finish\"),e._realFinish=!1})}}else JB.prototype.emit.apply(this,arguments)};ni.prototype._write=function(t,e,r){if(!this._hparser&&!this._bparser)return r();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new Ax(this._partOpts),this.listenerCount(\"preamble\")!==0?this.emit(\"preamble\",this._part):this._ignore());let n=this._hparser.push(t);if(!this._inHeader&&n!==void 0&&n<t.length)t=t.slice(n);else return r()}this._firstWrite&&(this._bparser.push(WJ),this._firstWrite=!1),this._bparser.push(t),this._pause?this._cb=r:r()};ni.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0};ni.prototype.setBoundary=function(t){let e=this;this._bparser=new YJ(`\\r\n--`+t),this._bparser.on(\"info\",function(r,n,i,o){e._oninfo(r,n,i,o)})};ni.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on(\"error\",zJ),this._part.resume())};ni.prototype._oninfo=function(t,e,r,n){let i,o=this,s=0,a,A=!0;if(!this._part&&this._justMatched&&e){for(;this._dashes<2&&r+s<n;)if(e[r+s]===JJ)++s,++this._dashes;else{this._dashes&&(i=KJ),this._dashes=0;break}if(this._dashes===2&&(r+s<n&&this.listenerCount(\"trailer\")!==0&&this.emit(\"trailer\",e.slice(r+s,n)),this.reset(),this._finished=!0,o._parts===0&&(o._realFinish=!0,o.emit(\"finish\"),o._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new Ax(this._partOpts),this._part._read=function(c){o._unpause()},this._isPreamble&&this.listenerCount(\"preamble\")!==0?this.emit(\"preamble\",this._part):this._isPreamble!==!0&&this.listenerCount(\"part\")!==0?this.emit(\"part\",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),e&&r<n&&!this._ignoreData&&(this._isPreamble||!this._inHeader?(i&&(A=this._part.push(i)),A=this._part.push(e.slice(r,n)),A||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(i&&this._hparser.push(i),a=this._hparser.push(e.slice(r,n)),!this._inHeader&&a!==void 0&&a<n&&this._oninfo(!1,e,r+a,n))),t&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:r!==n&&(++this._parts,this._part.on(\"end\",function(){--o._parts===0&&(o._finished?(o._realFinish=!0,o.emit(\"finish\"),o._realFinish=!1):o._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)};ni.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){let t=this._cb;this._cb=void 0,t()}};cx.exports=ni});var Xp=y((WB,dx)=>{\"use strict\";var lx=new TextDecoder(\"utf-8\"),ux=new Map([[\"utf-8\",lx],[\"utf8\",lx]]);function jJ(t){let e;for(;;)switch(t){case\"utf-8\":case\"utf8\":return cd.utf8;case\"latin1\":case\"ascii\":case\"us-ascii\":case\"iso-8859-1\":case\"iso8859-1\":case\"iso88591\":case\"iso_8859-1\":case\"windows-1252\":case\"iso_8859-1:1987\":case\"cp1252\":case\"x-cp1252\":return cd.latin1;case\"utf16le\":case\"utf-16le\":case\"ucs2\":case\"ucs-2\":return cd.utf16le;case\"base64\":return cd.base64;default:if(e===void 0){e=!0,t=t.toLowerCase();continue}return cd.other.bind(t)}}var cd={utf8:(t,e)=>t.length===0?\"\":(typeof t==\"string\"&&(t=Buffer.from(t,e)),t.utf8Slice(0,t.length)),latin1:(t,e)=>t.length===0?\"\":typeof t==\"string\"?t:t.latin1Slice(0,t.length),utf16le:(t,e)=>t.length===0?\"\":(typeof t==\"string\"&&(t=Buffer.from(t,e)),t.ucs2Slice(0,t.length)),base64:(t,e)=>t.length===0?\"\":(typeof t==\"string\"&&(t=Buffer.from(t,e)),t.base64Slice(0,t.length)),other:(t,e)=>{if(t.length===0)return\"\";if(typeof t==\"string\"&&(t=Buffer.from(t,e)),ux.has(WB.toString()))try{return ux.get(WB).decode(t)}catch{}return typeof t==\"string\"?t:t.toString()}};function $J(t,e,r){return t&&jJ(r)(t,e)}dx.exports=$J});var jB=y((rPe,Ex)=>{\"use strict\";var Zp=Xp(),hx=/%[a-fA-F0-9][a-fA-F0-9]/g,XJ={\"%00\":\"\\0\",\"%01\":\"\u0001\",\"%02\":\"\u0002\",\"%03\":\"\u0003\",\"%04\":\"\u0004\",\"%05\":\"\u0005\",\"%06\":\"\u0006\",\"%07\":\"\\x07\",\"%08\":\"\\b\",\"%09\":\"\t\",\"%0a\":`\n`,\"%0A\":`\n`,\"%0b\":\"\\v\",\"%0B\":\"\\v\",\"%0c\":\"\\f\",\"%0C\":\"\\f\",\"%0d\":\"\\r\",\"%0D\":\"\\r\",\"%0e\":\"\u000e\",\"%0E\":\"\u000e\",\"%0f\":\"\u000f\",\"%0F\":\"\u000f\",\"%10\":\"\u0010\",\"%11\":\"\u0011\",\"%12\":\"\u0012\",\"%13\":\"\u0013\",\"%14\":\"\u0014\",\"%15\":\"\u0015\",\"%16\":\"\u0016\",\"%17\":\"\u0017\",\"%18\":\"\u0018\",\"%19\":\"\u0019\",\"%1a\":\"\u001a\",\"%1A\":\"\u001a\",\"%1b\":\"\\x1B\",\"%1B\":\"\\x1B\",\"%1c\":\"\u001c\",\"%1C\":\"\u001c\",\"%1d\":\"\u001d\",\"%1D\":\"\u001d\",\"%1e\":\"\u001e\",\"%1E\":\"\u001e\",\"%1f\":\"\u001f\",\"%1F\":\"\u001f\",\"%20\":\" \",\"%21\":\"!\",\"%22\":'\"',\"%23\":\"#\",\"%24\":\"$\",\"%25\":\"%\",\"%26\":\"&\",\"%27\":\"'\",\"%28\":\"(\",\"%29\":\")\",\"%2a\":\"*\",\"%2A\":\"*\",\"%2b\":\"+\",\"%2B\":\"+\",\"%2c\":\",\",\"%2C\":\",\",\"%2d\":\"-\",\"%2D\":\"-\",\"%2e\":\".\",\"%2E\":\".\",\"%2f\":\"/\",\"%2F\":\"/\",\"%30\":\"0\",\"%31\":\"1\",\"%32\":\"2\",\"%33\":\"3\",\"%34\":\"4\",\"%35\":\"5\",\"%36\":\"6\",\"%37\":\"7\",\"%38\":\"8\",\"%39\":\"9\",\"%3a\":\":\",\"%3A\":\":\",\"%3b\":\";\",\"%3B\":\";\",\"%3c\":\"<\",\"%3C\":\"<\",\"%3d\":\"=\",\"%3D\":\"=\",\"%3e\":\">\",\"%3E\":\">\",\"%3f\":\"?\",\"%3F\":\"?\",\"%40\":\"@\",\"%41\":\"A\",\"%42\":\"B\",\"%43\":\"C\",\"%44\":\"D\",\"%45\":\"E\",\"%46\":\"F\",\"%47\":\"G\",\"%48\":\"H\",\"%49\":\"I\",\"%4a\":\"J\",\"%4A\":\"J\",\"%4b\":\"K\",\"%4B\":\"K\",\"%4c\":\"L\",\"%4C\":\"L\",\"%4d\":\"M\",\"%4D\":\"M\",\"%4e\":\"N\",\"%4E\":\"N\",\"%4f\":\"O\",\"%4F\":\"O\",\"%50\":\"P\",\"%51\":\"Q\",\"%52\":\"R\",\"%53\":\"S\",\"%54\":\"T\",\"%55\":\"U\",\"%56\":\"V\",\"%57\":\"W\",\"%58\":\"X\",\"%59\":\"Y\",\"%5a\":\"Z\",\"%5A\":\"Z\",\"%5b\":\"[\",\"%5B\":\"[\",\"%5c\":\"\\\\\",\"%5C\":\"\\\\\",\"%5d\":\"]\",\"%5D\":\"]\",\"%5e\":\"^\",\"%5E\":\"^\",\"%5f\":\"_\",\"%5F\":\"_\",\"%60\":\"`\",\"%61\":\"a\",\"%62\":\"b\",\"%63\":\"c\",\"%64\":\"d\",\"%65\":\"e\",\"%66\":\"f\",\"%67\":\"g\",\"%68\":\"h\",\"%69\":\"i\",\"%6a\":\"j\",\"%6A\":\"j\",\"%6b\":\"k\",\"%6B\":\"k\",\"%6c\":\"l\",\"%6C\":\"l\",\"%6d\":\"m\",\"%6D\":\"m\",\"%6e\":\"n\",\"%6E\":\"n\",\"%6f\":\"o\",\"%6F\":\"o\",\"%70\":\"p\",\"%71\":\"q\",\"%72\":\"r\",\"%73\":\"s\",\"%74\":\"t\",\"%75\":\"u\",\"%76\":\"v\",\"%77\":\"w\",\"%78\":\"x\",\"%79\":\"y\",\"%7a\":\"z\",\"%7A\":\"z\",\"%7b\":\"{\",\"%7B\":\"{\",\"%7c\":\"|\",\"%7C\":\"|\",\"%7d\":\"}\",\"%7D\":\"}\",\"%7e\":\"~\",\"%7E\":\"~\",\"%7f\":\"\\x7F\",\"%7F\":\"\\x7F\",\"%80\":\"\\x80\",\"%81\":\"\\x81\",\"%82\":\"\\x82\",\"%83\":\"\\x83\",\"%84\":\"\\x84\",\"%85\":\"\\x85\",\"%86\":\"\\x86\",\"%87\":\"\\x87\",\"%88\":\"\\x88\",\"%89\":\"\\x89\",\"%8a\":\"\\x8A\",\"%8A\":\"\\x8A\",\"%8b\":\"\\x8B\",\"%8B\":\"\\x8B\",\"%8c\":\"\\x8C\",\"%8C\":\"\\x8C\",\"%8d\":\"\\x8D\",\"%8D\":\"\\x8D\",\"%8e\":\"\\x8E\",\"%8E\":\"\\x8E\",\"%8f\":\"\\x8F\",\"%8F\":\"\\x8F\",\"%90\":\"\\x90\",\"%91\":\"\\x91\",\"%92\":\"\\x92\",\"%93\":\"\\x93\",\"%94\":\"\\x94\",\"%95\":\"\\x95\",\"%96\":\"\\x96\",\"%97\":\"\\x97\",\"%98\":\"\\x98\",\"%99\":\"\\x99\",\"%9a\":\"\\x9A\",\"%9A\":\"\\x9A\",\"%9b\":\"\\x9B\",\"%9B\":\"\\x9B\",\"%9c\":\"\\x9C\",\"%9C\":\"\\x9C\",\"%9d\":\"\\x9D\",\"%9D\":\"\\x9D\",\"%9e\":\"\\x9E\",\"%9E\":\"\\x9E\",\"%9f\":\"\\x9F\",\"%9F\":\"\\x9F\",\"%a0\":\"\\xA0\",\"%A0\":\"\\xA0\",\"%a1\":\"\\xA1\",\"%A1\":\"\\xA1\",\"%a2\":\"\\xA2\",\"%A2\":\"\\xA2\",\"%a3\":\"\\xA3\",\"%A3\":\"\\xA3\",\"%a4\":\"\\xA4\",\"%A4\":\"\\xA4\",\"%a5\":\"\\xA5\",\"%A5\":\"\\xA5\",\"%a6\":\"\\xA6\",\"%A6\":\"\\xA6\",\"%a7\":\"\\xA7\",\"%A7\":\"\\xA7\",\"%a8\":\"\\xA8\",\"%A8\":\"\\xA8\",\"%a9\":\"\\xA9\",\"%A9\":\"\\xA9\",\"%aa\":\"\\xAA\",\"%Aa\":\"\\xAA\",\"%aA\":\"\\xAA\",\"%AA\":\"\\xAA\",\"%ab\":\"\\xAB\",\"%Ab\":\"\\xAB\",\"%aB\":\"\\xAB\",\"%AB\":\"\\xAB\",\"%ac\":\"\\xAC\",\"%Ac\":\"\\xAC\",\"%aC\":\"\\xAC\",\"%AC\":\"\\xAC\",\"%ad\":\"\\xAD\",\"%Ad\":\"\\xAD\",\"%aD\":\"\\xAD\",\"%AD\":\"\\xAD\",\"%ae\":\"\\xAE\",\"%Ae\":\"\\xAE\",\"%aE\":\"\\xAE\",\"%AE\":\"\\xAE\",\"%af\":\"\\xAF\",\"%Af\":\"\\xAF\",\"%aF\":\"\\xAF\",\"%AF\":\"\\xAF\",\"%b0\":\"\\xB0\",\"%B0\":\"\\xB0\",\"%b1\":\"\\xB1\",\"%B1\":\"\\xB1\",\"%b2\":\"\\xB2\",\"%B2\":\"\\xB2\",\"%b3\":\"\\xB3\",\"%B3\":\"\\xB3\",\"%b4\":\"\\xB4\",\"%B4\":\"\\xB4\",\"%b5\":\"\\xB5\",\"%B5\":\"\\xB5\",\"%b6\":\"\\xB6\",\"%B6\":\"\\xB6\",\"%b7\":\"\\xB7\",\"%B7\":\"\\xB7\",\"%b8\":\"\\xB8\",\"%B8\":\"\\xB8\",\"%b9\":\"\\xB9\",\"%B9\":\"\\xB9\",\"%ba\":\"\\xBA\",\"%Ba\":\"\\xBA\",\"%bA\":\"\\xBA\",\"%BA\":\"\\xBA\",\"%bb\":\"\\xBB\",\"%Bb\":\"\\xBB\",\"%bB\":\"\\xBB\",\"%BB\":\"\\xBB\",\"%bc\":\"\\xBC\",\"%Bc\":\"\\xBC\",\"%bC\":\"\\xBC\",\"%BC\":\"\\xBC\",\"%bd\":\"\\xBD\",\"%Bd\":\"\\xBD\",\"%bD\":\"\\xBD\",\"%BD\":\"\\xBD\",\"%be\":\"\\xBE\",\"%Be\":\"\\xBE\",\"%bE\":\"\\xBE\",\"%BE\":\"\\xBE\",\"%bf\":\"\\xBF\",\"%Bf\":\"\\xBF\",\"%bF\":\"\\xBF\",\"%BF\":\"\\xBF\",\"%c0\":\"\\xC0\",\"%C0\":\"\\xC0\",\"%c1\":\"\\xC1\",\"%C1\":\"\\xC1\",\"%c2\":\"\\xC2\",\"%C2\":\"\\xC2\",\"%c3\":\"\\xC3\",\"%C3\":\"\\xC3\",\"%c4\":\"\\xC4\",\"%C4\":\"\\xC4\",\"%c5\":\"\\xC5\",\"%C5\":\"\\xC5\",\"%c6\":\"\\xC6\",\"%C6\":\"\\xC6\",\"%c7\":\"\\xC7\",\"%C7\":\"\\xC7\",\"%c8\":\"\\xC8\",\"%C8\":\"\\xC8\",\"%c9\":\"\\xC9\",\"%C9\":\"\\xC9\",\"%ca\":\"\\xCA\",\"%Ca\":\"\\xCA\",\"%cA\":\"\\xCA\",\"%CA\":\"\\xCA\",\"%cb\":\"\\xCB\",\"%Cb\":\"\\xCB\",\"%cB\":\"\\xCB\",\"%CB\":\"\\xCB\",\"%cc\":\"\\xCC\",\"%Cc\":\"\\xCC\",\"%cC\":\"\\xCC\",\"%CC\":\"\\xCC\",\"%cd\":\"\\xCD\",\"%Cd\":\"\\xCD\",\"%cD\":\"\\xCD\",\"%CD\":\"\\xCD\",\"%ce\":\"\\xCE\",\"%Ce\":\"\\xCE\",\"%cE\":\"\\xCE\",\"%CE\":\"\\xCE\",\"%cf\":\"\\xCF\",\"%Cf\":\"\\xCF\",\"%cF\":\"\\xCF\",\"%CF\":\"\\xCF\",\"%d0\":\"\\xD0\",\"%D0\":\"\\xD0\",\"%d1\":\"\\xD1\",\"%D1\":\"\\xD1\",\"%d2\":\"\\xD2\",\"%D2\":\"\\xD2\",\"%d3\":\"\\xD3\",\"%D3\":\"\\xD3\",\"%d4\":\"\\xD4\",\"%D4\":\"\\xD4\",\"%d5\":\"\\xD5\",\"%D5\":\"\\xD5\",\"%d6\":\"\\xD6\",\"%D6\":\"\\xD6\",\"%d7\":\"\\xD7\",\"%D7\":\"\\xD7\",\"%d8\":\"\\xD8\",\"%D8\":\"\\xD8\",\"%d9\":\"\\xD9\",\"%D9\":\"\\xD9\",\"%da\":\"\\xDA\",\"%Da\":\"\\xDA\",\"%dA\":\"\\xDA\",\"%DA\":\"\\xDA\",\"%db\":\"\\xDB\",\"%Db\":\"\\xDB\",\"%dB\":\"\\xDB\",\"%DB\":\"\\xDB\",\"%dc\":\"\\xDC\",\"%Dc\":\"\\xDC\",\"%dC\":\"\\xDC\",\"%DC\":\"\\xDC\",\"%dd\":\"\\xDD\",\"%Dd\":\"\\xDD\",\"%dD\":\"\\xDD\",\"%DD\":\"\\xDD\",\"%de\":\"\\xDE\",\"%De\":\"\\xDE\",\"%dE\":\"\\xDE\",\"%DE\":\"\\xDE\",\"%df\":\"\\xDF\",\"%Df\":\"\\xDF\",\"%dF\":\"\\xDF\",\"%DF\":\"\\xDF\",\"%e0\":\"\\xE0\",\"%E0\":\"\\xE0\",\"%e1\":\"\\xE1\",\"%E1\":\"\\xE1\",\"%e2\":\"\\xE2\",\"%E2\":\"\\xE2\",\"%e3\":\"\\xE3\",\"%E3\":\"\\xE3\",\"%e4\":\"\\xE4\",\"%E4\":\"\\xE4\",\"%e5\":\"\\xE5\",\"%E5\":\"\\xE5\",\"%e6\":\"\\xE6\",\"%E6\":\"\\xE6\",\"%e7\":\"\\xE7\",\"%E7\":\"\\xE7\",\"%e8\":\"\\xE8\",\"%E8\":\"\\xE8\",\"%e9\":\"\\xE9\",\"%E9\":\"\\xE9\",\"%ea\":\"\\xEA\",\"%Ea\":\"\\xEA\",\"%eA\":\"\\xEA\",\"%EA\":\"\\xEA\",\"%eb\":\"\\xEB\",\"%Eb\":\"\\xEB\",\"%eB\":\"\\xEB\",\"%EB\":\"\\xEB\",\"%ec\":\"\\xEC\",\"%Ec\":\"\\xEC\",\"%eC\":\"\\xEC\",\"%EC\":\"\\xEC\",\"%ed\":\"\\xED\",\"%Ed\":\"\\xED\",\"%eD\":\"\\xED\",\"%ED\":\"\\xED\",\"%ee\":\"\\xEE\",\"%Ee\":\"\\xEE\",\"%eE\":\"\\xEE\",\"%EE\":\"\\xEE\",\"%ef\":\"\\xEF\",\"%Ef\":\"\\xEF\",\"%eF\":\"\\xEF\",\"%EF\":\"\\xEF\",\"%f0\":\"\\xF0\",\"%F0\":\"\\xF0\",\"%f1\":\"\\xF1\",\"%F1\":\"\\xF1\",\"%f2\":\"\\xF2\",\"%F2\":\"\\xF2\",\"%f3\":\"\\xF3\",\"%F3\":\"\\xF3\",\"%f4\":\"\\xF4\",\"%F4\":\"\\xF4\",\"%f5\":\"\\xF5\",\"%F5\":\"\\xF5\",\"%f6\":\"\\xF6\",\"%F6\":\"\\xF6\",\"%f7\":\"\\xF7\",\"%F7\":\"\\xF7\",\"%f8\":\"\\xF8\",\"%F8\":\"\\xF8\",\"%f9\":\"\\xF9\",\"%F9\":\"\\xF9\",\"%fa\":\"\\xFA\",\"%Fa\":\"\\xFA\",\"%fA\":\"\\xFA\",\"%FA\":\"\\xFA\",\"%fb\":\"\\xFB\",\"%Fb\":\"\\xFB\",\"%fB\":\"\\xFB\",\"%FB\":\"\\xFB\",\"%fc\":\"\\xFC\",\"%Fc\":\"\\xFC\",\"%fC\":\"\\xFC\",\"%FC\":\"\\xFC\",\"%fd\":\"\\xFD\",\"%Fd\":\"\\xFD\",\"%fD\":\"\\xFD\",\"%FD\":\"\\xFD\",\"%fe\":\"\\xFE\",\"%Fe\":\"\\xFE\",\"%fE\":\"\\xFE\",\"%FE\":\"\\xFE\",\"%ff\":\"\\xFF\",\"%Ff\":\"\\xFF\",\"%fF\":\"\\xFF\",\"%FF\":\"\\xFF\"};function gx(t){return XJ[t]}var eE=0,fx=1,zB=2,px=3;function ZJ(t){let e=[],r=eE,n=\"\",i=!1,o=!1,s=0,a=\"\",A=t.length;for(var c=0;c<A;++c){let l=t[c];if(l===\"\\\\\"&&i)if(o)o=!1;else{o=!0;continue}else if(l==='\"')if(o)o=!1;else{i?(i=!1,r=eE):i=!0;continue}else if(o&&i&&(a+=\"\\\\\"),o=!1,(r===zB||r===px)&&l===\"'\"){r===zB?(r=px,n=a.substring(1)):r=fx,a=\"\";continue}else if(r===eE&&(l===\"*\"||l===\"=\")&&e.length){r=l===\"*\"?zB:fx,e[s]=[a,void 0],a=\"\";continue}else if(!i&&l===\";\"){r=eE,n?(a.length&&(a=Zp(a.replace(hx,gx),\"binary\",n)),n=\"\"):a.length&&(a=Zp(a,\"binary\",\"utf8\")),e[s]===void 0?e[s]=a:e[s][1]=a,a=\"\",++s;continue}else if(!i&&(l===\" \"||l===\"\t\"))continue;a+=l}return n&&a.length?a=Zp(a.replace(hx,gx),\"binary\",n):a&&(a=Zp(a,\"binary\",\"utf8\")),e[s]===void 0?a&&(e[s]=a):e[s][1]=a,e}Ex.exports=ZJ});var mx=y((nPe,Cx)=>{\"use strict\";Cx.exports=function(e){if(typeof e!=\"string\")return\"\";for(var r=e.length-1;r>=0;--r)switch(e.charCodeAt(r)){case 47:case 92:return e=e.slice(r+1),e===\"..\"||e===\".\"?\"\":e}return e===\"..\"||e===\".\"?\"\":e}});var Qx=y((iPe,Bx)=>{\"use strict\";var{Readable:Ix}=require(\"node:stream\"),{inherits:eK}=require(\"node:util\"),tK=KB(),yx=jB(),rK=Xp(),nK=mx(),va=$p(),iK=/^boundary$/i,oK=/^form-data$/i,sK=/^charset$/i,aK=/^filename$/i,AK=/^name$/i;tE.detect=/^multipart\\/form-data/i;function tE(t,e){let r,n,i=this,o,s=e.limits,a=e.isPartAFile||((k,P,z)=>P===\"application/octet-stream\"||z!==void 0),A=e.parsedConType||[],c=e.defCharset||\"utf8\",l=e.preservePath,u={highWaterMark:e.fileHwm};for(r=0,n=A.length;r<n;++r)if(Array.isArray(A[r])&&iK.test(A[r][0])){o=A[r][1];break}function d(){F===0&&I&&!t._done&&(I=!1,i.end())}if(typeof o!=\"string\")throw new Error(\"Multipart: Boundary not found\");let h=va(s,\"fieldSize\",1*1024*1024),g=va(s,\"fileSize\",1/0),p=va(s,\"files\",1/0),f=va(s,\"fields\",1/0),C=va(s,\"parts\",1/0),m=va(s,\"headerPairs\",2e3),B=va(s,\"headerSize\",80*1024),T=0,L=0,F=0,R,S,I=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=t;let x={boundary:o,maxHeaderPairs:m,maxHeaderSize:B,partHwm:u.highWaterMark,highWaterMark:e.highWaterMark};this.parser=new tK(x),this.parser.on(\"drain\",function(){if(i._needDrain=!1,i._cb&&!i._pause){let k=i._cb;i._cb=void 0,k()}}).on(\"part\",function k(P){if(++i._nparts>C)return i.parser.removeListener(\"part\",k),i.parser.on(\"part\",Oc),t.hitPartsLimit=!0,t.emit(\"partsLimit\"),Oc(P);if(S){let z=S;z.emit(\"end\"),z.removeAllListeners(\"end\")}P.on(\"header\",function(z){let H,ue,se,Ce,qe,Ge,Rt=0;if(z[\"content-type\"]&&(se=yx(z[\"content-type\"][0]),se[0])){for(H=se[0].toLowerCase(),r=0,n=se.length;r<n;++r)if(sK.test(se[r][0])){Ce=se[r][1].toLowerCase();break}}if(H===void 0&&(H=\"text/plain\"),Ce===void 0&&(Ce=c),z[\"content-disposition\"]){if(se=yx(z[\"content-disposition\"][0]),!oK.test(se[0]))return Oc(P);for(r=0,n=se.length;r<n;++r)AK.test(se[r][0])?ue=se[r][1]:aK.test(se[r][0])&&(Ge=se[r][1],l||(Ge=nK(Ge)))}else return Oc(P);z[\"content-transfer-encoding\"]?qe=z[\"content-transfer-encoding\"][0].toLowerCase():qe=\"7bit\";let ee,N;if(a(ue,H,Ge)){if(T===p)return t.hitFilesLimit||(t.hitFilesLimit=!0,t.emit(\"filesLimit\")),Oc(P);if(++T,t.listenerCount(\"file\")===0){i.parser._ignore();return}++F;let M=new $B(u);R=M,M.on(\"end\",function(){if(--F,i._pause=!1,d(),i._cb&&!i._needDrain){let Z=i._cb;i._cb=void 0,Z()}}),M._read=function(Z){if(i._pause&&(i._pause=!1,i._cb&&!i._needDrain)){let de=i._cb;i._cb=void 0,de()}},t.emit(\"file\",ue,M,Ge,qe,H),ee=function(Z){if((Rt+=Z.length)>g){let de=g-Rt+Z.length;de>0&&M.push(Z.slice(0,de)),M.truncated=!0,M.bytesRead=g,P.removeAllListeners(\"data\"),M.emit(\"limit\");return}else M.push(Z)||(i._pause=!0);M.bytesRead=Rt},N=function(){R=void 0,M.push(null)}}else{if(L===f)return t.hitFieldsLimit||(t.hitFieldsLimit=!0,t.emit(\"fieldsLimit\")),Oc(P);++L,++F;let M=\"\",Z=!1;S=P,ee=function(de){if((Rt+=de.length)>h){let Ye=h-(Rt-de.length);M+=de.toString(\"binary\",0,Ye),Z=!0,P.removeAllListeners(\"data\")}else M+=de.toString(\"binary\")},N=function(){S=void 0,M.length&&(M=rK(M,\"binary\",Ce)),t.emit(\"field\",ue,M,!1,Z,qe,H),--F,d()}}P._readableState.sync=!1,P.on(\"data\",ee),P.on(\"end\",N)}).on(\"error\",function(z){R&&R.emit(\"error\",z)})}).on(\"error\",function(k){t.emit(\"error\",k)}).on(\"finish\",function(){I=!0,d()})}tE.prototype.write=function(t,e){let r=this.parser.write(t);r&&!this._pause?e():(this._needDrain=!r,this._cb=e)};tE.prototype.end=function(){let t=this;t.parser.writable?t.parser.end():t._boy._done||process.nextTick(function(){t._boy._done=!0,t._boy.emit(\"finish\")})};function Oc(t){t.resume()}function $B(t){Ix.call(this,t),this.bytesRead=0,this.truncated=!1}eK($B,Ix);$B.prototype._read=function(t){};Bx.exports=tE});var Rx=y((oPe,wx)=>{\"use strict\";var cK=/\\+/g,lK=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function XB(){this.buffer=void 0}XB.prototype.write=function(t){t=t.replace(cK,\" \");let e=\"\",r=0,n=0,i=t.length;for(;r<i;++r)this.buffer!==void 0?lK[t.charCodeAt(r)]?(this.buffer+=t[r],++n,this.buffer.length===2&&(e+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0)):(e+=\"%\"+this.buffer,this.buffer=void 0,--r):t[r]===\"%\"&&(r>n&&(e+=t.substring(n,r),n=r),this.buffer=\"\",++n);return n<i&&this.buffer===void 0&&(e+=t.substring(n)),e};XB.prototype.reset=function(){this.buffer=void 0};wx.exports=XB});var Tx=y((sPe,Sx)=>{\"use strict\";var uK=Rx(),Uc=Xp(),ZB=$p(),dK=/^charset$/i;rE.detect=/^application\\/x-www-form-urlencoded/i;function rE(t,e){let r=e.limits,n=e.parsedConType;this.boy=t,this.fieldSizeLimit=ZB(r,\"fieldSize\",1*1024*1024),this.fieldNameSizeLimit=ZB(r,\"fieldNameSize\",100),this.fieldsLimit=ZB(r,\"fields\",1/0);let i;for(var o=0,s=n.length;o<s;++o)if(Array.isArray(n[o])&&dK.test(n[o][0])){i=n[o][1].toLowerCase();break}i===void 0&&(i=e.defCharset||\"utf8\"),this.decoder=new uK,this.charset=i,this._fields=0,this._state=\"key\",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key=\"\",this._val=\"\",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}rE.prototype.write=function(t,e){if(this._fields===this.fieldsLimit)return this.boy.hitFieldsLimit||(this.boy.hitFieldsLimit=!0,this.boy.emit(\"fieldsLimit\")),e();let r,n,i,o=0,s=t.length;for(;o<s;)if(this._state===\"key\"){for(r=n=void 0,i=o;i<s;++i){if(this._checkingBytes||++o,t[i]===61){r=i;break}else if(t[i]===38){n=i;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesKey}if(r!==void 0)r>o&&(this._key+=this.decoder.write(t.toString(\"binary\",o,r))),this._state=\"val\",this._hitLimit=!1,this._checkingBytes=!0,this._val=\"\",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),o=r+1;else if(n!==void 0){++this._fields;let a,A=this._keyTrunc;if(n>o?a=this._key+=this.decoder.write(t.toString(\"binary\",o,n)):a=this._key,this._hitLimit=!1,this._checkingBytes=!0,this._key=\"\",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),a.length&&this.boy.emit(\"field\",Uc(a,\"binary\",this.charset),\"\",A,!1),o=n+1,this._fields===this.fieldsLimit)return e()}else this._hitLimit?(i>o&&(this._key+=this.decoder.write(t.toString(\"binary\",o,i))),o=i,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit&&(this._checkingBytes=!1,this._keyTrunc=!0)):(o<s&&(this._key+=this.decoder.write(t.toString(\"binary\",o))),o=s)}else{for(n=void 0,i=o;i<s;++i){if(this._checkingBytes||++o,t[i]===38){n=i;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesVal}if(n!==void 0){if(++this._fields,n>o&&(this._val+=this.decoder.write(t.toString(\"binary\",o,n))),this.boy.emit(\"field\",Uc(this._key,\"binary\",this.charset),Uc(this._val,\"binary\",this.charset),this._keyTrunc,this._valTrunc),this._state=\"key\",this._hitLimit=!1,this._checkingBytes=!0,this._key=\"\",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),o=n+1,this._fields===this.fieldsLimit)return e()}else this._hitLimit?(i>o&&(this._val+=this.decoder.write(t.toString(\"binary\",o,i))),o=i,(this._val===\"\"&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit)&&(this._checkingBytes=!1,this._valTrunc=!0)):(o<s&&(this._val+=this.decoder.write(t.toString(\"binary\",o))),o=s)}e()};rE.prototype.end=function(){this.boy._done||(this._state===\"key\"&&this._key.length>0?this.boy.emit(\"field\",Uc(this._key,\"binary\",this.charset),\"\",this._keyTrunc,!1):this._state===\"val\"&&this.boy.emit(\"field\",Uc(this._key,\"binary\",this.charset),Uc(this._val,\"binary\",this.charset),this._keyTrunc,this._valTrunc),this.boy._done=!0,this.boy.emit(\"finish\"))};Sx.exports=rE});var Dx=y((aPe,ld)=>{\"use strict\";var eQ=require(\"node:stream\").Writable,{inherits:hK}=require(\"node:util\"),gK=KB(),bx=Qx(),kx=Tx(),fK=jB();function lo(t){if(!(this instanceof lo))return new lo(t);if(typeof t!=\"object\")throw new TypeError(\"Busboy expected an options-Object.\");if(typeof t.headers!=\"object\")throw new TypeError(\"Busboy expected an options-Object with headers-attribute.\");if(typeof t.headers[\"content-type\"]!=\"string\")throw new TypeError(\"Missing Content-Type-header.\");let{headers:e,...r}=t;this.opts={autoDestroy:!1,...r},eQ.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(e),this._finished=!1}hK(lo,eQ);lo.prototype.emit=function(t){if(t===\"finish\"){if(this._done){if(this._finished)return}else{this._parser?.end();return}this._finished=!0}eQ.prototype.emit.apply(this,arguments)};lo.prototype.getParserByHeaders=function(t){let e=fK(t[\"content-type\"]),r={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:t,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:e,preservePath:this.opts.preservePath};if(bx.detect.test(e[0]))return new bx(this,r);if(kx.detect.test(e[0]))return new kx(this,r);throw new Error(\"Unsupported Content-Type.\")};lo.prototype._write=function(t,e,r){this._parser.write(t,r)};ld.exports=lo;ld.exports.default=lo;ld.exports.Busboy=lo;ld.exports.Dicer=gK});var ls=y((APe,Ox)=>{\"use strict\";var{MessageChannel:pK,receiveMessageOnPort:EK}=require(\"worker_threads\"),xx=[\"GET\",\"HEAD\",\"POST\"],CK=new Set(xx),mK=[101,204,205,304],vx=[301,302,303,307,308],yK=new Set(vx),Nx=[\"1\",\"7\",\"9\",\"11\",\"13\",\"15\",\"17\",\"19\",\"20\",\"21\",\"22\",\"23\",\"25\",\"37\",\"42\",\"43\",\"53\",\"69\",\"77\",\"79\",\"87\",\"95\",\"101\",\"102\",\"103\",\"104\",\"109\",\"110\",\"111\",\"113\",\"115\",\"117\",\"119\",\"123\",\"135\",\"137\",\"139\",\"143\",\"161\",\"179\",\"389\",\"427\",\"465\",\"512\",\"513\",\"514\",\"515\",\"526\",\"530\",\"531\",\"532\",\"540\",\"548\",\"554\",\"556\",\"563\",\"587\",\"601\",\"636\",\"989\",\"990\",\"993\",\"995\",\"1719\",\"1720\",\"1723\",\"2049\",\"3659\",\"4045\",\"5060\",\"5061\",\"6000\",\"6566\",\"6665\",\"6666\",\"6667\",\"6668\",\"6669\",\"6697\",\"10080\"],IK=new Set(Nx),Px=[\"\",\"no-referrer\",\"no-referrer-when-downgrade\",\"same-origin\",\"origin\",\"strict-origin\",\"origin-when-cross-origin\",\"strict-origin-when-cross-origin\",\"unsafe-url\"],BK=new Set(Px),QK=[\"follow\",\"manual\",\"error\"],Mx=[\"GET\",\"HEAD\",\"OPTIONS\",\"TRACE\"],wK=new Set(Mx),RK=[\"navigate\",\"same-origin\",\"no-cors\",\"cors\"],SK=[\"omit\",\"same-origin\",\"include\"],TK=[\"default\",\"no-store\",\"reload\",\"no-cache\",\"force-cache\",\"only-if-cached\"],bK=[\"content-encoding\",\"content-language\",\"content-location\",\"content-type\",\"content-length\"],kK=[\"half\"],Fx=[\"CONNECT\",\"TRACE\",\"TRACK\"],DK=new Set(Fx),Lx=[\"audio\",\"audioworklet\",\"font\",\"image\",\"manifest\",\"paintworklet\",\"script\",\"style\",\"track\",\"video\",\"xslt\",\"\"],xK=new Set(Lx),vK=globalThis.DOMException??(()=>{try{atob(\"~\")}catch(t){return Object.getPrototypeOf(t).constructor}})(),_c,NK=globalThis.structuredClone??function(e,r=void 0){if(arguments.length===0)throw new TypeError(\"missing argument\");return _c||(_c=new pK),_c.port1.unref(),_c.port2.unref(),_c.port1.postMessage(e,r?.transfer),EK(_c.port2).message};Ox.exports={DOMException:vK,structuredClone:NK,subresource:Lx,forbiddenMethods:Fx,requestBodyHeader:bK,referrerPolicy:Px,requestRedirect:QK,requestMode:RK,requestCredentials:SK,requestCache:TK,redirectStatus:vx,corsSafeListedMethods:xx,nullBodyStatus:mK,safeMethods:Mx,badPorts:Nx,requestDuplex:kK,subresourceSet:xK,badPortsSet:IK,redirectStatusSet:yK,corsSafeListedMethodsSet:CK,safeMethodsSet:wK,forbiddenMethodsSet:DK,referrerPolicySet:BK}});var Hc=y((cPe,Ux)=>{\"use strict\";var tQ=Symbol.for(\"undici.globalOrigin.1\");function PK(){return globalThis[tQ]}function MK(t){if(t===void 0){Object.defineProperty(globalThis,tQ,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let e=new URL(t);if(e.protocol!==\"http:\"&&e.protocol!==\"https:\")throw new TypeError(`Only http & https urls are allowed, received ${e.protocol}`);Object.defineProperty(globalThis,tQ,{value:e,writable:!0,enumerable:!1,configurable:!1})}Ux.exports={getGlobalOrigin:PK,setGlobalOrigin:MK}});var On=y((lPe,Kx)=>{\"use strict\";var{redirectStatusSet:FK,referrerPolicySet:LK,badPortsSet:OK}=ls(),{getGlobalOrigin:UK}=Hc(),{performance:_K}=require(\"perf_hooks\"),{isBlobLike:HK,toUSVString:qK,ReadableStreamFrom:GK}=De(),qc=require(\"assert\"),{isUint8Array:YK}=require(\"util/types\"),_x=[],nE;try{nE=require(\"crypto\");let t=[\"sha256\",\"sha384\",\"sha512\"];_x=nE.getHashes().filter(e=>t.includes(e))}catch{}function Hx(t){let e=t.urlList,r=e.length;return r===0?null:e[r-1].toString()}function VK(t,e){if(!FK.has(t.status))return null;let r=t.headersList.get(\"location\");return r!==null&&Gx(r)&&(r=new URL(r,Hx(t))),r&&!r.hash&&(r.hash=e),r}function dd(t){return t.urlList[t.urlList.length-1]}function JK(t){let e=dd(t);return Jx(e)&&OK.has(e.port)?\"blocked\":\"allowed\"}function KK(t){return t instanceof Error||t?.constructor?.name===\"Error\"||t?.constructor?.name===\"DOMException\"}function WK(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}function zK(t){switch(t){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return t>=33&&t<=126}}function qx(t){if(t.length===0)return!1;for(let e=0;e<t.length;++e)if(!zK(t.charCodeAt(e)))return!1;return!0}function jK(t){return qx(t)}function Gx(t){return!(t.startsWith(\"\t\")||t.startsWith(\" \")||t.endsWith(\"\t\")||t.endsWith(\" \")||t.includes(\"\\0\")||t.includes(\"\\r\")||t.includes(`\n`))}function $K(t,e){let{headersList:r}=e,n=(r.get(\"referrer-policy\")??\"\").split(\",\"),i=\"\";if(n.length>0)for(let o=n.length;o!==0;o--){let s=n[o-1].trim();if(LK.has(s)){i=s;break}}i!==\"\"&&(t.referrerPolicy=i)}function XK(){return\"allowed\"}function ZK(){return\"success\"}function eW(){return\"success\"}function tW(t){let e=null;e=t.mode,t.headersList.set(\"sec-fetch-mode\",e)}function rW(t){let e=t.origin;if(t.responseTainting===\"cors\"||t.mode===\"websocket\")e&&t.headersList.append(\"origin\",e);else if(t.method!==\"GET\"&&t.method!==\"HEAD\"){switch(t.referrerPolicy){case\"no-referrer\":e=null;break;case\"no-referrer-when-downgrade\":case\"strict-origin\":case\"strict-origin-when-cross-origin\":t.origin&&iQ(t.origin)&&!iQ(dd(t))&&(e=null);break;case\"same-origin\":iE(t,dd(t))||(e=null);break;default:}e&&t.headersList.append(\"origin\",e)}}function nW(t){return _K.now()}function iW(t){return{startTime:t.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:t.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function oW(){return{referrerPolicy:\"strict-origin-when-cross-origin\"}}function sW(t){return{referrerPolicy:t.referrerPolicy}}function aW(t){let e=t.referrerPolicy;qc(e);let r=null;if(t.referrer===\"client\"){let a=UK();if(!a||a.origin===\"null\")return\"no-referrer\";r=new URL(a)}else t.referrer instanceof URL&&(r=t.referrer);let n=rQ(r),i=rQ(r,!0);n.toString().length>4096&&(n=i);let o=iE(t,n),s=ud(n)&&!ud(t.url);switch(e){case\"origin\":return i??rQ(r,!0);case\"unsafe-url\":return n;case\"same-origin\":return o?i:\"no-referrer\";case\"origin-when-cross-origin\":return o?n:i;case\"strict-origin-when-cross-origin\":{let a=dd(t);return iE(n,a)?n:ud(n)&&!ud(a)?\"no-referrer\":i}case\"strict-origin\":case\"no-referrer-when-downgrade\":default:return s?\"no-referrer\":i}}function rQ(t,e){return qc(t instanceof URL),t.protocol===\"file:\"||t.protocol===\"about:\"||t.protocol===\"blank:\"?\"no-referrer\":(t.username=\"\",t.password=\"\",t.hash=\"\",e&&(t.pathname=\"\",t.search=\"\"),t)}function ud(t){if(!(t instanceof URL))return!1;if(t.href===\"about:blank\"||t.href===\"about:srcdoc\"||t.protocol===\"data:\"||t.protocol===\"file:\")return!0;return e(t.origin);function e(r){if(r==null||r===\"null\")return!1;let n=new URL(r);return!!(n.protocol===\"https:\"||n.protocol===\"wss:\"||/^127(?:\\.[0-9]+){0,2}\\.[0-9]+$|^\\[(?:0*:)*?:?0*1\\]$/.test(n.hostname)||n.hostname===\"localhost\"||n.hostname.includes(\"localhost.\")||n.hostname.endsWith(\".localhost\"))}}function AW(t,e){if(nE===void 0)return!0;let r=Yx(e);if(r===\"no metadata\"||r.length===0)return!0;let n=lW(r),i=uW(r,n);for(let o of i){let s=o.algo,a=o.hash,A=nE.createHash(s).update(t).digest(\"base64\");if(A[A.length-1]===\"=\"&&(A[A.length-2]===\"=\"?A=A.slice(0,-2):A=A.slice(0,-1)),dW(A,a))return!0}return!1}var cW=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\\s|$)( +[!-~]*)?)?/i;function Yx(t){let e=[],r=!0;for(let n of t.split(\" \")){r=!1;let i=cW.exec(n);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let o=i.groups.algo.toLowerCase();_x.includes(o)&&e.push(i.groups)}return r===!0?\"no metadata\":e}function lW(t){let e=t[0].algo;if(e[3]===\"5\")return e;for(let r=1;r<t.length;++r){let n=t[r];if(n.algo[3]===\"5\"){e=\"sha512\";break}else{if(e[3]===\"3\")continue;n.algo[3]===\"3\"&&(e=\"sha384\")}}return e}function uW(t,e){if(t.length===1)return t;let r=0;for(let n=0;n<t.length;++n)t[n].algo===e&&(t[r++]=t[n]);return t.length=r,t}function dW(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r]){if(t[r]===\"+\"&&e[r]===\"-\"||t[r]===\"/\"&&e[r]===\"_\")continue;return!1}return!0}function hW(t){}function iE(t,e){return t.origin===e.origin&&t.origin===\"null\"||t.protocol===e.protocol&&t.hostname===e.hostname&&t.port===e.port}function gW(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}function fW(t){return t.controller.state===\"aborted\"}function pW(t){return t.controller.state===\"aborted\"||t.controller.state===\"terminated\"}var oQ={delete:\"DELETE\",DELETE:\"DELETE\",get:\"GET\",GET:\"GET\",head:\"HEAD\",HEAD:\"HEAD\",options:\"OPTIONS\",OPTIONS:\"OPTIONS\",post:\"POST\",POST:\"POST\",put:\"PUT\",PUT:\"PUT\"};Object.setPrototypeOf(oQ,null);function EW(t){return oQ[t.toLowerCase()]??t}function CW(t){let e=JSON.stringify(t);if(e===void 0)throw new TypeError(\"Value is not JSON serializable\");return qc(typeof e==\"string\"),e}var mW=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function yW(t,e,r){let n={index:0,kind:r,target:t},i={next(){if(Object.getPrototypeOf(this)!==i)throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let{index:o,kind:s,target:a}=n,A=a(),c=A.length;if(o>=c)return{value:void 0,done:!0};let l=A[o];return n.index=o+1,IW(l,s)},[Symbol.toStringTag]:`${e} Iterator`};return Object.setPrototypeOf(i,mW),Object.setPrototypeOf({},i)}function IW(t,e){let r;switch(e){case\"key\":{r=t[0];break}case\"value\":{r=t[1];break}case\"key+value\":{r=t;break}}return{value:r,done:!1}}async function BW(t,e,r){let n=e,i=r,o;try{o=t.stream.getReader()}catch(s){i(s);return}try{let s=await Vx(o);n(s)}catch(s){i(s)}}var nQ=globalThis.ReadableStream;function QW(t){return nQ||(nQ=require(\"stream/web\").ReadableStream),t instanceof nQ||t[Symbol.toStringTag]===\"ReadableStream\"&&typeof t.tee==\"function\"}var wW=65535;function RW(t){return t.length<wW?String.fromCharCode(...t):t.reduce((e,r)=>e+String.fromCharCode(r),\"\")}function SW(t){try{t.close()}catch(e){if(!e.message.includes(\"Controller is already closed\"))throw e}}function TW(t){for(let e=0;e<t.length;e++)qc(t.charCodeAt(e)<=255);return t}async function Vx(t){let e=[],r=0;for(;;){let{done:n,value:i}=await t.read();if(n)return Buffer.concat(e,r);if(!YK(i))throw new TypeError(\"Received non-Uint8Array chunk\");e.push(i),r+=i.length}}function bW(t){qc(\"protocol\"in t);let e=t.protocol;return e===\"about:\"||e===\"blob:\"||e===\"data:\"}function iQ(t){return typeof t==\"string\"?t.startsWith(\"https:\"):t.protocol===\"https:\"}function Jx(t){qc(\"protocol\"in t);let e=t.protocol;return e===\"http:\"||e===\"https:\"}var kW=Object.hasOwn||((t,e)=>Object.prototype.hasOwnProperty.call(t,e));Kx.exports={isAborted:fW,isCancelled:pW,createDeferredPromise:gW,ReadableStreamFrom:GK,toUSVString:qK,tryUpgradeRequestToAPotentiallyTrustworthyURL:hW,coarsenedSharedCurrentTime:nW,determineRequestsReferrer:aW,makePolicyContainer:oW,clonePolicyContainer:sW,appendFetchMetadata:tW,appendRequestOriginHeader:rW,TAOCheck:eW,corsCheck:ZK,crossOriginResourcePolicyCheck:XK,createOpaqueTimingInfo:iW,setRequestReferrerPolicyOnRedirect:$K,isValidHTTPToken:qx,requestBadPort:JK,requestCurrentURL:dd,responseURL:Hx,responseLocationURL:VK,isBlobLike:HK,isURLPotentiallyTrustworthy:ud,isValidReasonPhrase:WK,sameOrigin:iE,normalizeMethod:EW,serializeJavascriptValueToJSONString:CW,makeIterator:yW,isValidHeaderName:jK,isValidHeaderValue:Gx,hasOwn:kW,isErrorLike:KK,fullyReadBody:BW,bytesMatch:AW,isReadableStreamLike:QW,readableStreamClose:SW,isomorphicEncode:TW,isomorphicDecode:RW,urlIsLocal:bW,urlHasHttpsScheme:iQ,urlIsHttpHttpsScheme:Jx,readAllBytes:Vx,normalizeMethodRecord:oQ,parseMetadata:Yx}});var uo=y((uPe,Wx)=>{\"use strict\";Wx.exports={kUrl:Symbol(\"url\"),kHeaders:Symbol(\"headers\"),kSignal:Symbol(\"signal\"),kState:Symbol(\"state\"),kGuard:Symbol(\"guard\"),kRealm:Symbol(\"realm\")}});var Ir=y((dPe,jx)=>{\"use strict\";var{types:Ri}=require(\"util\"),{hasOwn:zx,toUSVString:DW}=On(),q={};q.converters={};q.util={};q.errors={};q.errors.exception=function(t){return new TypeError(`${t.header}: ${t.message}`)};q.errors.conversionFailed=function(t){let e=t.types.length===1?\"\":\" one of\",r=`${t.argument} could not be converted to${e}: ${t.types.join(\", \")}.`;return q.errors.exception({header:t.prefix,message:r})};q.errors.invalidArgument=function(t){return q.errors.exception({header:t.prefix,message:`\"${t.value}\" is an invalid ${t.type}.`})};q.brandCheck=function(t,e,r=void 0){if(r?.strict!==!1&&!(t instanceof e))throw new TypeError(\"Illegal invocation\");return t?.[Symbol.toStringTag]===e.prototype[Symbol.toStringTag]};q.argumentLengthCheck=function({length:t},e,r){if(t<e)throw q.errors.exception({message:`${e} argument${e!==1?\"s\":\"\"} required, but${t?\" only\":\"\"} ${t} found.`,...r})};q.illegalConstructor=function(){throw q.errors.exception({header:\"TypeError\",message:\"Illegal constructor\"})};q.util.Type=function(t){switch(typeof t){case\"undefined\":return\"Undefined\";case\"boolean\":return\"Boolean\";case\"string\":return\"String\";case\"symbol\":return\"Symbol\";case\"number\":return\"Number\";case\"bigint\":return\"BigInt\";case\"function\":case\"object\":return t===null?\"Null\":\"Object\"}};q.util.ConvertToInt=function(t,e,r,n={}){let i,o;e===64?(i=Math.pow(2,53)-1,r===\"unsigned\"?o=0:o=Math.pow(-2,53)+1):r===\"unsigned\"?(o=0,i=Math.pow(2,e)-1):(o=Math.pow(-2,e)-1,i=Math.pow(2,e-1)-1);let s=Number(t);if(s===0&&(s=0),n.enforceRange===!0){if(Number.isNaN(s)||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)throw q.errors.exception({header:\"Integer conversion\",message:`Could not convert ${t} to an integer.`});if(s=q.util.IntegerPart(s),s<o||s>i)throw q.errors.exception({header:\"Integer conversion\",message:`Value must be between ${o}-${i}, got ${s}.`});return s}return!Number.isNaN(s)&&n.clamp===!0?(s=Math.min(Math.max(s,o),i),Math.floor(s)%2===0?s=Math.floor(s):s=Math.ceil(s),s):Number.isNaN(s)||s===0&&Object.is(0,s)||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY?0:(s=q.util.IntegerPart(s),s=s%Math.pow(2,e),r===\"signed\"&&s>=Math.pow(2,e)-1?s-Math.pow(2,e):s)};q.util.IntegerPart=function(t){let e=Math.floor(Math.abs(t));return t<0?-1*e:e};q.sequenceConverter=function(t){return e=>{if(q.util.Type(e)!==\"Object\")throw q.errors.exception({header:\"Sequence\",message:`Value of type ${q.util.Type(e)} is not an Object.`});let r=e?.[Symbol.iterator]?.(),n=[];if(r===void 0||typeof r.next!=\"function\")throw q.errors.exception({header:\"Sequence\",message:\"Object is not an iterator.\"});for(;;){let{done:i,value:o}=r.next();if(i)break;n.push(t(o))}return n}};q.recordConverter=function(t,e){return r=>{if(q.util.Type(r)!==\"Object\")throw q.errors.exception({header:\"Record\",message:`Value of type ${q.util.Type(r)} is not an Object.`});let n={};if(!Ri.isProxy(r)){let o=Object.keys(r);for(let s of o){let a=t(s),A=e(r[s]);n[a]=A}return n}let i=Reflect.ownKeys(r);for(let o of i)if(Reflect.getOwnPropertyDescriptor(r,o)?.enumerable){let a=t(o),A=e(r[o]);n[a]=A}return n}};q.interfaceConverter=function(t){return(e,r={})=>{if(r.strict!==!1&&!(e instanceof t))throw q.errors.exception({header:t.name,message:`Expected ${e} to be an instance of ${t.name}.`});return e}};q.dictionaryConverter=function(t){return e=>{let r=q.util.Type(e),n={};if(r===\"Null\"||r===\"Undefined\")return n;if(r!==\"Object\")throw q.errors.exception({header:\"Dictionary\",message:`Expected ${e} to be one of: Null, Undefined, Object.`});for(let i of t){let{key:o,defaultValue:s,required:a,converter:A}=i;if(a===!0&&!zx(e,o))throw q.errors.exception({header:\"Dictionary\",message:`Missing required key \"${o}\".`});let c=e[o],l=zx(i,\"defaultValue\");if(l&&c!==null&&(c=c??s),a||l||c!==void 0){if(c=A(c),i.allowedValues&&!i.allowedValues.includes(c))throw q.errors.exception({header:\"Dictionary\",message:`${c} is not an accepted type. Expected one of ${i.allowedValues.join(\", \")}.`});n[o]=c}}return n}};q.nullableConverter=function(t){return e=>e===null?e:t(e)};q.converters.DOMString=function(t,e={}){if(t===null&&e.legacyNullToEmptyString)return\"\";if(typeof t==\"symbol\")throw new TypeError(\"Could not convert argument of type symbol to string.\");return String(t)};q.converters.ByteString=function(t){let e=q.converters.DOMString(t);for(let r=0;r<e.length;r++)if(e.charCodeAt(r)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${r} has a value of ${e.charCodeAt(r)} which is greater than 255.`);return e};q.converters.USVString=DW;q.converters.boolean=function(t){return!!t};q.converters.any=function(t){return t};q.converters[\"long long\"]=function(t){return q.util.ConvertToInt(t,64,\"signed\")};q.converters[\"unsigned long long\"]=function(t){return q.util.ConvertToInt(t,64,\"unsigned\")};q.converters[\"unsigned long\"]=function(t){return q.util.ConvertToInt(t,32,\"unsigned\")};q.converters[\"unsigned short\"]=function(t,e){return q.util.ConvertToInt(t,16,\"unsigned\",e)};q.converters.ArrayBuffer=function(t,e={}){if(q.util.Type(t)!==\"Object\"||!Ri.isAnyArrayBuffer(t))throw q.errors.conversionFailed({prefix:`${t}`,argument:`${t}`,types:[\"ArrayBuffer\"]});if(e.allowShared===!1&&Ri.isSharedArrayBuffer(t))throw q.errors.exception({header:\"ArrayBuffer\",message:\"SharedArrayBuffer is not allowed.\"});return t};q.converters.TypedArray=function(t,e,r={}){if(q.util.Type(t)!==\"Object\"||!Ri.isTypedArray(t)||t.constructor.name!==e.name)throw q.errors.conversionFailed({prefix:`${e.name}`,argument:`${t}`,types:[e.name]});if(r.allowShared===!1&&Ri.isSharedArrayBuffer(t.buffer))throw q.errors.exception({header:\"ArrayBuffer\",message:\"SharedArrayBuffer is not allowed.\"});return t};q.converters.DataView=function(t,e={}){if(q.util.Type(t)!==\"Object\"||!Ri.isDataView(t))throw q.errors.exception({header:\"DataView\",message:\"Object is not a DataView.\"});if(e.allowShared===!1&&Ri.isSharedArrayBuffer(t.buffer))throw q.errors.exception({header:\"ArrayBuffer\",message:\"SharedArrayBuffer is not allowed.\"});return t};q.converters.BufferSource=function(t,e={}){if(Ri.isAnyArrayBuffer(t))return q.converters.ArrayBuffer(t,e);if(Ri.isTypedArray(t))return q.converters.TypedArray(t,t.constructor);if(Ri.isDataView(t))return q.converters.DataView(t,e);throw new TypeError(`Could not convert ${t} to a BufferSource.`)};q.converters[\"sequence<ByteString>\"]=q.sequenceConverter(q.converters.ByteString);q.converters[\"sequence<sequence<ByteString>>\"]=q.sequenceConverter(q.converters[\"sequence<ByteString>\"]);q.converters[\"record<ByteString, ByteString>\"]=q.recordConverter(q.converters.ByteString,q.converters.ByteString);jx.exports={webidl:q}});var ii=y((hPe,rv)=>{\"use strict\";var sE=require(\"assert\"),{atob:xW}=require(\"buffer\"),{isomorphicDecode:vW}=On(),NW=new TextEncoder,oE=/^[!#$%&'*+-.^_|~A-Za-z0-9]+$/,PW=/(\\u000A|\\u000D|\\u0009|\\u0020)/,MW=/[\\u0009|\\u0020-\\u007E|\\u0080-\\u00FF]/;function FW(t){sE(t.protocol===\"data:\");let e=Zx(t,!0);e=e.slice(5);let r={position:0},n=Gc(\",\",e,r),i=n.length;if(n=_W(n,!0,!0),r.position>=e.length)return\"failure\";r.position++;let o=e.slice(i+1),s=ev(o);if(/;(\\u0020){0,}base64$/i.test(n)){let A=vW(s);if(s=OW(A),s===\"failure\")return\"failure\";n=n.slice(0,-6),n=n.replace(/(\\u0020)+$/,\"\"),n=n.slice(0,-1)}n.startsWith(\";\")&&(n=\"text/plain\"+n);let a=aQ(n);return a===\"failure\"&&(a=aQ(\"text/plain;charset=US-ASCII\")),{mimeType:a,body:s}}function Zx(t,e=!1){if(!e)return t.href;let r=t.href,n=t.hash.length;return n===0?r:r.substring(0,r.length-n)}function aE(t,e,r){let n=\"\";for(;r.position<e.length&&t(e[r.position]);)n+=e[r.position],r.position++;return n}function Gc(t,e,r){let n=e.indexOf(t,r.position),i=r.position;return n===-1?(r.position=e.length,e.slice(i)):(r.position=n,e.slice(i,r.position))}function ev(t){let e=NW.encode(t);return LW(e)}function LW(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];if(n!==37)e.push(n);else if(n===37&&!/^[0-9A-Fa-f]{2}$/i.test(String.fromCharCode(t[r+1],t[r+2])))e.push(37);else{let i=String.fromCharCode(t[r+1],t[r+2]),o=Number.parseInt(i,16);e.push(o),r+=2}}return Uint8Array.from(e)}function aQ(t){t=sQ(t,!0,!0);let e={position:0},r=Gc(\"/\",t,e);if(r.length===0||!oE.test(r)||e.position>t.length)return\"failure\";e.position++;let n=Gc(\";\",t,e);if(n=sQ(n,!1,!0),n.length===0||!oE.test(n))return\"failure\";let i=r.toLowerCase(),o=n.toLowerCase(),s={type:i,subtype:o,parameters:new Map,essence:`${i}/${o}`};for(;e.position<t.length;){e.position++,aE(c=>PW.test(c),t,e);let a=aE(c=>c!==\";\"&&c!==\"=\",t,e);if(a=a.toLowerCase(),e.position<t.length){if(t[e.position]===\";\")continue;e.position++}if(e.position>t.length)break;let A=null;if(t[e.position]==='\"')A=tv(t,e,!0),Gc(\";\",t,e);else if(A=Gc(\";\",t,e),A=sQ(A,!1,!0),A.length===0)continue;a.length!==0&&oE.test(a)&&(A.length===0||MW.test(A))&&!s.parameters.has(a)&&s.parameters.set(a,A)}return s}function OW(t){if(t=t.replace(/[\\u0009\\u000A\\u000C\\u000D\\u0020]/g,\"\"),t.length%4===0&&(t=t.replace(/=?=$/,\"\")),t.length%4===1||/[^+/0-9A-Za-z]/.test(t))return\"failure\";let e=xW(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}function tv(t,e,r){let n=e.position,i=\"\";for(sE(t[e.position]==='\"'),e.position++;i+=aE(s=>s!=='\"'&&s!==\"\\\\\",t,e),!(e.position>=t.length);){let o=t[e.position];if(e.position++,o===\"\\\\\"){if(e.position>=t.length){i+=\"\\\\\";break}i+=t[e.position],e.position++}else{sE(o==='\"');break}}return r?i:t.slice(n,e.position)}function UW(t){sE(t!==\"failure\");let{parameters:e,essence:r}=t,n=r;for(let[i,o]of e.entries())n+=\";\",n+=i,n+=\"=\",oE.test(o)||(o=o.replace(/(\\\\|\")/g,\"\\\\$1\"),o='\"'+o,o+='\"'),n+=o;return n}function $x(t){return t===\"\\r\"||t===`\n`||t===\"\t\"||t===\" \"}function sQ(t,e=!0,r=!0){let n=0,i=t.length-1;if(e)for(;n<t.length&&$x(t[n]);n++);if(r)for(;i>0&&$x(t[i]);i--);return t.slice(n,i+1)}function Xx(t){return t===\"\\r\"||t===`\n`||t===\"\t\"||t===\"\\f\"||t===\" \"}function _W(t,e=!0,r=!0){let n=0,i=t.length-1;if(e)for(;n<t.length&&Xx(t[n]);n++);if(r)for(;i>0&&Xx(t[i]);i--);return t.slice(n,i+1)}rv.exports={dataURLProcessor:FW,URLSerializer:Zx,collectASequenceOfCodePoints:aE,collectASequenceOfCodePointsFast:Gc,stringPercentDecode:ev,parseMIMEType:aQ,collectAnHTTPQuotedString:tv,serializeAMimeType:UW}});var AE=y((gPe,av)=>{\"use strict\";var{Blob:ov,File:nv}=require(\"buffer\"),{types:AQ}=require(\"util\"),{kState:un}=uo(),{isBlobLike:sv}=On(),{webidl:Oe}=Ir(),{parseMIMEType:HW,serializeAMimeType:qW}=ii(),{kEnumerableProperty:iv}=De(),GW=new TextEncoder,hd=class t extends ov{constructor(e,r,n={}){Oe.argumentLengthCheck(arguments,2,{header:\"File constructor\"}),e=Oe.converters[\"sequence<BlobPart>\"](e),r=Oe.converters.USVString(r),n=Oe.converters.FilePropertyBag(n);let i=r,o=n.type,s;e:{if(o){if(o=HW(o),o===\"failure\"){o=\"\";break e}o=qW(o).toLowerCase()}s=n.lastModified}super(YW(e,n),{type:o}),this[un]={name:i,lastModified:s,type:o}}get name(){return Oe.brandCheck(this,t),this[un].name}get lastModified(){return Oe.brandCheck(this,t),this[un].lastModified}get type(){return Oe.brandCheck(this,t),this[un].type}},cQ=class t{constructor(e,r,n={}){let i=r,o=n.type,s=n.lastModified??Date.now();this[un]={blobLike:e,name:i,type:o,lastModified:s}}stream(...e){return Oe.brandCheck(this,t),this[un].blobLike.stream(...e)}arrayBuffer(...e){return Oe.brandCheck(this,t),this[un].blobLike.arrayBuffer(...e)}slice(...e){return Oe.brandCheck(this,t),this[un].blobLike.slice(...e)}text(...e){return Oe.brandCheck(this,t),this[un].blobLike.text(...e)}get size(){return Oe.brandCheck(this,t),this[un].blobLike.size}get type(){return Oe.brandCheck(this,t),this[un].blobLike.type}get name(){return Oe.brandCheck(this,t),this[un].name}get lastModified(){return Oe.brandCheck(this,t),this[un].lastModified}get[Symbol.toStringTag](){return\"File\"}};Object.defineProperties(hd.prototype,{[Symbol.toStringTag]:{value:\"File\",configurable:!0},name:iv,lastModified:iv});Oe.converters.Blob=Oe.interfaceConverter(ov);Oe.converters.BlobPart=function(t,e){if(Oe.util.Type(t)===\"Object\"){if(sv(t))return Oe.converters.Blob(t,{strict:!1});if(ArrayBuffer.isView(t)||AQ.isAnyArrayBuffer(t))return Oe.converters.BufferSource(t,e)}return Oe.converters.USVString(t,e)};Oe.converters[\"sequence<BlobPart>\"]=Oe.sequenceConverter(Oe.converters.BlobPart);Oe.converters.FilePropertyBag=Oe.dictionaryConverter([{key:\"lastModified\",converter:Oe.converters[\"long long\"],get defaultValue(){return Date.now()}},{key:\"type\",converter:Oe.converters.DOMString,defaultValue:\"\"},{key:\"endings\",converter:t=>(t=Oe.converters.DOMString(t),t=t.toLowerCase(),t!==\"native\"&&(t=\"transparent\"),t),defaultValue:\"transparent\"}]);function YW(t,e){let r=[];for(let n of t)if(typeof n==\"string\"){let i=n;e.endings===\"native\"&&(i=VW(i)),r.push(GW.encode(i))}else AQ.isAnyArrayBuffer(n)||AQ.isTypedArray(n)?n.buffer?r.push(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)):r.push(new Uint8Array(n)):sv(n)&&r.push(n);return r}function VW(t){let e=`\n`;return process.platform===\"win32\"&&(e=`\\r\n`),t.replace(/\\r?\\n/g,e)}function JW(t){return nv&&t instanceof nv||t instanceof hd||t&&(typeof t.stream==\"function\"||typeof t.arrayBuffer==\"function\")&&t[Symbol.toStringTag]===\"File\"}av.exports={File:hd,FileLike:cQ,isFileLike:JW}});var lE=y((fPe,dv)=>{\"use strict\";var{isBlobLike:cE,toUSVString:KW,makeIterator:lQ}=On(),{kState:ar}=uo(),{File:uv,FileLike:Av,isFileLike:WW}=AE(),{webidl:He}=Ir(),{Blob:zW,File:uQ}=require(\"buffer\"),cv=uQ??uv,Yc=class t{constructor(e){if(e!==void 0)throw He.errors.conversionFailed({prefix:\"FormData constructor\",argument:\"Argument 1\",types:[\"undefined\"]});this[ar]=[]}append(e,r,n=void 0){if(He.brandCheck(this,t),He.argumentLengthCheck(arguments,2,{header:\"FormData.append\"}),arguments.length===3&&!cE(r))throw new TypeError(\"Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'\");e=He.converters.USVString(e),r=cE(r)?He.converters.Blob(r,{strict:!1}):He.converters.USVString(r),n=arguments.length===3?He.converters.USVString(n):void 0;let i=lv(e,r,n);this[ar].push(i)}delete(e){He.brandCheck(this,t),He.argumentLengthCheck(arguments,1,{header:\"FormData.delete\"}),e=He.converters.USVString(e),this[ar]=this[ar].filter(r=>r.name!==e)}get(e){He.brandCheck(this,t),He.argumentLengthCheck(arguments,1,{header:\"FormData.get\"}),e=He.converters.USVString(e);let r=this[ar].findIndex(n=>n.name===e);return r===-1?null:this[ar][r].value}getAll(e){return He.brandCheck(this,t),He.argumentLengthCheck(arguments,1,{header:\"FormData.getAll\"}),e=He.converters.USVString(e),this[ar].filter(r=>r.name===e).map(r=>r.value)}has(e){return He.brandCheck(this,t),He.argumentLengthCheck(arguments,1,{header:\"FormData.has\"}),e=He.converters.USVString(e),this[ar].findIndex(r=>r.name===e)!==-1}set(e,r,n=void 0){if(He.brandCheck(this,t),He.argumentLengthCheck(arguments,2,{header:\"FormData.set\"}),arguments.length===3&&!cE(r))throw new TypeError(\"Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'\");e=He.converters.USVString(e),r=cE(r)?He.converters.Blob(r,{strict:!1}):He.converters.USVString(r),n=arguments.length===3?KW(n):void 0;let i=lv(e,r,n),o=this[ar].findIndex(s=>s.name===e);o!==-1?this[ar]=[...this[ar].slice(0,o),i,...this[ar].slice(o+1).filter(s=>s.name!==e)]:this[ar].push(i)}entries(){return He.brandCheck(this,t),lQ(()=>this[ar].map(e=>[e.name,e.value]),\"FormData\",\"key+value\")}keys(){return He.brandCheck(this,t),lQ(()=>this[ar].map(e=>[e.name,e.value]),\"FormData\",\"key\")}values(){return He.brandCheck(this,t),lQ(()=>this[ar].map(e=>[e.name,e.value]),\"FormData\",\"value\")}forEach(e,r=globalThis){if(He.brandCheck(this,t),He.argumentLengthCheck(arguments,1,{header:\"FormData.forEach\"}),typeof e!=\"function\")throw new TypeError(\"Failed to execute 'forEach' on 'FormData': parameter 1 is not of type 'Function'.\");for(let[n,i]of this)e.apply(r,[i,n,this])}};Yc.prototype[Symbol.iterator]=Yc.prototype.entries;Object.defineProperties(Yc.prototype,{[Symbol.toStringTag]:{value:\"FormData\",configurable:!0}});function lv(t,e,r){if(t=Buffer.from(t).toString(\"utf8\"),typeof e==\"string\")e=Buffer.from(e).toString(\"utf8\");else if(WW(e)||(e=e instanceof zW?new cv([e],\"blob\",{type:e.type}):new Av(e,\"blob\",{type:e.type})),r!==void 0){let n={type:e.type,lastModified:e.lastModified};e=uQ&&e instanceof uQ||e instanceof uv?new cv([e],r,n):new Av(e,r,n)}return{name:t,value:e}}dv.exports={FormData:Yc}});var gd=y((pPe,Iv)=>{\"use strict\";var jW=Dx(),Vc=De(),{ReadableStreamFrom:$W,isBlobLike:hv,isReadableStreamLike:XW,readableStreamClose:ZW,createDeferredPromise:ez,fullyReadBody:tz}=On(),{FormData:gv}=lE(),{kState:go}=uo(),{webidl:dQ}=Ir(),{DOMException:Ev,structuredClone:rz}=ls(),{Blob:nz,File:iz}=require(\"buffer\"),{kBodyUsed:oz}=st(),hQ=require(\"assert\"),{isErrored:sz}=De(),{isUint8Array:Cv,isArrayBuffer:az}=require(\"util/types\"),{File:Az}=AE(),{parseMIMEType:cz,serializeAMimeType:lz}=ii(),gQ;try{let t=require(\"node:crypto\");gQ=e=>t.randomInt(0,e)}catch{gQ=t=>Math.floor(Math.random(t))}var ho=globalThis.ReadableStream,fv=iz??Az,uE=new TextEncoder,uz=new TextDecoder;function mv(t,e=!1){ho||(ho=require(\"stream/web\").ReadableStream);let r=null;t instanceof ho?r=t:hv(t)?r=t.stream():r=new ho({async pull(A){A.enqueue(typeof i==\"string\"?uE.encode(i):i),queueMicrotask(()=>ZW(A))},start(){},type:void 0}),hQ(XW(r));let n=null,i=null,o=null,s=null;if(typeof t==\"string\")i=t,s=\"text/plain;charset=UTF-8\";else if(t instanceof URLSearchParams)i=t.toString(),s=\"application/x-www-form-urlencoded;charset=UTF-8\";else if(az(t))i=new Uint8Array(t.slice());else if(ArrayBuffer.isView(t))i=new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));else if(Vc.isFormDataLike(t)){let A=`----formdata-undici-0${`${gQ(1e11)}`.padStart(11,\"0\")}`,c=`--${A}\\r\nContent-Disposition: form-data`;let l=f=>f.replace(/\\n/g,\"%0A\").replace(/\\r/g,\"%0D\").replace(/\"/g,\"%22\"),u=f=>f.replace(/\\r?\\n|\\r/g,`\\r\n`),d=[],h=new Uint8Array([13,10]);o=0;let g=!1;for(let[f,C]of t)if(typeof C==\"string\"){let m=uE.encode(c+`; name=\"${l(u(f))}\"\\r\n\\r\n${u(C)}\\r\n`);d.push(m),o+=m.byteLength}else{let m=uE.encode(`${c}; name=\"${l(u(f))}\"`+(C.name?`; filename=\"${l(C.name)}\"`:\"\")+`\\r\nContent-Type: ${C.type||\"application/octet-stream\"}\\r\n\\r\n`);d.push(m,C,h),typeof C.size==\"number\"?o+=m.byteLength+C.size+h.byteLength:g=!0}let p=uE.encode(`--${A}--`);d.push(p),o+=p.byteLength,g&&(o=null),i=t,n=async function*(){for(let f of d)f.stream?yield*f.stream():yield f},s=\"multipart/form-data; boundary=\"+A}else if(hv(t))i=t,o=t.size,t.type&&(s=t.type);else if(typeof t[Symbol.asyncIterator]==\"function\"){if(e)throw new TypeError(\"keepalive\");if(Vc.isDisturbed(t)||t.locked)throw new TypeError(\"Response body object should not be disturbed or locked\");r=t instanceof ho?t:$W(t)}if((typeof i==\"string\"||Vc.isBuffer(i))&&(o=Buffer.byteLength(i)),n!=null){let A;r=new ho({async start(){A=n(t)[Symbol.asyncIterator]()},async pull(c){let{value:l,done:u}=await A.next();return u?queueMicrotask(()=>{c.close()}):sz(r)||c.enqueue(new Uint8Array(l)),c.desiredSize>0},async cancel(c){await A.return()},type:void 0})}return[{stream:r,source:i,length:o},s]}function dz(t,e=!1){return ho||(ho=require(\"stream/web\").ReadableStream),t instanceof ho&&(hQ(!Vc.isDisturbed(t),\"The body has already been consumed.\"),hQ(!t.locked,\"The stream is locked.\")),mv(t,e)}function hz(t){let[e,r]=t.stream.tee(),n=rz(r,{transfer:[r]}),[,i]=n.tee();return t.stream=e,{stream:i,length:t.length,source:t.source}}async function*pv(t){if(t)if(Cv(t))yield t;else{let e=t.stream;if(Vc.isDisturbed(e))throw new TypeError(\"The body has already been consumed.\");if(e.locked)throw new TypeError(\"The stream is locked.\");e[oz]=!0,yield*e}}function fQ(t){if(t.aborted)throw new Ev(\"The operation was aborted.\",\"AbortError\")}function gz(t){return{blob(){return dE(this,r=>{let n=Cz(this);return n===\"failure\"?n=\"\":n&&(n=lz(n)),new nz([r],{type:n})},t)},arrayBuffer(){return dE(this,r=>new Uint8Array(r).buffer,t)},text(){return dE(this,yv,t)},json(){return dE(this,Ez,t)},async formData(){dQ.brandCheck(this,t),fQ(this[go]);let r=this.headers.get(\"Content-Type\");if(/multipart\\/form-data/.test(r)){let n={};for(let[a,A]of this.headers)n[a.toLowerCase()]=A;let i=new gv,o;try{o=new jW({headers:n,preservePath:!0})}catch(a){throw new Ev(`${a}`,\"AbortError\")}o.on(\"field\",(a,A)=>{i.append(a,A)}),o.on(\"file\",(a,A,c,l,u)=>{let d=[];if(l===\"base64\"||l.toLowerCase()===\"base64\"){let h=\"\";A.on(\"data\",g=>{h+=g.toString().replace(/[\\r\\n]/gm,\"\");let p=h.length-h.length%4;d.push(Buffer.from(h.slice(0,p),\"base64\")),h=h.slice(p)}),A.on(\"end\",()=>{d.push(Buffer.from(h,\"base64\")),i.append(a,new fv(d,c,{type:u}))})}else A.on(\"data\",h=>{d.push(h)}),A.on(\"end\",()=>{i.append(a,new fv(d,c,{type:u}))})});let s=new Promise((a,A)=>{o.on(\"finish\",a),o.on(\"error\",c=>A(new TypeError(c)))});if(this.body!==null)for await(let a of pv(this[go].body))o.write(a);return o.end(),await s,i}else if(/application\\/x-www-form-urlencoded/.test(r)){let n;try{let o=\"\",s=new TextDecoder(\"utf-8\",{ignoreBOM:!0});for await(let a of pv(this[go].body)){if(!Cv(a))throw new TypeError(\"Expected Uint8Array chunk\");o+=s.decode(a,{stream:!0})}o+=s.decode(),n=new URLSearchParams(o)}catch(o){throw Object.assign(new TypeError,{cause:o})}let i=new gv;for(let[o,s]of n)i.append(o,s);return i}else throw await Promise.resolve(),fQ(this[go]),dQ.errors.exception({header:`${t.name}.formData`,message:\"Could not parse content as FormData.\"})}}}function fz(t){Object.assign(t.prototype,gz(t))}async function dE(t,e,r){if(dQ.brandCheck(t,r),fQ(t[go]),pz(t[go].body))throw new TypeError(\"Body is unusable\");let n=ez(),i=s=>n.reject(s),o=s=>{try{n.resolve(e(s))}catch(a){i(a)}};return t[go].body==null?(o(new Uint8Array),n.promise):(await tz(t[go].body,o,i),n.promise)}function pz(t){return t!=null&&(t.stream.locked||Vc.isDisturbed(t.stream))}function yv(t){return t.length===0?\"\":(t[0]===239&&t[1]===187&&t[2]===191&&(t=t.subarray(3)),uz.decode(t))}function Ez(t){return JSON.parse(yv(t))}function Cz(t){let{headersList:e}=t[go],r=e.get(\"content-type\");return r===null?\"failure\":cz(r)}Iv.exports={extractBody:mv,safelyExtractBody:dz,cloneBody:hz,mixinBody:fz}});var Rv=y((EPe,wv)=>{\"use strict\";var{InvalidArgumentError:nt,NotSupportedError:mz}=Ze(),fo=require(\"assert\"),{kHTTP2BuildRequest:yz,kHTTP2CopyHeaders:Iz,kHTTP1BuildRequest:Bz}=st(),Yr=De(),Bv=/^[\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]+$/,Qv=/[^\\t\\x20-\\x7e\\x80-\\xff]/,Qz=/[^\\u0021-\\u00ff]/,oi=Symbol(\"handler\"),Ft={},pQ;try{let t=require(\"diagnostics_channel\");Ft.create=t.channel(\"undici:request:create\"),Ft.bodySent=t.channel(\"undici:request:bodySent\"),Ft.headers=t.channel(\"undici:request:headers\"),Ft.trailers=t.channel(\"undici:request:trailers\"),Ft.error=t.channel(\"undici:request:error\")}catch{Ft.create={hasSubscribers:!1},Ft.bodySent={hasSubscribers:!1},Ft.headers={hasSubscribers:!1},Ft.trailers={hasSubscribers:!1},Ft.error={hasSubscribers:!1}}var EQ=class t{constructor(e,{path:r,method:n,body:i,headers:o,query:s,idempotent:a,blocking:A,upgrade:c,headersTimeout:l,bodyTimeout:u,reset:d,throwOnError:h,expectContinue:g},p){if(typeof r!=\"string\")throw new nt(\"path must be a string\");if(r[0]!==\"/\"&&!(r.startsWith(\"http://\")||r.startsWith(\"https://\"))&&n!==\"CONNECT\")throw new nt(\"path must be an absolute URL or start with a slash\");if(Qz.exec(r)!==null)throw new nt(\"invalid request path\");if(typeof n!=\"string\")throw new nt(\"method must be a string\");if(Bv.exec(n)===null)throw new nt(\"invalid request method\");if(c&&typeof c!=\"string\")throw new nt(\"upgrade must be a string\");if(l!=null&&(!Number.isFinite(l)||l<0))throw new nt(\"invalid headersTimeout\");if(u!=null&&(!Number.isFinite(u)||u<0))throw new nt(\"invalid bodyTimeout\");if(d!=null&&typeof d!=\"boolean\")throw new nt(\"invalid reset\");if(g!=null&&typeof g!=\"boolean\")throw new nt(\"invalid expectContinue\");if(this.headersTimeout=l,this.bodyTimeout=u,this.throwOnError=h===!0,this.method=n,this.abort=null,i==null)this.body=null;else if(Yr.isStream(i)){this.body=i;let f=this.body._readableState;(!f||!f.autoDestroy)&&(this.endHandler=function(){Yr.destroy(this)},this.body.on(\"end\",this.endHandler)),this.errorHandler=C=>{this.abort?this.abort(C):this.error=C},this.body.on(\"error\",this.errorHandler)}else if(Yr.isBuffer(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i==\"string\")this.body=i.length?Buffer.from(i):null;else if(Yr.isFormDataLike(i)||Yr.isIterable(i)||Yr.isBlobLike(i))this.body=i;else throw new nt(\"body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable\");if(this.completed=!1,this.aborted=!1,this.upgrade=c||null,this.path=s?Yr.buildURL(r,s):r,this.origin=e,this.idempotent=a??(n===\"HEAD\"||n===\"GET\"),this.blocking=A??!1,this.reset=d??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=\"\",this.expectContinue=g??!1,Array.isArray(o)){if(o.length%2!==0)throw new nt(\"headers array must be even\");for(let f=0;f<o.length;f+=2)fd(this,o[f],o[f+1])}else if(o&&typeof o==\"object\"){let f=Object.keys(o);for(let C=0;C<f.length;C++){let m=f[C];fd(this,m,o[m])}}else if(o!=null)throw new nt(\"headers must be an object or an array\");if(Yr.isFormDataLike(this.body)){if(Yr.nodeMajor<16||Yr.nodeMajor===16&&Yr.nodeMinor<8)throw new nt(\"Form-Data bodies are only supported in node v16.8 and newer.\");pQ||(pQ=gd().extractBody);let[f,C]=pQ(i);this.contentType==null&&(this.contentType=C,this.headers+=`content-type: ${C}\\r\n`),this.body=f.stream,this.contentLength=f.length}else Yr.isBlobLike(i)&&this.contentType==null&&i.type&&(this.contentType=i.type,this.headers+=`content-type: ${i.type}\\r\n`);Yr.validateHandler(p,n,c),this.servername=Yr.getServerName(this.host),this[oi]=p,Ft.create.hasSubscribers&&Ft.create.publish({request:this})}onBodySent(e){if(this[oi].onBodySent)try{return this[oi].onBodySent(e)}catch(r){this.abort(r)}}onRequestSent(){if(Ft.bodySent.hasSubscribers&&Ft.bodySent.publish({request:this}),this[oi].onRequestSent)try{return this[oi].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(fo(!this.aborted),fo(!this.completed),this.error)e(this.error);else return this.abort=e,this[oi].onConnect(e)}onHeaders(e,r,n,i){fo(!this.aborted),fo(!this.completed),Ft.headers.hasSubscribers&&Ft.headers.publish({request:this,response:{statusCode:e,headers:r,statusText:i}});try{return this[oi].onHeaders(e,r,n,i)}catch(o){this.abort(o)}}onData(e){fo(!this.aborted),fo(!this.completed);try{return this[oi].onData(e)}catch(r){return this.abort(r),!1}}onUpgrade(e,r,n){return fo(!this.aborted),fo(!this.completed),this[oi].onUpgrade(e,r,n)}onComplete(e){this.onFinally(),fo(!this.aborted),this.completed=!0,Ft.trailers.hasSubscribers&&Ft.trailers.publish({request:this,trailers:e});try{return this[oi].onComplete(e)}catch(r){this.onError(r)}}onError(e){if(this.onFinally(),Ft.error.hasSubscribers&&Ft.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[oi].onError(e)}onFinally(){this.errorHandler&&(this.body.off(\"error\",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off(\"end\",this.endHandler),this.endHandler=null)}addHeader(e,r){return fd(this,e,r),this}static[Bz](e,r,n){return new t(e,r,n)}static[yz](e,r,n){let i=r.headers;r={...r,headers:null};let o=new t(e,r,n);if(o.headers={},Array.isArray(i)){if(i.length%2!==0)throw new nt(\"headers array must be even\");for(let s=0;s<i.length;s+=2)fd(o,i[s],i[s+1],!0)}else if(i&&typeof i==\"object\"){let s=Object.keys(i);for(let a=0;a<s.length;a++){let A=s[a];fd(o,A,i[A],!0)}}else if(i!=null)throw new nt(\"headers must be an object or an array\");return o}static[Iz](e){let r=e.split(`\\r\n`),n={};for(let i of r){let[o,s]=i.split(\": \");s==null||s.length===0||(n[o]?n[o]+=`,${s}`:n[o]=s)}return n}};function Na(t,e,r){if(e&&typeof e==\"object\")throw new nt(`invalid ${t} header`);if(e=e!=null?`${e}`:\"\",Qv.exec(e)!==null)throw new nt(`invalid ${t} header`);return r?e:`${t}: ${e}\\r\n`}function fd(t,e,r,n=!1){if(r&&typeof r==\"object\"&&!Array.isArray(r))throw new nt(`invalid ${e} header`);if(r===void 0)return;if(t.host===null&&e.length===4&&e.toLowerCase()===\"host\"){if(Qv.exec(r)!==null)throw new nt(`invalid ${e} header`);t.host=r}else if(t.contentLength===null&&e.length===14&&e.toLowerCase()===\"content-length\"){if(t.contentLength=parseInt(r,10),!Number.isFinite(t.contentLength))throw new nt(\"invalid content-length header\")}else if(t.contentType===null&&e.length===12&&e.toLowerCase()===\"content-type\")t.contentType=r,n?t.headers[e]=Na(e,r,n):t.headers+=Na(e,r);else{if(e.length===17&&e.toLowerCase()===\"transfer-encoding\")throw new nt(\"invalid transfer-encoding header\");if(e.length===10&&e.toLowerCase()===\"connection\"){let i=typeof r==\"string\"?r.toLowerCase():null;if(i!==\"close\"&&i!==\"keep-alive\")throw new nt(\"invalid connection header\");i===\"close\"&&(t.reset=!0)}else{if(e.length===10&&e.toLowerCase()===\"keep-alive\")throw new nt(\"invalid keep-alive header\");if(e.length===7&&e.toLowerCase()===\"upgrade\")throw new nt(\"invalid upgrade header\");if(e.length===6&&e.toLowerCase()===\"expect\")throw new mz(\"expect header not supported\");if(Bv.exec(e)===null)throw new nt(\"invalid header key\");if(Array.isArray(r))for(let i=0;i<r.length;i++)n?t.headers[e]?t.headers[e]+=`,${Na(e,r[i],n)}`:t.headers[e]=Na(e,r[i],n):t.headers+=Na(e,r[i]);else n?t.headers[e]=Na(e,r,n):t.headers+=Na(e,r)}}}wv.exports=EQ});var hE=y((CPe,Sv)=>{\"use strict\";var wz=require(\"events\"),CQ=class extends wz{dispatch(){throw new Error(\"not implemented\")}close(){throw new Error(\"not implemented\")}destroy(){throw new Error(\"not implemented\")}};Sv.exports=CQ});var Ed=y((mPe,Tv)=>{\"use strict\";var Rz=hE(),{ClientDestroyedError:mQ,ClientClosedError:Sz,InvalidArgumentError:Jc}=Ze(),{kDestroy:Tz,kClose:bz,kDispatch:yQ,kInterceptors:Pa}=st(),Kc=Symbol(\"destroyed\"),pd=Symbol(\"closed\"),po=Symbol(\"onDestroyed\"),Wc=Symbol(\"onClosed\"),gE=Symbol(\"Intercepted Dispatch\"),IQ=class extends Rz{constructor(){super(),this[Kc]=!1,this[po]=null,this[pd]=!1,this[Wc]=[]}get destroyed(){return this[Kc]}get closed(){return this[pd]}get interceptors(){return this[Pa]}set interceptors(e){if(e){for(let r=e.length-1;r>=0;r--)if(typeof this[Pa][r]!=\"function\")throw new Jc(\"interceptor must be an function\")}this[Pa]=e}close(e){if(e===void 0)return new Promise((n,i)=>{this.close((o,s)=>o?i(o):n(s))});if(typeof e!=\"function\")throw new Jc(\"invalid callback\");if(this[Kc]){queueMicrotask(()=>e(new mQ,null));return}if(this[pd]){this[Wc]?this[Wc].push(e):queueMicrotask(()=>e(null,null));return}this[pd]=!0,this[Wc].push(e);let r=()=>{let n=this[Wc];this[Wc]=null;for(let i=0;i<n.length;i++)n[i](null,null)};this[bz]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(e,r){if(typeof e==\"function\"&&(r=e,e=null),r===void 0)return new Promise((i,o)=>{this.destroy(e,(s,a)=>s?o(s):i(a))});if(typeof r!=\"function\")throw new Jc(\"invalid callback\");if(this[Kc]){this[po]?this[po].push(r):queueMicrotask(()=>r(null,null));return}e||(e=new mQ),this[Kc]=!0,this[po]=this[po]||[],this[po].push(r);let n=()=>{let i=this[po];this[po]=null;for(let o=0;o<i.length;o++)i[o](null,null)};this[Tz](e).then(()=>{queueMicrotask(n)})}[gE](e,r){if(!this[Pa]||this[Pa].length===0)return this[gE]=this[yQ],this[yQ](e,r);let n=this[yQ].bind(this);for(let i=this[Pa].length-1;i>=0;i--)n=this[Pa][i](n);return this[gE]=n,n(e,r)}dispatch(e,r){if(!r||typeof r!=\"object\")throw new Jc(\"handler must be an object\");try{if(!e||typeof e!=\"object\")throw new Jc(\"opts must be an object.\");if(this[Kc]||this[po])throw new mQ;if(this[pd])throw new Sz;return this[gE](e,r)}catch(n){if(typeof r.onError!=\"function\")throw new Jc(\"invalid onError method\");return r.onError(n),!1}}};Tv.exports=IQ});var Cd=y((BPe,Dv)=>{\"use strict\";var kz=require(\"net\"),bv=require(\"assert\"),kv=De(),{InvalidArgumentError:Dz,ConnectTimeoutError:xz}=Ze(),BQ,QQ;global.FinalizationRegistry&&!process.env.NODE_V8_COVERAGE?QQ=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(e){let r=this._sessionCache.get(e);return r?r.deref():null}set(e,r){this._maxCachedSessions!==0&&(this._sessionCache.set(e,new WeakRef(r)),this._sessionRegistry.register(r,e))}}:QQ=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(e,r)}}};function vz({allowH2:t,maxCachedSessions:e,socketPath:r,timeout:n,...i}){if(e!=null&&(!Number.isInteger(e)||e<0))throw new Dz(\"maxCachedSessions must be a positive integer or zero\");let o={path:r,...i},s=new QQ(e??100);return n=n??1e4,t=t??!1,function({hostname:A,host:c,protocol:l,port:u,servername:d,localAddress:h,httpSocket:g},p){let f;if(l===\"https:\"){BQ||(BQ=require(\"tls\")),d=d||o.servername||kv.getServerName(c)||null;let m=d||A,B=s.get(m)||null;bv(m),f=BQ.connect({highWaterMark:16384,...o,servername:d,session:B,localAddress:h,ALPNProtocols:t?[\"http/1.1\",\"h2\"]:[\"http/1.1\"],socket:g,port:u||443,host:A}),f.on(\"session\",function(T){s.set(m,T)})}else bv(!g,\"httpSocket can only be sent on TLS update\"),f=kz.connect({highWaterMark:64*1024,...o,localAddress:h,port:u||80,host:A});if(o.keepAlive==null||o.keepAlive){let m=o.keepAliveInitialDelay===void 0?6e4:o.keepAliveInitialDelay;f.setKeepAlive(!0,m)}let C=Nz(()=>Pz(f),n);return f.setNoDelay(!0).once(l===\"https:\"?\"secureConnect\":\"connect\",function(){if(C(),p){let m=p;p=null,m(null,this)}}).on(\"error\",function(m){if(C(),p){let B=p;p=null,B(m)}}),f}}function Nz(t,e){if(!e)return()=>{};let r=null,n=null,i=setTimeout(()=>{r=setImmediate(()=>{process.platform===\"win32\"?n=setImmediate(()=>t()):t()})},e);return()=>{clearTimeout(i),clearImmediate(r),clearImmediate(n)}}function Pz(t){kv.destroy(t,new xz)}Dv.exports=vz});var xv=y(fE=>{\"use strict\";Object.defineProperty(fE,\"__esModule\",{value:!0});fE.enumToMap=void 0;function Mz(t){let e={};return Object.keys(t).forEach(r=>{let n=t[r];typeof n==\"number\"&&(e[r]=n)}),e}fE.enumToMap=Mz});var vv=y(U=>{\"use strict\";Object.defineProperty(U,\"__esModule\",{value:!0});U.SPECIAL_HEADERS=U.HEADER_STATE=U.MINOR=U.MAJOR=U.CONNECTION_TOKEN_CHARS=U.HEADER_CHARS=U.TOKEN=U.STRICT_TOKEN=U.HEX=U.URL_CHAR=U.STRICT_URL_CHAR=U.USERINFO_CHARS=U.MARK=U.ALPHANUM=U.NUM=U.HEX_MAP=U.NUM_MAP=U.ALPHA=U.FINISH=U.H_METHOD_MAP=U.METHOD_MAP=U.METHODS_RTSP=U.METHODS_ICE=U.METHODS_HTTP=U.METHODS=U.LENIENT_FLAGS=U.FLAGS=U.TYPE=U.ERROR=void 0;var Fz=xv(),Lz;(function(t){t[t.OK=0]=\"OK\",t[t.INTERNAL=1]=\"INTERNAL\",t[t.STRICT=2]=\"STRICT\",t[t.LF_EXPECTED=3]=\"LF_EXPECTED\",t[t.UNEXPECTED_CONTENT_LENGTH=4]=\"UNEXPECTED_CONTENT_LENGTH\",t[t.CLOSED_CONNECTION=5]=\"CLOSED_CONNECTION\",t[t.INVALID_METHOD=6]=\"INVALID_METHOD\",t[t.INVALID_URL=7]=\"INVALID_URL\",t[t.INVALID_CONSTANT=8]=\"INVALID_CONSTANT\",t[t.INVALID_VERSION=9]=\"INVALID_VERSION\",t[t.INVALID_HEADER_TOKEN=10]=\"INVALID_HEADER_TOKEN\",t[t.INVALID_CONTENT_LENGTH=11]=\"INVALID_CONTENT_LENGTH\",t[t.INVALID_CHUNK_SIZE=12]=\"INVALID_CHUNK_SIZE\",t[t.INVALID_STATUS=13]=\"INVALID_STATUS\",t[t.INVALID_EOF_STATE=14]=\"INVALID_EOF_STATE\",t[t.INVALID_TRANSFER_ENCODING=15]=\"INVALID_TRANSFER_ENCODING\",t[t.CB_MESSAGE_BEGIN=16]=\"CB_MESSAGE_BEGIN\",t[t.CB_HEADERS_COMPLETE=17]=\"CB_HEADERS_COMPLETE\",t[t.CB_MESSAGE_COMPLETE=18]=\"CB_MESSAGE_COMPLETE\",t[t.CB_CHUNK_HEADER=19]=\"CB_CHUNK_HEADER\",t[t.CB_CHUNK_COMPLETE=20]=\"CB_CHUNK_COMPLETE\",t[t.PAUSED=21]=\"PAUSED\",t[t.PAUSED_UPGRADE=22]=\"PAUSED_UPGRADE\",t[t.PAUSED_H2_UPGRADE=23]=\"PAUSED_H2_UPGRADE\",t[t.USER=24]=\"USER\"})(Lz=U.ERROR||(U.ERROR={}));var Oz;(function(t){t[t.BOTH=0]=\"BOTH\",t[t.REQUEST=1]=\"REQUEST\",t[t.RESPONSE=2]=\"RESPONSE\"})(Oz=U.TYPE||(U.TYPE={}));var Uz;(function(t){t[t.CONNECTION_KEEP_ALIVE=1]=\"CONNECTION_KEEP_ALIVE\",t[t.CONNECTION_CLOSE=2]=\"CONNECTION_CLOSE\",t[t.CONNECTION_UPGRADE=4]=\"CONNECTION_UPGRADE\",t[t.CHUNKED=8]=\"CHUNKED\",t[t.UPGRADE=16]=\"UPGRADE\",t[t.CONTENT_LENGTH=32]=\"CONTENT_LENGTH\",t[t.SKIPBODY=64]=\"SKIPBODY\",t[t.TRAILING=128]=\"TRAILING\",t[t.TRANSFER_ENCODING=512]=\"TRANSFER_ENCODING\"})(Uz=U.FLAGS||(U.FLAGS={}));var _z;(function(t){t[t.HEADERS=1]=\"HEADERS\",t[t.CHUNKED_LENGTH=2]=\"CHUNKED_LENGTH\",t[t.KEEP_ALIVE=4]=\"KEEP_ALIVE\"})(_z=U.LENIENT_FLAGS||(U.LENIENT_FLAGS={}));var re;(function(t){t[t.DELETE=0]=\"DELETE\",t[t.GET=1]=\"GET\",t[t.HEAD=2]=\"HEAD\",t[t.POST=3]=\"POST\",t[t.PUT=4]=\"PUT\",t[t.CONNECT=5]=\"CONNECT\",t[t.OPTIONS=6]=\"OPTIONS\",t[t.TRACE=7]=\"TRACE\",t[t.COPY=8]=\"COPY\",t[t.LOCK=9]=\"LOCK\",t[t.MKCOL=10]=\"MKCOL\",t[t.MOVE=11]=\"MOVE\",t[t.PROPFIND=12]=\"PROPFIND\",t[t.PROPPATCH=13]=\"PROPPATCH\",t[t.SEARCH=14]=\"SEARCH\",t[t.UNLOCK=15]=\"UNLOCK\",t[t.BIND=16]=\"BIND\",t[t.REBIND=17]=\"REBIND\",t[t.UNBIND=18]=\"UNBIND\",t[t.ACL=19]=\"ACL\",t[t.REPORT=20]=\"REPORT\",t[t.MKACTIVITY=21]=\"MKACTIVITY\",t[t.CHECKOUT=22]=\"CHECKOUT\",t[t.MERGE=23]=\"MERGE\",t[t[\"M-SEARCH\"]=24]=\"M-SEARCH\",t[t.NOTIFY=25]=\"NOTIFY\",t[t.SUBSCRIBE=26]=\"SUBSCRIBE\",t[t.UNSUBSCRIBE=27]=\"UNSUBSCRIBE\",t[t.PATCH=28]=\"PATCH\",t[t.PURGE=29]=\"PURGE\",t[t.MKCALENDAR=30]=\"MKCALENDAR\",t[t.LINK=31]=\"LINK\",t[t.UNLINK=32]=\"UNLINK\",t[t.SOURCE=33]=\"SOURCE\",t[t.PRI=34]=\"PRI\",t[t.DESCRIBE=35]=\"DESCRIBE\",t[t.ANNOUNCE=36]=\"ANNOUNCE\",t[t.SETUP=37]=\"SETUP\",t[t.PLAY=38]=\"PLAY\",t[t.PAUSE=39]=\"PAUSE\",t[t.TEARDOWN=40]=\"TEARDOWN\",t[t.GET_PARAMETER=41]=\"GET_PARAMETER\",t[t.SET_PARAMETER=42]=\"SET_PARAMETER\",t[t.REDIRECT=43]=\"REDIRECT\",t[t.RECORD=44]=\"RECORD\",t[t.FLUSH=45]=\"FLUSH\"})(re=U.METHODS||(U.METHODS={}));U.METHODS_HTTP=[re.DELETE,re.GET,re.HEAD,re.POST,re.PUT,re.CONNECT,re.OPTIONS,re.TRACE,re.COPY,re.LOCK,re.MKCOL,re.MOVE,re.PROPFIND,re.PROPPATCH,re.SEARCH,re.UNLOCK,re.BIND,re.REBIND,re.UNBIND,re.ACL,re.REPORT,re.MKACTIVITY,re.CHECKOUT,re.MERGE,re[\"M-SEARCH\"],re.NOTIFY,re.SUBSCRIBE,re.UNSUBSCRIBE,re.PATCH,re.PURGE,re.MKCALENDAR,re.LINK,re.UNLINK,re.PRI,re.SOURCE];U.METHODS_ICE=[re.SOURCE];U.METHODS_RTSP=[re.OPTIONS,re.DESCRIBE,re.ANNOUNCE,re.SETUP,re.PLAY,re.PAUSE,re.TEARDOWN,re.GET_PARAMETER,re.SET_PARAMETER,re.REDIRECT,re.RECORD,re.FLUSH,re.GET,re.POST];U.METHOD_MAP=Fz.enumToMap(re);U.H_METHOD_MAP={};Object.keys(U.METHOD_MAP).forEach(t=>{/^H/.test(t)&&(U.H_METHOD_MAP[t]=U.METHOD_MAP[t])});var Hz;(function(t){t[t.SAFE=0]=\"SAFE\",t[t.SAFE_WITH_CB=1]=\"SAFE_WITH_CB\",t[t.UNSAFE=2]=\"UNSAFE\"})(Hz=U.FINISH||(U.FINISH={}));U.ALPHA=[];for(let t=65;t<=90;t++)U.ALPHA.push(String.fromCharCode(t)),U.ALPHA.push(String.fromCharCode(t+32));U.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};U.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};U.NUM=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"];U.ALPHANUM=U.ALPHA.concat(U.NUM);U.MARK=[\"-\",\"_\",\".\",\"!\",\"~\",\"*\",\"'\",\"(\",\")\"];U.USERINFO_CHARS=U.ALPHANUM.concat(U.MARK).concat([\"%\",\";\",\":\",\"&\",\"=\",\"+\",\"$\",\",\"]);U.STRICT_URL_CHAR=[\"!\",'\"',\"$\",\"%\",\"&\",\"'\",\"(\",\")\",\"*\",\"+\",\",\",\"-\",\".\",\"/\",\":\",\";\",\"<\",\"=\",\">\",\"@\",\"[\",\"\\\\\",\"]\",\"^\",\"_\",\"`\",\"{\",\"|\",\"}\",\"~\"].concat(U.ALPHANUM);U.URL_CHAR=U.STRICT_URL_CHAR.concat([\"\t\",\"\\f\"]);for(let t=128;t<=255;t++)U.URL_CHAR.push(t);U.HEX=U.NUM.concat([\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\"]);U.STRICT_TOKEN=[\"!\",\"#\",\"$\",\"%\",\"&\",\"'\",\"*\",\"+\",\"-\",\".\",\"^\",\"_\",\"`\",\"|\",\"~\"].concat(U.ALPHANUM);U.TOKEN=U.STRICT_TOKEN.concat([\" \"]);U.HEADER_CHARS=[\"\t\"];for(let t=32;t<=255;t++)t!==127&&U.HEADER_CHARS.push(t);U.CONNECTION_TOKEN_CHARS=U.HEADER_CHARS.filter(t=>t!==44);U.MAJOR=U.NUM_MAP;U.MINOR=U.MAJOR;var zc;(function(t){t[t.GENERAL=0]=\"GENERAL\",t[t.CONNECTION=1]=\"CONNECTION\",t[t.CONTENT_LENGTH=2]=\"CONTENT_LENGTH\",t[t.TRANSFER_ENCODING=3]=\"TRANSFER_ENCODING\",t[t.UPGRADE=4]=\"UPGRADE\",t[t.CONNECTION_KEEP_ALIVE=5]=\"CONNECTION_KEEP_ALIVE\",t[t.CONNECTION_CLOSE=6]=\"CONNECTION_CLOSE\",t[t.CONNECTION_UPGRADE=7]=\"CONNECTION_UPGRADE\",t[t.TRANSFER_ENCODING_CHUNKED=8]=\"TRANSFER_ENCODING_CHUNKED\"})(zc=U.HEADER_STATE||(U.HEADER_STATE={}));U.SPECIAL_HEADERS={connection:zc.CONNECTION,\"content-length\":zc.CONTENT_LENGTH,\"proxy-connection\":zc.CONNECTION,\"transfer-encoding\":zc.TRANSFER_ENCODING,upgrade:zc.UPGRADE}});var SQ=y((RPe,Mv)=>{\"use strict\";var Eo=De(),{kBodyUsed:md}=st(),RQ=require(\"assert\"),{InvalidArgumentError:qz}=Ze(),Gz=require(\"events\"),Yz=[300,301,302,303,307,308],Nv=Symbol(\"body\"),pE=class{constructor(e){this[Nv]=e,this[md]=!1}async*[Symbol.asyncIterator](){RQ(!this[md],\"disturbed\"),this[md]=!0,yield*this[Nv]}},wQ=class{constructor(e,r,n,i){if(r!=null&&(!Number.isInteger(r)||r<0))throw new qz(\"maxRedirections must be a positive number\");Eo.validateHandler(i,n.method,n.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=i,this.history=[],Eo.isStream(this.opts.body)?(Eo.bodyLength(this.opts.body)===0&&this.opts.body.on(\"data\",function(){RQ(!1)}),typeof this.opts.body.readableDidRead!=\"boolean\"&&(this.opts.body[md]=!1,Gz.prototype.on.call(this.opts.body,\"data\",function(){this[md]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo==\"function\"?this.opts.body=new pE(this.opts.body):this.opts.body&&typeof this.opts.body!=\"string\"&&!ArrayBuffer.isView(this.opts.body)&&Eo.isIterable(this.opts.body)&&(this.opts.body=new pE(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,r,n){this.handler.onUpgrade(e,r,n)}onError(e){this.handler.onError(e)}onHeaders(e,r,n,i){if(this.location=this.history.length>=this.maxRedirections||Eo.isDisturbed(this.opts.body)?null:Vz(e,r),this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,r,n,i);let{origin:o,pathname:s,search:a}=Eo.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),A=a?`${s}${a}`:s;this.opts.headers=Jz(this.opts.headers,e===303,this.opts.origin!==o),this.opts.path=A,this.opts.origin=o,this.opts.maxRedirections=0,this.opts.query=null,e===303&&this.opts.method!==\"HEAD\"&&(this.opts.method=\"GET\",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}};function Vz(t,e){if(Yz.indexOf(t)===-1)return null;for(let r=0;r<e.length;r+=2)if(e[r].toString().toLowerCase()===\"location\")return e[r+1]}function Pv(t,e,r){if(t.length===4)return Eo.headerNameToString(t)===\"host\";if(e&&Eo.headerNameToString(t).startsWith(\"content-\"))return!0;if(r&&(t.length===13||t.length===6||t.length===19)){let n=Eo.headerNameToString(t);return n===\"authorization\"||n===\"cookie\"||n===\"proxy-authorization\"}return!1}function Jz(t,e,r){let n=[];if(Array.isArray(t))for(let i=0;i<t.length;i+=2)Pv(t[i],e,r)||n.push(t[i],t[i+1]);else if(t&&typeof t==\"object\")for(let i of Object.keys(t))Pv(i,e,r)||n.push(i,t[i]);else RQ(t==null,\"headers must be an object or an array\");return n}Mv.exports=wQ});var EE=y((SPe,Fv)=>{\"use strict\";var Kz=SQ();function Wz({maxRedirections:t}){return e=>function(n,i){let{maxRedirections:o=t}=n;if(!o)return e(n,i);let s=new Kz(e,o,n,i);return n={...n,maxRedirections:0},e(n,s)}}Fv.exports=Wz});var TQ=y((TPe,Lv)=>{\"use strict\";Lv.exports=\"AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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ADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEHdATYCHEEAC3sBAX8CQCAAKAIMIgMNAAJAIAAoAgRFDQAgACABNgIECwJAIAAgASACEMSAgIAAIgMNACAAKAIMDwsgACADNgIcQQAhAyAAKAIEIgFFDQAgACABIAIgACgCCBGBgICAAAAiAUUNACAAIAI2AhQgACABNgIMIAEhAwsgAwvk8wEDDn8DfgR/I4CAgIAAQRBrIgMkgICAgAAgASEEIAEhBSABIQYgASEHIAEhCCABIQkgASEKIAEhCyABIQwgASENIAEhDiABIQ8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCHCIQQX9qDt0B2gEB2QECAwQFBgcICQoLDA0O2AEPENcBERLWARMUFRYXGBkaG+AB3wEcHR7VAR8gISIjJCXUASYnKCkqKyzTAdIBLS7RAdABLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVG2wFHSElKzwHOAUvNAUzMAU1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4ABgQGCAYMBhAGFAYYBhwGIAYkB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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FCAAIBA2AgxBACEQDLIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDLEBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxRCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLABCyAAQQA2AhwgACABNgIUIABBxoqAgAA2AhAgAEEHNgIMQQAhEAyvAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAyuAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAytAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMTQsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAysAQsgAEEANgIcIAAgATYCFCAAQdyIgIAANgIQIABBBzYCDEEAIRAMqwELIBBBP0cNASABQQFqIQELQQUhEAyQAQtBACEQIABBADYCHCAAIAE2AhQgAEH9koCAADYCECAAQQc2AgwMqAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMpwELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMpgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEYLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMpQELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0gA2AhwgACAUNgIUIAAgATYCDEEAIRAMpAELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0wA2AhwgACAUNgIUIAAgATYCDEEAIRAMowELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDEMLIABB5QA2AhwgACAU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YWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABEdXBsaWNhdGUgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyIGluIHVybCBwYXRoAENvbnRlbnQtTGVuZ3RoIGNhbid0IGJlIHByZXNlbnQgd2l0aCBUcmFuc2Zlci1FbmNvZGluZwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBzaXplAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX3ZhbHVlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgdmFsdWUATWlzc2luZyBleHBlY3RlZCBMRiBhZnRlciBoZWFkZXIgdmFsdWUASW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fbmFtZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIG5hbWUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAXhMAACYTAAAwEAAA8BcAAJ0TAAAVEgAAORcAAPASAAAKEAAAdRIAAK0SAACCEwAATxQAAH8QAACgFQAAIxQAAIkSAACLFAAATRUAANQRAADPFAAAEBgAAMkWAADcFgAAwREAAOAXAAC7FAAAdBQAAHwVAADlFAAACBcAAB8QAABlFQAAoxQAACgVAAACFQAAmRUAACwQAACLGQAATw8AANQOAABqEAAAzhAAAAIXAACJDgAAbhMAABwTAABmFAAAVhcAAMETAADNEwAAbBMAAGgXAABmFwAAXxcAACITAADODwAAaQ4AANgOAABjFgAAyxMAAKoOAAAoFwAAJhcAAMUTAABdFgAA6BEAAGcTAABlEwAA8hYAAHMTAAAdFwAA+RYAAPMRAADPDgAAzhUAAAwSAACzEQAApREAAGEQAAAyFwAAuxMAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIDAgICAgIAAAICAAICAAICAgICAgICAgIABAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAACAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbG9zZWVlcC1hbGl2ZQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AAAAAAAAAAAAAAAAAAAByYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AAAAAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQIAAQMAAAAAAAAAAAAAAAAAAAAAAAAEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAAAAQAAAgAAAAAAAAAAAAAAAAAAAAAAAAMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAIAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOT1VOQ0VFQ0tPVVRORUNURVRFQ1JJQkVMVVNIRVRFQURTRUFSQ0hSR0VDVElWSVRZTEVOREFSVkVPVElGWVBUSU9OU0NIU0VBWVNUQVRDSEdFT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8=\"});var Uv=y((bPe,Ov)=>{\"use strict\";Ov.exports=\"AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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IAH9CwMAIABBMGogAf0LAwAgAEEgaiAB/QsDACAAQd0BNgIcQQALewEBfwJAIAAoAgwiAw0AAkAgACgCBEUNACAAIAE2AgQLAkAgACABIAIQxICAgAAiAw0AIAAoAgwPCyAAIAM2AhxBACEDIAAoAgQiAUUNACAAIAEgAiAAKAIIEYGAgIAAACIBRQ0AIAAgAjYCFCAAIAE2AgwgASEDCyADC+TzAQMOfwN+BH8jgICAgABBEGsiAySAgICAACABIQQgASEFIAEhBiABIQcgASEIIAEhCSABIQogASELIAEhDCABIQ0gASEOIAEhDwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIcIhBBf2oO3QHaAQHZAQIDBAUGBwgJCgsMDQ7YAQ8Q1wEREtYBExQVFhcYGRob4AHfARwdHtUBHyAhIiMkJdQBJicoKSorLNMB0gEtLtEB0AEvMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUbbAUdISUrPAc4BS80BTMwBTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAOxwEAAQID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YWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsb3NlZWVwLWFsaXZlAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgAAAAAAAAAAAAAAAAAAAHJhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KDQpTTQ0KDQpUVFAvQ0UvVFNQLwAAAAAAAAAAAAAAAAECAAEDAAAAAAAAAAAAAAAAAAAAAAAABAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAABAAACAAAAAAAAAAAAAAAAAAAAAAAAAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAgAAAAACAAAAAAAAAAAAAAAAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==\"});var Sd=y((kPe,iN)=>{\"use strict\";var j=require(\"assert\"),qv=require(\"net\"),zz=require(\"http\"),{pipeline:jz}=require(\"stream\"),te=De(),bQ=X0(),DQ=Rv(),$z=Ed(),{RequestContentLengthMismatchError:Co,ResponseContentLengthMismatchError:Xz,InvalidArgumentError:Nt,RequestAbortedError:OQ,HeadersTimeoutError:Zz,HeadersOverflowError:ej,SocketError:$c,InformationalError:ki,BodyTimeoutError:tj,HTTPParserError:rj,ResponseExceededMaxSizeError:nj,ClientDestroyedError:ij}=Ze(),oj=Cd(),{kUrl:Zt,kReset:Br,kServerName:us,kClient:Di,kBusy:xQ,kParser:Tt,kConnect:sj,kBlocking:Xc,kResuming:Ma,kRunning:It,kPending:La,kSize:Fa,kWriting:mo,kQueue:at,kConnected:aj,kConnecting:jc,kNeedDrain:hs,kNoRef:yd,kKeepAliveDefaultTimeout:vQ,kHostHeader:Gv,kPendingIdx:dn,kRunningIdx:At,kError:er,kPipelining:gs,kSocket:bt,kKeepAliveTimeoutValue:Qd,kMaxHeadersSize:yE,kKeepAliveMaxTimeout:Yv,kKeepAliveTimeoutThreshold:Vv,kHeadersTimeout:Jv,kBodyTimeout:Kv,kStrictContentLength:wd,kConnector:Id,kMaxRedirections:Aj,kMaxRequests:Rd,kCounter:Wv,kClose:cj,kDestroy:lj,kDispatch:uj,kInterceptors:dj,kLocalAddress:Bd,kMaxResponseSize:zv,kHTTPConnVersion:xi,kHost:jv,kHTTP2Session:hn,kHTTP2SessionState:BE,kHTTP2BuildRequest:hj,kHTTP2CopyHeaders:gj,kHTTP1BuildRequest:fj}=st(),QE;try{QE=require(\"http2\")}catch{QE={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:pj,HTTP2_HEADER_METHOD:Ej,HTTP2_HEADER_PATH:Cj,HTTP2_HEADER_SCHEME:mj,HTTP2_HEADER_CONTENT_LENGTH:yj,HTTP2_HEADER_EXPECT:Ij,HTTP2_HEADER_STATUS:Bj}}=QE,_v=!1,CE=Buffer[Symbol.species],ds=Symbol(\"kClosedResolve\"),Ar={};try{let t=require(\"diagnostics_channel\");Ar.sendHeaders=t.channel(\"undici:client:sendHeaders\"),Ar.beforeConnect=t.channel(\"undici:client:beforeConnect\"),Ar.connectError=t.channel(\"undici:client:connectError\"),Ar.connected=t.channel(\"undici:client:connected\")}catch{Ar.sendHeaders={hasSubscribers:!1},Ar.beforeConnect={hasSubscribers:!1},Ar.connectError={hasSubscribers:!1},Ar.connected={hasSubscribers:!1}}var NQ=class extends $z{constructor(e,{interceptors:r,maxHeaderSize:n,headersTimeout:i,socketTimeout:o,requestTimeout:s,connectTimeout:a,bodyTimeout:A,idleTimeout:c,keepAlive:l,keepAliveTimeout:u,maxKeepAliveTimeout:d,keepAliveMaxTimeout:h,keepAliveTimeoutThreshold:g,socketPath:p,pipelining:f,tls:C,strictContentLength:m,maxCachedSessions:B,maxRedirections:T,connect:L,maxRequestsPerClient:F,localAddress:R,maxResponseSize:S,autoSelectFamily:I,autoSelectFamilyAttemptTimeout:x,allowH2:k,maxConcurrentStreams:P}={}){if(super(),l!==void 0)throw new Nt(\"unsupported keepAlive, use pipelining=0 instead\");if(o!==void 0)throw new Nt(\"unsupported socketTimeout, use headersTimeout & bodyTimeout instead\");if(s!==void 0)throw new Nt(\"unsupported requestTimeout, use headersTimeout & bodyTimeout instead\");if(c!==void 0)throw new Nt(\"unsupported idleTimeout, use keepAliveTimeout instead\");if(d!==void 0)throw new Nt(\"unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead\");if(n!=null&&!Number.isFinite(n))throw new Nt(\"invalid maxHeaderSize\");if(p!=null&&typeof p!=\"string\")throw new Nt(\"invalid socketPath\");if(a!=null&&(!Number.isFinite(a)||a<0))throw new Nt(\"invalid connectTimeout\");if(u!=null&&(!Number.isFinite(u)||u<=0))throw new Nt(\"invalid keepAliveTimeout\");if(h!=null&&(!Number.isFinite(h)||h<=0))throw new Nt(\"invalid keepAliveMaxTimeout\");if(g!=null&&!Number.isFinite(g))throw new Nt(\"invalid keepAliveTimeoutThreshold\");if(i!=null&&(!Number.isInteger(i)||i<0))throw new Nt(\"headersTimeout must be a positive integer or zero\");if(A!=null&&(!Number.isInteger(A)||A<0))throw new Nt(\"bodyTimeout must be a positive integer or zero\");if(L!=null&&typeof L!=\"function\"&&typeof L!=\"object\")throw new Nt(\"connect must be a function or an object\");if(T!=null&&(!Number.isInteger(T)||T<0))throw new Nt(\"maxRedirections must be a positive number\");if(F!=null&&(!Number.isInteger(F)||F<0))throw new Nt(\"maxRequestsPerClient must be a positive number\");if(R!=null&&(typeof R!=\"string\"||qv.isIP(R)===0))throw new Nt(\"localAddress must be valid string IP address\");if(S!=null&&(!Number.isInteger(S)||S<-1))throw new Nt(\"maxResponseSize must be a positive number\");if(x!=null&&(!Number.isInteger(x)||x<-1))throw new Nt(\"autoSelectFamilyAttemptTimeout must be a positive number\");if(k!=null&&typeof k!=\"boolean\")throw new Nt(\"allowH2 must be a valid boolean value\");if(P!=null&&(typeof P!=\"number\"||P<1))throw new Nt(\"maxConcurrentStreams must be a possitive integer, greater than 0\");typeof L!=\"function\"&&(L=oj({...C,maxCachedSessions:B,allowH2:k,socketPath:p,timeout:a,...te.nodeHasAutoSelectFamily&&I?{autoSelectFamily:I,autoSelectFamilyAttemptTimeout:x}:void 0,...L})),this[dj]=r&&r.Client&&Array.isArray(r.Client)?r.Client:[Tj({maxRedirections:T})],this[Zt]=te.parseOrigin(e),this[Id]=L,this[bt]=null,this[gs]=f??1,this[yE]=n||zz.maxHeaderSize,this[vQ]=u??4e3,this[Yv]=h??6e5,this[Vv]=g??1e3,this[Qd]=this[vQ],this[us]=null,this[Bd]=R??null,this[Ma]=0,this[hs]=0,this[Gv]=`host: ${this[Zt].hostname}${this[Zt].port?`:${this[Zt].port}`:\"\"}\\r\n`,this[Kv]=A??3e5,this[Jv]=i??3e5,this[wd]=m??!0,this[Aj]=T,this[Rd]=F,this[ds]=null,this[zv]=S>-1?S:-1,this[xi]=\"h1\",this[hn]=null,this[BE]=k?{openStreams:0,maxConcurrentStreams:P??100}:null,this[jv]=`${this[Zt].hostname}${this[Zt].port?`:${this[Zt].port}`:\"\"}`,this[at]=[],this[At]=0,this[dn]=0}get pipelining(){return this[gs]}set pipelining(e){this[gs]=e,gn(this,!0)}get[La](){return this[at].length-this[dn]}get[It](){return this[dn]-this[At]}get[Fa](){return this[at].length-this[At]}get[aj](){return!!this[bt]&&!this[jc]&&!this[bt].destroyed}get[xQ](){let e=this[bt];return e&&(e[Br]||e[mo]||e[Xc])||this[Fa]>=(this[gs]||1)||this[La]>0}[sj](e){eN(this),this.once(\"connect\",e)}[uj](e,r){let n=e.origin||this[Zt].origin,i=this[xi]===\"h2\"?DQ[hj](n,e,r):DQ[fj](n,e,r);return this[at].push(i),this[Ma]||(te.bodyLength(i.body)==null&&te.isIterable(i.body)?(this[Ma]=1,process.nextTick(gn,this)):gn(this,!0)),this[Ma]&&this[hs]!==2&&this[xQ]&&(this[hs]=2),this[hs]<2}async[cj](){return new Promise(e=>{this[Fa]?this[ds]=e:e(null)})}async[lj](e){return new Promise(r=>{let n=this[at].splice(this[dn]);for(let o=0;o<n.length;o++){let s=n[o];Qr(this,s,e)}let i=()=>{this[ds]&&(this[ds](),this[ds]=null),r()};this[hn]!=null&&(te.destroy(this[hn],e),this[hn]=null,this[BE]=null),this[bt]?te.destroy(this[bt].on(\"close\",i),e):queueMicrotask(i),gn(this)})}};function Qj(t){j(t.code!==\"ERR_TLS_CERT_ALTNAME_INVALID\"),this[bt][er]=t,SE(this[Di],t)}function wj(t,e,r){let n=new ki(`HTTP/2: \"frameError\" received - type ${t}, code ${e}`);r===0&&(this[bt][er]=n,SE(this[Di],n))}function Rj(){te.destroy(this,new $c(\"other side closed\")),te.destroy(this[bt],new $c(\"other side closed\"))}function Sj(t){let e=this[Di],r=new ki(`HTTP/2: \"GOAWAY\" frame received with code ${t}`);if(e[bt]=null,e[hn]=null,e.destroyed){j(this[La]===0);let n=e[at].splice(e[At]);for(let i=0;i<n.length;i++){let o=n[i];Qr(this,o,r)}}else if(e[It]>0){let n=e[at][e[At]];e[at][e[At]++]=null,Qr(e,n,r)}e[dn]=e[At],j(e[It]===0),e.emit(\"disconnect\",e[Zt],[e],r),gn(e)}var Si=vv(),Tj=EE(),bj=Buffer.alloc(0);async function kj(){let t=process.env.JEST_WORKER_ID?TQ():void 0,e;try{e=await WebAssembly.compile(Buffer.from(Uv(),\"base64\"))}catch{e=await WebAssembly.compile(Buffer.from(t||TQ(),\"base64\"))}return await WebAssembly.instantiate(e,{env:{wasm_on_url:(r,n,i)=>0,wasm_on_status:(r,n,i)=>{j.strictEqual(Ht.ptr,r);let o=n-bi+Ti.byteOffset;return Ht.onStatus(new CE(Ti.buffer,o,i))||0},wasm_on_message_begin:r=>(j.strictEqual(Ht.ptr,r),Ht.onMessageBegin()||0),wasm_on_header_field:(r,n,i)=>{j.strictEqual(Ht.ptr,r);let o=n-bi+Ti.byteOffset;return Ht.onHeaderField(new CE(Ti.buffer,o,i))||0},wasm_on_header_value:(r,n,i)=>{j.strictEqual(Ht.ptr,r);let o=n-bi+Ti.byteOffset;return Ht.onHeaderValue(new CE(Ti.buffer,o,i))||0},wasm_on_headers_complete:(r,n,i,o)=>(j.strictEqual(Ht.ptr,r),Ht.onHeadersComplete(n,!!i,!!o)||0),wasm_on_body:(r,n,i)=>{j.strictEqual(Ht.ptr,r);let o=n-bi+Ti.byteOffset;return Ht.onBody(new CE(Ti.buffer,o,i))||0},wasm_on_message_complete:r=>(j.strictEqual(Ht.ptr,r),Ht.onMessageComplete()||0)}})}var kQ=null,PQ=kj();PQ.catch();var Ht=null,Ti=null,mE=0,bi=null,Zc=1,IE=2,MQ=3,FQ=class{constructor(e,r,{exports:n}){j(Number.isFinite(e[yE])&&e[yE]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(Si.TYPE.RESPONSE),this.client=e,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText=\"\",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[yE],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive=\"\",this.contentLength=\"\",this.connection=\"\",this.maxResponseSize=e[zv]}setTimeout(e,r){this.timeoutType=r,e!==this.timeoutValue?(bQ.clearTimeout(this.timeout),e?(this.timeout=bQ.setTimeout(Dj,e,this),this.timeout.unref&&this.timeout.unref()):this.timeout=null,this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh()}resume(){this.socket.destroyed||!this.paused||(j(this.ptr!=null),j(Ht==null),this.llhttp.llhttp_resume(this.ptr),j(this.timeoutType===IE),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||bj),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(e===null)break;this.execute(e)}}execute(e){j(this.ptr!=null),j(Ht==null),j(!this.paused);let{socket:r,llhttp:n}=this;e.length>mE&&(bi&&n.free(bi),mE=Math.ceil(e.length/4096)*4096,bi=n.malloc(mE)),new Uint8Array(n.memory.buffer,bi,mE).set(e);try{let i;try{Ti=e,Ht=this,i=n.llhttp_execute(this.ptr,bi,e.length)}catch(s){throw s}finally{Ht=null,Ti=null}let o=n.llhttp_get_error_pos(this.ptr)-bi;if(i===Si.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(o));else if(i===Si.ERROR.PAUSED)this.paused=!0,r.unshift(e.slice(o));else if(i!==Si.ERROR.OK){let s=n.llhttp_get_error_reason(this.ptr),a=\"\";if(s){let A=new Uint8Array(n.memory.buffer,s).indexOf(0);a=\"Response does not match the HTTP/1.1 protocol (\"+Buffer.from(n.memory.buffer,s,A).toString()+\")\"}throw new rj(a,Si.ERROR[i],e.slice(o))}}catch(i){te.destroy(r,i)}}destroy(){j(this.ptr!=null),j(Ht==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,bQ.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:r}=this;if(e.destroyed||!r[at][r[At]])return-1}onHeaderField(e){let r=this.headers.length;(r&1)===0?this.headers.push(e):this.headers[r-1]=Buffer.concat([this.headers[r-1],e]),this.trackHeader(e.length)}onHeaderValue(e){let r=this.headers.length;(r&1)===1?(this.headers.push(e),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],e]);let n=this.headers[r-2];n.length===10&&n.toString().toLowerCase()===\"keep-alive\"?this.keepAlive+=e.toString():n.length===10&&n.toString().toLowerCase()===\"connection\"?this.connection+=e.toString():n.length===14&&n.toString().toLowerCase()===\"content-length\"&&(this.contentLength+=e.toString()),this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&te.destroy(this.socket,new ej)}onUpgrade(e){let{upgrade:r,client:n,socket:i,headers:o,statusCode:s}=this;j(r);let a=n[at][n[At]];j(a),j(!i.destroyed),j(i===n[bt]),j(!this.paused),j(a.upgrade||a.method===\"CONNECT\"),this.statusCode=null,this.statusText=\"\",this.shouldKeepAlive=null,j(this.headers.length%2===0),this.headers=[],this.headersSize=0,i.unshift(e),i[Tt].destroy(),i[Tt]=null,i[Di]=null,i[er]=null,i.removeListener(\"error\",Xv).removeListener(\"readable\",$v).removeListener(\"end\",Zv).removeListener(\"close\",LQ),n[bt]=null,n[at][n[At]++]=null,n.emit(\"disconnect\",n[Zt],[n],new ki(\"upgrade\"));try{a.onUpgrade(s,o,i)}catch(A){te.destroy(i,A)}gn(n)}onHeadersComplete(e,r,n){let{client:i,socket:o,headers:s,statusText:a}=this;if(o.destroyed)return-1;let A=i[at][i[At]];if(!A)return-1;if(j(!this.upgrade),j(this.statusCode<200),e===100)return te.destroy(o,new $c(\"bad response\",te.getSocketInfo(o))),-1;if(r&&!A.upgrade)return te.destroy(o,new $c(\"bad upgrade\",te.getSocketInfo(o))),-1;if(j.strictEqual(this.timeoutType,Zc),this.statusCode=e,this.shouldKeepAlive=n||A.method===\"HEAD\"&&!o[Br]&&this.connection.toLowerCase()===\"keep-alive\",this.statusCode>=200){let l=A.bodyTimeout!=null?A.bodyTimeout:i[Kv];this.setTimeout(l,IE)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(A.method===\"CONNECT\")return j(i[It]===1),this.upgrade=!0,2;if(r)return j(i[It]===1),this.upgrade=!0,2;if(j(this.headers.length%2===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[gs]){let l=this.keepAlive?te.parseKeepAliveTimeout(this.keepAlive):null;if(l!=null){let u=Math.min(l-i[Vv],i[Yv]);u<=0?o[Br]=!0:i[Qd]=u}else i[Qd]=i[vQ]}else o[Br]=!0;let c=A.onHeaders(e,s,this.resume,a)===!1;return A.aborted?-1:A.method===\"HEAD\"||e<200?1:(o[Xc]&&(o[Xc]=!1,gn(i)),c?Si.ERROR.PAUSED:0)}onBody(e){let{client:r,socket:n,statusCode:i,maxResponseSize:o}=this;if(n.destroyed)return-1;let s=r[at][r[At]];if(j(s),j.strictEqual(this.timeoutType,IE),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),j(i>=200),o>-1&&this.bytesRead+e.length>o)return te.destroy(n,new nj),-1;if(this.bytesRead+=e.length,s.onData(e)===!1)return Si.ERROR.PAUSED}onMessageComplete(){let{client:e,socket:r,statusCode:n,upgrade:i,headers:o,contentLength:s,bytesRead:a,shouldKeepAlive:A}=this;if(r.destroyed&&(!n||A))return-1;if(i)return;let c=e[at][e[At]];if(j(c),j(n>=100),this.statusCode=null,this.statusText=\"\",this.bytesRead=0,this.contentLength=\"\",this.keepAlive=\"\",this.connection=\"\",j(this.headers.length%2===0),this.headers=[],this.headersSize=0,!(n<200)){if(c.method!==\"HEAD\"&&s&&a!==parseInt(s,10))return te.destroy(r,new Xz),-1;if(c.onComplete(o),e[at][e[At]++]=null,r[mo])return j.strictEqual(e[It],0),te.destroy(r,new ki(\"reset\")),Si.ERROR.PAUSED;if(A){if(r[Br]&&e[It]===0)return te.destroy(r,new ki(\"reset\")),Si.ERROR.PAUSED;e[gs]===1?setImmediate(gn,e):gn(e)}else return te.destroy(r,new ki(\"reset\")),Si.ERROR.PAUSED}}};function Dj(t){let{socket:e,timeoutType:r,client:n}=t;r===Zc?(!e[mo]||e.writableNeedDrain||n[It]>1)&&(j(!t.paused,\"cannot be paused while waiting for headers\"),te.destroy(e,new Zz)):r===IE?t.paused||te.destroy(e,new tj):r===MQ&&(j(n[It]===0&&n[Qd]),te.destroy(e,new ki(\"socket idle timeout\")))}function $v(){let{[Tt]:t}=this;t&&t.readMore()}function Xv(t){let{[Di]:e,[Tt]:r}=this;if(j(t.code!==\"ERR_TLS_CERT_ALTNAME_INVALID\"),e[xi]!==\"h2\"&&t.code===\"ECONNRESET\"&&r.statusCode&&!r.shouldKeepAlive){r.onMessageComplete();return}this[er]=t,SE(this[Di],t)}function SE(t,e){if(t[It]===0&&e.code!==\"UND_ERR_INFO\"&&e.code!==\"UND_ERR_SOCKET\"){j(t[dn]===t[At]);let r=t[at].splice(t[At]);for(let n=0;n<r.length;n++){let i=r[n];Qr(t,i,e)}j(t[Fa]===0)}}function Zv(){let{[Tt]:t,[Di]:e}=this;if(e[xi]!==\"h2\"&&t.statusCode&&!t.shouldKeepAlive){t.onMessageComplete();return}te.destroy(this,new $c(\"other side closed\",te.getSocketInfo(this)))}function LQ(){let{[Di]:t,[Tt]:e}=this;t[xi]===\"h1\"&&e&&(!this[er]&&e.statusCode&&!e.shouldKeepAlive&&e.onMessageComplete(),this[Tt].destroy(),this[Tt]=null);let r=this[er]||new $c(\"closed\",te.getSocketInfo(this));if(t[bt]=null,t.destroyed){j(t[La]===0);let n=t[at].splice(t[At]);for(let i=0;i<n.length;i++){let o=n[i];Qr(t,o,r)}}else if(t[It]>0&&r.code!==\"UND_ERR_INFO\"){let n=t[at][t[At]];t[at][t[At]++]=null,Qr(t,n,r)}t[dn]=t[At],j(t[It]===0),t.emit(\"disconnect\",t[Zt],[t],r),gn(t)}async function eN(t){j(!t[jc]),j(!t[bt]);let{host:e,hostname:r,protocol:n,port:i}=t[Zt];if(r[0]===\"[\"){let o=r.indexOf(\"]\");j(o!==-1);let s=r.substring(1,o);j(qv.isIP(s)),r=s}t[jc]=!0,Ar.beforeConnect.hasSubscribers&&Ar.beforeConnect.publish({connectParams:{host:e,hostname:r,protocol:n,port:i,servername:t[us],localAddress:t[Bd]},connector:t[Id]});try{let o=await new Promise((a,A)=>{t[Id]({host:e,hostname:r,protocol:n,port:i,servername:t[us],localAddress:t[Bd]},(c,l)=>{c?A(c):a(l)})});if(t.destroyed){te.destroy(o.on(\"error\",()=>{}),new ij);return}if(t[jc]=!1,j(o),o.alpnProtocol===\"h2\"){_v||(_v=!0,process.emitWarning(\"H2 support is experimental, expect them to change at any time.\",{code:\"UNDICI-H2\"}));let a=QE.connect(t[Zt],{createConnection:()=>o,peerMaxConcurrentStreams:t[BE].maxConcurrentStreams});t[xi]=\"h2\",a[Di]=t,a[bt]=o,a.on(\"error\",Qj),a.on(\"frameError\",wj),a.on(\"end\",Rj),a.on(\"goaway\",Sj),a.on(\"close\",LQ),a.unref(),t[hn]=a,o[hn]=a}else kQ||(kQ=await PQ,PQ=null),o[yd]=!1,o[mo]=!1,o[Br]=!1,o[Xc]=!1,o[Tt]=new FQ(t,o,kQ);o[Wv]=0,o[Rd]=t[Rd],o[Di]=t,o[er]=null,o.on(\"error\",Xv).on(\"readable\",$v).on(\"end\",Zv).on(\"close\",LQ),t[bt]=o,Ar.connected.hasSubscribers&&Ar.connected.publish({connectParams:{host:e,hostname:r,protocol:n,port:i,servername:t[us],localAddress:t[Bd]},connector:t[Id],socket:o}),t.emit(\"connect\",t[Zt],[t])}catch(o){if(t.destroyed)return;if(t[jc]=!1,Ar.connectError.hasSubscribers&&Ar.connectError.publish({connectParams:{host:e,hostname:r,protocol:n,port:i,servername:t[us],localAddress:t[Bd]},connector:t[Id],error:o}),o.code===\"ERR_TLS_CERT_ALTNAME_INVALID\")for(j(t[It]===0);t[La]>0&&t[at][t[dn]].servername===t[us];){let s=t[at][t[dn]++];Qr(t,s,o)}else SE(t,o);t.emit(\"connectionError\",t[Zt],[t],o)}gn(t)}function Hv(t){t[hs]=0,t.emit(\"drain\",t[Zt],[t])}function gn(t,e){t[Ma]!==2&&(t[Ma]=2,xj(t,e),t[Ma]=0,t[At]>256&&(t[at].splice(0,t[At]),t[dn]-=t[At],t[At]=0))}function xj(t,e){for(;;){if(t.destroyed){j(t[La]===0);return}if(t[ds]&&!t[Fa]){t[ds](),t[ds]=null;return}let r=t[bt];if(r&&!r.destroyed&&r.alpnProtocol!==\"h2\"){if(t[Fa]===0?!r[yd]&&r.unref&&(r.unref(),r[yd]=!0):r[yd]&&r.ref&&(r.ref(),r[yd]=!1),t[Fa]===0)r[Tt].timeoutType!==MQ&&r[Tt].setTimeout(t[Qd],MQ);else if(t[It]>0&&r[Tt].statusCode<200&&r[Tt].timeoutType!==Zc){let i=t[at][t[At]],o=i.headersTimeout!=null?i.headersTimeout:t[Jv];r[Tt].setTimeout(o,Zc)}}if(t[xQ])t[hs]=2;else if(t[hs]===2){e?(t[hs]=1,process.nextTick(Hv,t)):Hv(t);continue}if(t[La]===0||t[It]>=(t[gs]||1))return;let n=t[at][t[dn]];if(t[Zt].protocol===\"https:\"&&t[us]!==n.servername){if(t[It]>0)return;if(t[us]=n.servername,r&&r.servername!==n.servername){te.destroy(r,new ki(\"servername changed\"));return}}if(t[jc])return;if(!r&&!t[hn]){eN(t);return}if(r.destroyed||r[mo]||r[Br]||r[Xc]||t[It]>0&&!n.idempotent||t[It]>0&&(n.upgrade||n.method===\"CONNECT\")||t[It]>0&&te.bodyLength(n.body)!==0&&(te.isStream(n.body)||te.isAsyncIterable(n.body)))return;!n.aborted&&vj(t,n)?t[dn]++:t[at].splice(t[dn],1)}}function tN(t){return t!==\"GET\"&&t!==\"HEAD\"&&t!==\"OPTIONS\"&&t!==\"TRACE\"&&t!==\"CONNECT\"}function vj(t,e){if(t[xi]===\"h2\"){Nj(t,t[hn],e);return}let{body:r,method:n,path:i,host:o,upgrade:s,headers:a,blocking:A,reset:c}=e,l=n===\"PUT\"||n===\"POST\"||n===\"PATCH\";r&&typeof r.read==\"function\"&&r.read(0);let u=te.bodyLength(r),d=u;if(d===null&&(d=e.contentLength),d===0&&!l&&(d=null),tN(n)&&d>0&&e.contentLength!==null&&e.contentLength!==d){if(t[wd])return Qr(t,e,new Co),!1;process.emitWarning(new Co)}let h=t[bt];try{e.onConnect(p=>{e.aborted||e.completed||(Qr(t,e,p||new OQ),te.destroy(h,new ki(\"aborted\")))})}catch(p){Qr(t,e,p)}if(e.aborted)return!1;n===\"HEAD\"&&(h[Br]=!0),(s||n===\"CONNECT\")&&(h[Br]=!0),c!=null&&(h[Br]=c),t[Rd]&&h[Wv]++>=t[Rd]&&(h[Br]=!0),A&&(h[Xc]=!0);let g=`${n} ${i} HTTP/1.1\\r\n`;return typeof o==\"string\"?g+=`host: ${o}\\r\n`:g+=t[Gv],s?g+=`connection: upgrade\\r\nupgrade: ${s}\\r\n`:t[gs]&&!h[Br]?g+=`connection: keep-alive\\r\n`:g+=`connection: close\\r\n`,a&&(g+=a),Ar.sendHeaders.hasSubscribers&&Ar.sendHeaders.publish({request:e,headers:g,socket:h}),!r||u===0?(d===0?h.write(`${g}content-length: 0\\r\n\\r\n`,\"latin1\"):(j(d===null,\"no body must not have content length\"),h.write(`${g}\\r\n`,\"latin1\")),e.onRequestSent()):te.isBuffer(r)?(j(d===r.byteLength,\"buffer body must have content length\"),h.cork(),h.write(`${g}content-length: ${d}\\r\n\\r\n`,\"latin1\"),h.write(r),h.uncork(),e.onBodySent(r),e.onRequestSent(),l||(h[Br]=!0)):te.isBlobLike(r)?typeof r.stream==\"function\"?wE({body:r.stream(),client:t,request:e,socket:h,contentLength:d,header:g,expectsPayload:l}):nN({body:r,client:t,request:e,socket:h,contentLength:d,header:g,expectsPayload:l}):te.isStream(r)?rN({body:r,client:t,request:e,socket:h,contentLength:d,header:g,expectsPayload:l}):te.isIterable(r)?wE({body:r,client:t,request:e,socket:h,contentLength:d,header:g,expectsPayload:l}):j(!1),!0}function Nj(t,e,r){let{body:n,method:i,path:o,host:s,upgrade:a,expectContinue:A,signal:c,headers:l}=r,u;if(typeof l==\"string\"?u=DQ[gj](l.trim()):u=l,a)return Qr(t,r,new Error(\"Upgrade not supported for H2\")),!1;try{r.onConnect(m=>{r.aborted||r.completed||Qr(t,r,m||new OQ)})}catch(m){Qr(t,r,m)}if(r.aborted)return!1;let d,h=t[BE];if(u[pj]=s||t[jv],u[Ej]=i,i===\"CONNECT\")return e.ref(),d=e.request(u,{endStream:!1,signal:c}),d.id&&!d.pending?(r.onUpgrade(null,null,d),++h.openStreams):d.once(\"ready\",()=>{r.onUpgrade(null,null,d),++h.openStreams}),d.once(\"close\",()=>{h.openStreams-=1,h.openStreams===0&&e.unref()}),!0;u[Cj]=o,u[mj]=\"https\";let g=i===\"PUT\"||i===\"POST\"||i===\"PATCH\";n&&typeof n.read==\"function\"&&n.read(0);let p=te.bodyLength(n);if(p==null&&(p=r.contentLength),(p===0||!g)&&(p=null),tN(i)&&p>0&&r.contentLength!=null&&r.contentLength!==p){if(t[wd])return Qr(t,r,new Co),!1;process.emitWarning(new Co)}p!=null&&(j(n,\"no body must not have content length\"),u[yj]=`${p}`),e.ref();let f=i===\"GET\"||i===\"HEAD\";return A?(u[Ij]=\"100-continue\",d=e.request(u,{endStream:f,signal:c}),d.once(\"continue\",C)):(d=e.request(u,{endStream:f,signal:c}),C()),++h.openStreams,d.once(\"response\",m=>{let{[Bj]:B,...T}=m;r.onHeaders(Number(B),T,d.resume.bind(d),\"\")===!1&&d.pause()}),d.once(\"end\",()=>{r.onComplete([])}),d.on(\"data\",m=>{r.onData(m)===!1&&d.pause()}),d.once(\"close\",()=>{h.openStreams-=1,h.openStreams===0&&e.unref()}),d.once(\"error\",function(m){t[hn]&&!t[hn].destroyed&&!this.closed&&!this.destroyed&&(h.streams-=1,te.destroy(d,m))}),d.once(\"frameError\",(m,B)=>{let T=new ki(`HTTP/2: \"frameError\" received - type ${m}, code ${B}`);Qr(t,r,T),t[hn]&&!t[hn].destroyed&&!this.closed&&!this.destroyed&&(h.streams-=1,te.destroy(d,T))}),!0;function C(){n?te.isBuffer(n)?(j(p===n.byteLength,\"buffer body must have content length\"),d.cork(),d.write(n),d.uncork(),d.end(),r.onBodySent(n),r.onRequestSent()):te.isBlobLike(n)?typeof n.stream==\"function\"?wE({client:t,request:r,contentLength:p,h2stream:d,expectsPayload:g,body:n.stream(),socket:t[bt],header:\"\"}):nN({body:n,client:t,request:r,contentLength:p,expectsPayload:g,h2stream:d,header:\"\",socket:t[bt]}):te.isStream(n)?rN({body:n,client:t,request:r,contentLength:p,expectsPayload:g,socket:t[bt],h2stream:d,header:\"\"}):te.isIterable(n)?wE({body:n,client:t,request:r,contentLength:p,expectsPayload:g,header:\"\",h2stream:d,socket:t[bt]}):j(!1):r.onRequestSent()}}function rN({h2stream:t,body:e,client:r,request:n,socket:i,contentLength:o,header:s,expectsPayload:a}){if(j(o!==0||r[It]===0,\"stream body cannot be pipelined\"),r[xi]===\"h2\"){let p=function(f){n.onBodySent(f)},g=jz(e,t,f=>{f?(te.destroy(e,f),te.destroy(t,f)):n.onRequestSent()});g.on(\"data\",p),g.once(\"end\",()=>{g.removeListener(\"data\",p),te.destroy(g)});return}let A=!1,c=new RE({socket:i,request:n,contentLength:o,client:r,expectsPayload:a,header:s}),l=function(g){if(!A)try{!c.write(g)&&this.pause&&this.pause()}catch(p){te.destroy(this,p)}},u=function(){A||e.resume&&e.resume()},d=function(){if(A)return;let g=new OQ;queueMicrotask(()=>h(g))},h=function(g){if(!A){if(A=!0,j(i.destroyed||i[mo]&&r[It]<=1),i.off(\"drain\",u).off(\"error\",h),e.removeListener(\"data\",l).removeListener(\"end\",h).removeListener(\"error\",h).removeListener(\"close\",d),!g)try{c.end()}catch(p){g=p}c.destroy(g),g&&(g.code!==\"UND_ERR_INFO\"||g.message!==\"reset\")?te.destroy(e,g):te.destroy(e)}};e.on(\"data\",l).on(\"end\",h).on(\"error\",h).on(\"close\",d),e.resume&&e.resume(),i.on(\"drain\",u).on(\"error\",h)}async function nN({h2stream:t,body:e,client:r,request:n,socket:i,contentLength:o,header:s,expectsPayload:a}){j(o===e.size,\"blob body must have content length\");let A=r[xi]===\"h2\";try{if(o!=null&&o!==e.size)throw new Co;let c=Buffer.from(await e.arrayBuffer());A?(t.cork(),t.write(c),t.uncork()):(i.cork(),i.write(`${s}content-length: ${o}\\r\n\\r\n`,\"latin1\"),i.write(c),i.uncork()),n.onBodySent(c),n.onRequestSent(),a||(i[Br]=!0),gn(r)}catch(c){te.destroy(A?t:i,c)}}async function wE({h2stream:t,body:e,client:r,request:n,socket:i,contentLength:o,header:s,expectsPayload:a}){j(o!==0||r[It]===0,\"iterator body cannot be pipelined\");let A=null;function c(){if(A){let d=A;A=null,d()}}let l=()=>new Promise((d,h)=>{j(A===null),i[er]?h(i[er]):A=d});if(r[xi]===\"h2\"){t.on(\"close\",c).on(\"drain\",c);try{for await(let d of e){if(i[er])throw i[er];let h=t.write(d);n.onBodySent(d),h||await l()}}catch(d){t.destroy(d)}finally{n.onRequestSent(),t.end(),t.off(\"close\",c).off(\"drain\",c)}return}i.on(\"close\",c).on(\"drain\",c);let u=new RE({socket:i,request:n,contentLength:o,client:r,expectsPayload:a,header:s});try{for await(let d of e){if(i[er])throw i[er];u.write(d)||await l()}u.end()}catch(d){u.destroy(d)}finally{i.off(\"close\",c).off(\"drain\",c)}}var RE=class{constructor({socket:e,request:r,contentLength:n,client:i,expectsPayload:o,header:s}){this.socket=e,this.request=r,this.contentLength=n,this.client=i,this.bytesWritten=0,this.expectsPayload=o,this.header=s,e[mo]=!0}write(e){let{socket:r,request:n,contentLength:i,client:o,bytesWritten:s,expectsPayload:a,header:A}=this;if(r[er])throw r[er];if(r.destroyed)return!1;let c=Buffer.byteLength(e);if(!c)return!0;if(i!==null&&s+c>i){if(o[wd])throw new Co;process.emitWarning(new Co)}r.cork(),s===0&&(a||(r[Br]=!0),i===null?r.write(`${A}transfer-encoding: chunked\\r\n`,\"latin1\"):r.write(`${A}content-length: ${i}\\r\n\\r\n`,\"latin1\")),i===null&&r.write(`\\r\n${c.toString(16)}\\r\n`,\"latin1\"),this.bytesWritten+=c;let l=r.write(e);return r.uncork(),n.onBodySent(e),l||r[Tt].timeout&&r[Tt].timeoutType===Zc&&r[Tt].timeout.refresh&&r[Tt].timeout.refresh(),l}end(){let{socket:e,contentLength:r,client:n,bytesWritten:i,expectsPayload:o,header:s,request:a}=this;if(a.onRequestSent(),e[mo]=!1,e[er])throw e[er];if(!e.destroyed){if(i===0?o?e.write(`${s}content-length: 0\\r\n\\r\n`,\"latin1\"):e.write(`${s}\\r\n`,\"latin1\"):r===null&&e.write(`\\r\n0\\r\n\\r\n`,\"latin1\"),r!==null&&i!==r){if(n[wd])throw new Co;process.emitWarning(new Co)}e[Tt].timeout&&e[Tt].timeoutType===Zc&&e[Tt].timeout.refresh&&e[Tt].timeout.refresh(),gn(n)}}destroy(e){let{socket:r,client:n}=this;r[mo]=!1,e&&(j(n[It]<=1,\"pipeline should only contain this request\"),te.destroy(r,e))}};function Qr(t,e,r){try{e.onError(r),j(e.aborted)}catch(n){t.emit(\"error\",n)}}iN.exports=NQ});var sN=y((xPe,oN)=>{\"use strict\";var TE=class{constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&2047}shift(){let e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,e)}};oN.exports=class{constructor(){this.head=this.tail=new TE}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new TE),this.head.push(e)}shift(){let e=this.tail,r=e.shift();return e.isEmpty()&&e.next!==null&&(this.tail=e.next),r}}});var AN=y((vPe,aN)=>{\"use strict\";var{kFree:Pj,kConnected:Mj,kPending:Fj,kQueued:Lj,kRunning:Oj,kSize:Uj}=st(),Oa=Symbol(\"pool\"),UQ=class{constructor(e){this[Oa]=e}get connected(){return this[Oa][Mj]}get free(){return this[Oa][Pj]}get pending(){return this[Oa][Fj]}get queued(){return this[Oa][Lj]}get running(){return this[Oa][Oj]}get size(){return this[Oa][Uj]}};aN.exports=UQ});var VQ=y((NPe,CN)=>{\"use strict\";var _j=Ed(),Hj=sN(),{kConnected:_Q,kSize:cN,kRunning:lN,kPending:uN,kQueued:Td,kBusy:qj,kFree:Gj,kUrl:Yj,kClose:Vj,kDestroy:Jj,kDispatch:Kj}=st(),Wj=AN(),Vr=Symbol(\"clients\"),wr=Symbol(\"needDrain\"),bd=Symbol(\"queue\"),HQ=Symbol(\"closed resolve\"),qQ=Symbol(\"onDrain\"),dN=Symbol(\"onConnect\"),hN=Symbol(\"onDisconnect\"),gN=Symbol(\"onConnectionError\"),GQ=Symbol(\"get dispatcher\"),pN=Symbol(\"add client\"),EN=Symbol(\"remove client\"),fN=Symbol(\"stats\"),YQ=class extends _j{constructor(){super(),this[bd]=new Hj,this[Vr]=[],this[Td]=0;let e=this;this[qQ]=function(n,i){let o=e[bd],s=!1;for(;!s;){let a=o.shift();if(!a)break;e[Td]--,s=!this.dispatch(a.opts,a.handler)}this[wr]=s,!this[wr]&&e[wr]&&(e[wr]=!1,e.emit(\"drain\",n,[e,...i])),e[HQ]&&o.isEmpty()&&Promise.all(e[Vr].map(a=>a.close())).then(e[HQ])},this[dN]=(r,n)=>{e.emit(\"connect\",r,[e,...n])},this[hN]=(r,n,i)=>{e.emit(\"disconnect\",r,[e,...n],i)},this[gN]=(r,n,i)=>{e.emit(\"connectionError\",r,[e,...n],i)},this[fN]=new Wj(this)}get[qj](){return this[wr]}get[_Q](){return this[Vr].filter(e=>e[_Q]).length}get[Gj](){return this[Vr].filter(e=>e[_Q]&&!e[wr]).length}get[uN](){let e=this[Td];for(let{[uN]:r}of this[Vr])e+=r;return e}get[lN](){let e=0;for(let{[lN]:r}of this[Vr])e+=r;return e}get[cN](){let e=this[Td];for(let{[cN]:r}of this[Vr])e+=r;return e}get stats(){return this[fN]}async[Vj](){return this[bd].isEmpty()?Promise.all(this[Vr].map(e=>e.close())):new Promise(e=>{this[HQ]=e})}async[Jj](e){for(;;){let r=this[bd].shift();if(!r)break;r.handler.onError(e)}return Promise.all(this[Vr].map(r=>r.destroy(e)))}[Kj](e,r){let n=this[GQ]();return n?n.dispatch(e,r)||(n[wr]=!0,this[wr]=!this[GQ]()):(this[wr]=!0,this[bd].push({opts:e,handler:r}),this[Td]++),!this[wr]}[pN](e){return e.on(\"drain\",this[qQ]).on(\"connect\",this[dN]).on(\"disconnect\",this[hN]).on(\"connectionError\",this[gN]),this[Vr].push(e),this[wr]&&process.nextTick(()=>{this[wr]&&this[qQ](e[Yj],[this,e])}),this}[EN](e){e.close(()=>{let r=this[Vr].indexOf(e);r!==-1&&this[Vr].splice(r,1)}),this[wr]=this[Vr].some(r=>!r[wr]&&r.closed!==!0&&r.destroyed!==!0)}};CN.exports={PoolBase:YQ,kClients:Vr,kNeedDrain:wr,kAddClient:pN,kRemoveClient:EN,kGetDispatcher:GQ}});var el=y((PPe,IN)=>{\"use strict\";var{PoolBase:zj,kClients:bE,kNeedDrain:jj,kAddClient:$j,kGetDispatcher:Xj}=VQ(),Zj=Sd(),{InvalidArgumentError:JQ}=Ze(),KQ=De(),{kUrl:mN,kInterceptors:e$}=st(),t$=Cd(),WQ=Symbol(\"options\"),zQ=Symbol(\"connections\"),yN=Symbol(\"factory\");function r$(t,e){return new Zj(t,e)}var jQ=class extends zj{constructor(e,{connections:r,factory:n=r$,connect:i,connectTimeout:o,tls:s,maxCachedSessions:a,socketPath:A,autoSelectFamily:c,autoSelectFamilyAttemptTimeout:l,allowH2:u,...d}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new JQ(\"invalid connections\");if(typeof n!=\"function\")throw new JQ(\"factory must be a function.\");if(i!=null&&typeof i!=\"function\"&&typeof i!=\"object\")throw new JQ(\"connect must be a function or an object\");typeof i!=\"function\"&&(i=t$({...s,maxCachedSessions:a,allowH2:u,socketPath:A,timeout:o,...KQ.nodeHasAutoSelectFamily&&c?{autoSelectFamily:c,autoSelectFamilyAttemptTimeout:l}:void 0,...i})),this[e$]=d.interceptors&&d.interceptors.Pool&&Array.isArray(d.interceptors.Pool)?d.interceptors.Pool:[],this[zQ]=r||null,this[mN]=KQ.parseOrigin(e),this[WQ]={...KQ.deepClone(d),connect:i,allowH2:u},this[WQ].interceptors=d.interceptors?{...d.interceptors}:void 0,this[yN]=n,this.on(\"connectionError\",(h,g,p)=>{for(let f of g){let C=this[bE].indexOf(f);C!==-1&&this[bE].splice(C,1)}})}[Xj](){let e=this[bE].find(r=>!r[jj]);return e||((!this[zQ]||this[bE].length<this[zQ])&&(e=this[yN](this[mN],this[WQ]),this[$j](e)),e)}};IN.exports=jQ});var TN=y((MPe,SN)=>{\"use strict\";var{BalancedPoolMissingUpstreamError:n$,InvalidArgumentError:i$}=Ze(),{PoolBase:o$,kClients:Rr,kNeedDrain:kd,kAddClient:s$,kRemoveClient:a$,kGetDispatcher:A$}=VQ(),c$=el(),{kUrl:$Q,kInterceptors:l$}=st(),{parseOrigin:BN}=De(),QN=Symbol(\"factory\"),kE=Symbol(\"options\"),wN=Symbol(\"kGreatestCommonDivisor\"),Ua=Symbol(\"kCurrentWeight\"),_a=Symbol(\"kIndex\"),Un=Symbol(\"kWeight\"),DE=Symbol(\"kMaxWeightPerServer\"),xE=Symbol(\"kErrorPenalty\");function RN(t,e){return e===0?t:RN(e,t%e)}function u$(t,e){return new c$(t,e)}var XQ=class extends o${constructor(e=[],{factory:r=u$,...n}={}){if(super(),this[kE]=n,this[_a]=-1,this[Ua]=0,this[DE]=this[kE].maxWeightPerServer||100,this[xE]=this[kE].errorPenalty||15,Array.isArray(e)||(e=[e]),typeof r!=\"function\")throw new i$(\"factory must be a function.\");this[l$]=n.interceptors&&n.interceptors.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[QN]=r;for(let i of e)this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(e){let r=BN(e).origin;if(this[Rr].find(i=>i[$Q].origin===r&&i.closed!==!0&&i.destroyed!==!0))return this;let n=this[QN](r,Object.assign({},this[kE]));this[s$](n),n.on(\"connect\",()=>{n[Un]=Math.min(this[DE],n[Un]+this[xE])}),n.on(\"connectionError\",()=>{n[Un]=Math.max(1,n[Un]-this[xE]),this._updateBalancedPoolStats()}),n.on(\"disconnect\",(...i)=>{let o=i[2];o&&o.code===\"UND_ERR_SOCKET\"&&(n[Un]=Math.max(1,n[Un]-this[xE]),this._updateBalancedPoolStats())});for(let i of this[Rr])i[Un]=this[DE];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){this[wN]=this[Rr].map(e=>e[Un]).reduce(RN,0)}removeUpstream(e){let r=BN(e).origin,n=this[Rr].find(i=>i[$Q].origin===r&&i.closed!==!0&&i.destroyed!==!0);return n&&this[a$](n),this}get upstreams(){return this[Rr].filter(e=>e.closed!==!0&&e.destroyed!==!0).map(e=>e[$Q].origin)}[A$](){if(this[Rr].length===0)throw new n$;if(!this[Rr].find(o=>!o[kd]&&o.closed!==!0&&o.destroyed!==!0)||this[Rr].map(o=>o[kd]).reduce((o,s)=>o&&s,!0))return;let n=0,i=this[Rr].findIndex(o=>!o[kd]);for(;n++<this[Rr].length;){this[_a]=(this[_a]+1)%this[Rr].length;let o=this[Rr][this[_a]];if(o[Un]>this[Rr][i][Un]&&!o[kd]&&(i=this[_a]),this[_a]===0&&(this[Ua]=this[Ua]-this[wN],this[Ua]<=0&&(this[Ua]=this[DE])),o[Un]>=this[Ua]&&!o[kd])return o}return this[Ua]=this[Rr][i][Un],this[_a]=i,this[Rr][i]}};SN.exports=XQ});var ZQ=y((FPe,DN)=>{\"use strict\";var{kConnected:bN,kSize:kN}=st(),vE=class{constructor(e){this.value=e}deref(){return this.value[bN]===0&&this.value[kN]===0?void 0:this.value}},NE=class{constructor(e){this.finalizer=e}register(e,r){e.on&&e.on(\"disconnect\",()=>{e[bN]===0&&e[kN]===0&&this.finalizer(r)})}};DN.exports=function(){return process.env.NODE_V8_COVERAGE?{WeakRef:vE,FinalizationRegistry:NE}:{WeakRef:global.WeakRef||vE,FinalizationRegistry:global.FinalizationRegistry||NE}}});var Dd=y((LPe,ON)=>{\"use strict\";var{InvalidArgumentError:PE}=Ze(),{kClients:fs,kRunning:xN,kClose:d$,kDestroy:h$,kDispatch:g$,kInterceptors:f$}=st(),p$=Ed(),E$=el(),C$=Sd(),m$=De(),y$=EE(),{WeakRef:I$,FinalizationRegistry:B$}=ZQ()(),vN=Symbol(\"onConnect\"),NN=Symbol(\"onDisconnect\"),PN=Symbol(\"onConnectionError\"),Q$=Symbol(\"maxRedirections\"),MN=Symbol(\"onDrain\"),FN=Symbol(\"factory\"),LN=Symbol(\"finalizer\"),ew=Symbol(\"options\");function w$(t,e){return e&&e.connections===1?new C$(t,e):new E$(t,e)}var tw=class extends p${constructor({factory:e=w$,maxRedirections:r=0,connect:n,...i}={}){if(super(),typeof e!=\"function\")throw new PE(\"factory must be a function.\");if(n!=null&&typeof n!=\"function\"&&typeof n!=\"object\")throw new PE(\"connect must be a function or an object\");if(!Number.isInteger(r)||r<0)throw new PE(\"maxRedirections must be a positive number\");n&&typeof n!=\"function\"&&(n={...n}),this[f$]=i.interceptors&&i.interceptors.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[y$({maxRedirections:r})],this[ew]={...m$.deepClone(i),connect:n},this[ew].interceptors=i.interceptors?{...i.interceptors}:void 0,this[Q$]=r,this[FN]=e,this[fs]=new Map,this[LN]=new B$(s=>{let a=this[fs].get(s);a!==void 0&&a.deref()===void 0&&this[fs].delete(s)});let o=this;this[MN]=(s,a)=>{o.emit(\"drain\",s,[o,...a])},this[vN]=(s,a)=>{o.emit(\"connect\",s,[o,...a])},this[NN]=(s,a,A)=>{o.emit(\"disconnect\",s,[o,...a],A)},this[PN]=(s,a,A)=>{o.emit(\"connectionError\",s,[o,...a],A)}}get[xN](){let e=0;for(let r of this[fs].values()){let n=r.deref();n&&(e+=n[xN])}return e}[g$](e,r){let n;if(e.origin&&(typeof e.origin==\"string\"||e.origin instanceof URL))n=String(e.origin);else throw new PE(\"opts.origin must be a non-empty string or URL.\");let i=this[fs].get(n),o=i?i.deref():null;return o||(o=this[FN](e.origin,this[ew]).on(\"drain\",this[MN]).on(\"connect\",this[vN]).on(\"disconnect\",this[NN]).on(\"connectionError\",this[PN]),this[fs].set(n,new I$(o)),this[LN].register(o,n)),o.dispatch(e,r)}async[d$](){let e=[];for(let r of this[fs].values()){let n=r.deref();n&&e.push(n.close())}await Promise.all(e)}async[h$](e){let r=[];for(let n of this[fs].values()){let i=n.deref();i&&r.push(i.destroy(e))}await Promise.all(r)}};ON.exports=tw});var KN=y((UPe,JN)=>{\"use strict\";var qN=require(\"assert\"),{Readable:R$}=require(\"stream\"),{RequestAbortedError:GN,NotSupportedError:S$,InvalidArgumentError:T$}=Ze(),LE=De(),{ReadableStreamFrom:b$,toUSVString:k$}=De(),rw,fn=Symbol(\"kConsume\"),ME=Symbol(\"kReading\"),ps=Symbol(\"kBody\"),UN=Symbol(\"abort\"),YN=Symbol(\"kContentType\"),_N=()=>{};JN.exports=class extends R${constructor({resume:e,abort:r,contentType:n=\"\",highWaterMark:i=64*1024}){super({autoDestroy:!0,read:e,highWaterMark:i}),this._readableState.dataEmitted=!1,this[UN]=r,this[fn]=null,this[ps]=null,this[YN]=n,this[ME]=!1}destroy(e){return this.destroyed?this:(!e&&!this._readableState.endEmitted&&(e=new GN),e&&this[UN](),super.destroy(e))}emit(e,...r){return e===\"data\"?this._readableState.dataEmitted=!0:e===\"error\"&&(this._readableState.errorEmitted=!0),super.emit(e,...r)}on(e,...r){return(e===\"data\"||e===\"readable\")&&(this[ME]=!0),super.on(e,...r)}addListener(e,...r){return this.on(e,...r)}off(e,...r){let n=super.off(e,...r);return(e===\"data\"||e===\"readable\")&&(this[ME]=this.listenerCount(\"data\")>0||this.listenerCount(\"readable\")>0),n}removeListener(e,...r){return this.off(e,...r)}push(e){return this[fn]&&e!==null&&this.readableLength===0?(VN(this[fn],e),this[ME]?super.push(e):!0):super.push(e)}async text(){return FE(this,\"text\")}async json(){return FE(this,\"json\")}async blob(){return FE(this,\"blob\")}async arrayBuffer(){return FE(this,\"arrayBuffer\")}async formData(){throw new S$}get bodyUsed(){return LE.isDisturbed(this)}get body(){return this[ps]||(this[ps]=b$(this),this[fn]&&(this[ps].getReader(),qN(this[ps].locked))),this[ps]}dump(e){let r=e&&Number.isFinite(e.limit)?e.limit:262144,n=e&&e.signal;if(n)try{if(typeof n!=\"object\"||!(\"aborted\"in n))throw new T$(\"signal must be an AbortSignal\");LE.throwIfAborted(n)}catch(i){return Promise.reject(i)}return this.closed?Promise.resolve(null):new Promise((i,o)=>{let s=n?LE.addAbortListener(n,()=>{this.destroy()}):_N;this.on(\"close\",function(){s(),n&&n.aborted?o(n.reason||Object.assign(new Error(\"The operation was aborted\"),{name:\"AbortError\"})):i(null)}).on(\"error\",_N).on(\"data\",function(a){r-=a.length,r<=0&&this.destroy()}).resume()})}};function D$(t){return t[ps]&&t[ps].locked===!0||t[fn]}function x$(t){return LE.isDisturbed(t)||D$(t)}async function FE(t,e){if(x$(t))throw new TypeError(\"unusable\");return qN(!t[fn]),new Promise((r,n)=>{t[fn]={type:e,stream:t,resolve:r,reject:n,length:0,body:[]},t.on(\"error\",function(i){nw(this[fn],i)}).on(\"close\",function(){this[fn].body!==null&&nw(this[fn],new GN)}),process.nextTick(v$,t[fn])})}function v$(t){if(t.body===null)return;let{_readableState:e}=t.stream;for(let r of e.buffer)VN(t,r);for(e.endEmitted?HN(this[fn]):t.stream.on(\"end\",function(){HN(this[fn])}),t.stream.resume();t.stream.read()!=null;);}function HN(t){let{type:e,body:r,resolve:n,stream:i,length:o}=t;try{if(e===\"text\")n(k$(Buffer.concat(r)));else if(e===\"json\")n(JSON.parse(Buffer.concat(r)));else if(e===\"arrayBuffer\"){let s=new Uint8Array(o),a=0;for(let A of r)s.set(A,a),a+=A.byteLength;n(s.buffer)}else e===\"blob\"&&(rw||(rw=require(\"buffer\").Blob),n(new rw(r,{type:i[YN]})));nw(t)}catch(s){i.destroy(s)}}function VN(t,e){t.length+=e.length,t.body.push(e)}function nw(t,e){t.body!==null&&(e?t.reject(e):t.resolve(),t.type=null,t.stream=null,t.resolve=null,t.reject=null,t.length=0,t.body=null)}});var iw=y((_Pe,zN)=>{\"use strict\";var N$=require(\"assert\"),{ResponseStatusCodeError:OE}=Ze(),{toUSVString:WN}=De();async function P$({callback:t,body:e,contentType:r,statusCode:n,statusMessage:i,headers:o}){N$(e);let s=[],a=0;for await(let A of e)if(s.push(A),a+=A.length,a>128*1024){s=null;break}if(n===204||!r||!s){process.nextTick(t,new OE(`Response status code ${n}${i?`: ${i}`:\"\"}`,n,o));return}try{if(r.startsWith(\"application/json\")){let A=JSON.parse(WN(Buffer.concat(s)));process.nextTick(t,new OE(`Response status code ${n}${i?`: ${i}`:\"\"}`,n,o,A));return}if(r.startsWith(\"text/\")){let A=WN(Buffer.concat(s));process.nextTick(t,new OE(`Response status code ${n}${i?`: ${i}`:\"\"}`,n,o,A));return}}catch{}process.nextTick(t,new OE(`Response status code ${n}${i?`: ${i}`:\"\"}`,n,o))}zN.exports={getResolveErrorBodyCallback:P$}});var rl=y((HPe,$N)=>{\"use strict\";var{addAbortListener:M$}=De(),{RequestAbortedError:F$}=Ze(),tl=Symbol(\"kListener\"),Es=Symbol(\"kSignal\");function jN(t){t.abort?t.abort():t.onError(new F$)}function L$(t,e){if(t[Es]=null,t[tl]=null,!!e){if(e.aborted){jN(t);return}t[Es]=e,t[tl]=()=>{jN(t)},M$(t[Es],t[tl])}}function O$(t){t[Es]&&(\"removeEventListener\"in t[Es]?t[Es].removeEventListener(\"abort\",t[tl]):t[Es].removeListener(\"abort\",t[tl]),t[Es]=null,t[tl]=null)}$N.exports={addSignal:L$,removeSignal:O$}});var eP=y((qPe,ow)=>{\"use strict\";var U$=KN(),{InvalidArgumentError:nl,RequestAbortedError:_$}=Ze(),vi=De(),{getResolveErrorBodyCallback:H$}=iw(),{AsyncResource:q$}=require(\"async_hooks\"),{addSignal:G$,removeSignal:XN}=rl(),UE=class extends q${constructor(e,r){if(!e||typeof e!=\"object\")throw new nl(\"invalid opts\");let{signal:n,method:i,opaque:o,body:s,onInfo:a,responseHeaders:A,throwOnError:c,highWaterMark:l}=e;try{if(typeof r!=\"function\")throw new nl(\"invalid callback\");if(l&&(typeof l!=\"number\"||l<0))throw new nl(\"invalid highWaterMark\");if(n&&typeof n.on!=\"function\"&&typeof n.addEventListener!=\"function\")throw new nl(\"signal must be an EventEmitter or EventTarget\");if(i===\"CONNECT\")throw new nl(\"invalid method\");if(a&&typeof a!=\"function\")throw new nl(\"invalid onInfo callback\");super(\"UNDICI_REQUEST\")}catch(u){throw vi.isStream(s)&&vi.destroy(s.on(\"error\",vi.nop),u),u}this.responseHeaders=A||null,this.opaque=o||null,this.callback=r,this.res=null,this.abort=null,this.body=s,this.trailers={},this.context=null,this.onInfo=a||null,this.throwOnError=c,this.highWaterMark=l,vi.isStream(s)&&s.on(\"error\",u=>{this.onError(u)}),G$(this,n)}onConnect(e,r){if(!this.callback)throw new _$;this.abort=e,this.context=r}onHeaders(e,r,n,i){let{callback:o,opaque:s,abort:a,context:A,responseHeaders:c,highWaterMark:l}=this,u=c===\"raw\"?vi.parseRawHeaders(r):vi.parseHeaders(r);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:u});return}let h=(c===\"raw\"?vi.parseHeaders(r):u)[\"content-type\"],g=new U$({resume:n,abort:a,contentType:h,highWaterMark:l});this.callback=null,this.res=g,o!==null&&(this.throwOnError&&e>=400?this.runInAsyncScope(H$,null,{callback:o,body:g,contentType:h,statusCode:e,statusMessage:i,headers:u}):this.runInAsyncScope(o,null,null,{statusCode:e,headers:u,trailers:this.trailers,opaque:s,body:g,context:A}))}onData(e){let{res:r}=this;return r.push(e)}onComplete(e){let{res:r}=this;XN(this),vi.parseHeaders(e,this.trailers),r.push(null)}onError(e){let{res:r,callback:n,body:i,opaque:o}=this;XN(this),n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:o})})),r&&(this.res=null,queueMicrotask(()=>{vi.destroy(r,e)})),i&&(this.body=null,vi.destroy(i,e))}};function ZN(t,e){if(e===void 0)return new Promise((r,n)=>{ZN.call(this,t,(i,o)=>i?n(i):r(o))});try{this.dispatch(t,new UE(t,e))}catch(r){if(typeof e!=\"function\")throw r;let n=t&&t.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}ow.exports=ZN;ow.exports.RequestHandler=UE});var iP=y((GPe,nP)=>{\"use strict\";var{finished:Y$,PassThrough:V$}=require(\"stream\"),{InvalidArgumentError:il,InvalidReturnValueError:J$,RequestAbortedError:K$}=Ze(),si=De(),{getResolveErrorBodyCallback:W$}=iw(),{AsyncResource:z$}=require(\"async_hooks\"),{addSignal:j$,removeSignal:tP}=rl(),sw=class extends z${constructor(e,r,n){if(!e||typeof e!=\"object\")throw new il(\"invalid opts\");let{signal:i,method:o,opaque:s,body:a,onInfo:A,responseHeaders:c,throwOnError:l}=e;try{if(typeof n!=\"function\")throw new il(\"invalid callback\");if(typeof r!=\"function\")throw new il(\"invalid factory\");if(i&&typeof i.on!=\"function\"&&typeof i.addEventListener!=\"function\")throw new il(\"signal must be an EventEmitter or EventTarget\");if(o===\"CONNECT\")throw new il(\"invalid method\");if(A&&typeof A!=\"function\")throw new il(\"invalid onInfo callback\");super(\"UNDICI_STREAM\")}catch(u){throw si.isStream(a)&&si.destroy(a.on(\"error\",si.nop),u),u}this.responseHeaders=c||null,this.opaque=s||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=a,this.onInfo=A||null,this.throwOnError=l||!1,si.isStream(a)&&a.on(\"error\",u=>{this.onError(u)}),j$(this,i)}onConnect(e,r){if(!this.callback)throw new K$;this.abort=e,this.context=r}onHeaders(e,r,n,i){let{factory:o,opaque:s,context:a,callback:A,responseHeaders:c}=this,l=c===\"raw\"?si.parseRawHeaders(r):si.parseHeaders(r);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:l});return}this.factory=null;let u;if(this.throwOnError&&e>=400){let g=(c===\"raw\"?si.parseHeaders(r):l)[\"content-type\"];u=new V$,this.callback=null,this.runInAsyncScope(W$,null,{callback:A,body:u,contentType:g,statusCode:e,statusMessage:i,headers:l})}else{if(o===null)return;if(u=this.runInAsyncScope(o,null,{statusCode:e,headers:l,opaque:s,context:a}),!u||typeof u.write!=\"function\"||typeof u.end!=\"function\"||typeof u.on!=\"function\")throw new J$(\"expected Writable\");Y$(u,{readable:!1},h=>{let{callback:g,res:p,opaque:f,trailers:C,abort:m}=this;this.res=null,(h||!p.readable)&&si.destroy(p,h),this.callback=null,this.runInAsyncScope(g,null,h||null,{opaque:f,trailers:C}),h&&m()})}return u.on(\"drain\",n),this.res=u,(u.writableNeedDrain!==void 0?u.writableNeedDrain:u._writableState&&u._writableState.needDrain)!==!0}onData(e){let{res:r}=this;return r?r.write(e):!0}onComplete(e){let{res:r}=this;tP(this),r&&(this.trailers=si.parseHeaders(e),r.end())}onError(e){let{res:r,callback:n,opaque:i,body:o}=this;tP(this),this.factory=null,r?(this.res=null,si.destroy(r,e)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:i})})),o&&(this.body=null,si.destroy(o,e))}};function rP(t,e,r){if(r===void 0)return new Promise((n,i)=>{rP.call(this,t,e,(o,s)=>o?i(o):n(s))});try{this.dispatch(t,new sw(t,e,r))}catch(n){if(typeof r!=\"function\")throw n;let i=t&&t.opaque;queueMicrotask(()=>r(n,{opaque:i}))}}nP.exports=rP});var aP=y((YPe,sP)=>{\"use strict\";var{Readable:oP,Duplex:$$,PassThrough:X$}=require(\"stream\"),{InvalidArgumentError:xd,InvalidReturnValueError:Z$,RequestAbortedError:_E}=Ze(),_n=De(),{AsyncResource:e4}=require(\"async_hooks\"),{addSignal:t4,removeSignal:r4}=rl(),n4=require(\"assert\"),ol=Symbol(\"resume\"),aw=class extends oP{constructor(){super({autoDestroy:!0}),this[ol]=null}_read(){let{[ol]:e}=this;e&&(this[ol]=null,e())}_destroy(e,r){this._read(),r(e)}},Aw=class extends oP{constructor(e){super({autoDestroy:!0}),this[ol]=e}_read(){this[ol]()}_destroy(e,r){!e&&!this._readableState.endEmitted&&(e=new _E),r(e)}},cw=class extends e4{constructor(e,r){if(!e||typeof e!=\"object\")throw new xd(\"invalid opts\");if(typeof r!=\"function\")throw new xd(\"invalid handler\");let{signal:n,method:i,opaque:o,onInfo:s,responseHeaders:a}=e;if(n&&typeof n.on!=\"function\"&&typeof n.addEventListener!=\"function\")throw new xd(\"signal must be an EventEmitter or EventTarget\");if(i===\"CONNECT\")throw new xd(\"invalid method\");if(s&&typeof s!=\"function\")throw new xd(\"invalid onInfo callback\");super(\"UNDICI_PIPELINE\"),this.opaque=o||null,this.responseHeaders=a||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=s||null,this.req=new aw().on(\"error\",_n.nop),this.ret=new $$({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{let{body:A}=this;A&&A.resume&&A.resume()},write:(A,c,l)=>{let{req:u}=this;u.push(A,c)||u._readableState.destroyed?l():u[ol]=l},destroy:(A,c)=>{let{body:l,req:u,res:d,ret:h,abort:g}=this;!A&&!h._readableState.endEmitted&&(A=new _E),g&&A&&g(),_n.destroy(l,A),_n.destroy(u,A),_n.destroy(d,A),r4(this),c(A)}}).on(\"prefinish\",()=>{let{req:A}=this;A.push(null)}),this.res=null,t4(this,n)}onConnect(e,r){let{ret:n,res:i}=this;if(n4(!i,\"pipeline cannot be retried\"),n.destroyed)throw new _E;this.abort=e,this.context=r}onHeaders(e,r,n){let{opaque:i,handler:o,context:s}=this;if(e<200){if(this.onInfo){let A=this.responseHeaders===\"raw\"?_n.parseRawHeaders(r):_n.parseHeaders(r);this.onInfo({statusCode:e,headers:A})}return}this.res=new Aw(n);let a;try{this.handler=null;let A=this.responseHeaders===\"raw\"?_n.parseRawHeaders(r):_n.parseHeaders(r);a=this.runInAsyncScope(o,null,{statusCode:e,headers:A,opaque:i,body:this.res,context:s})}catch(A){throw this.res.on(\"error\",_n.nop),A}if(!a||typeof a.on!=\"function\")throw new Z$(\"expected Readable\");a.on(\"data\",A=>{let{ret:c,body:l}=this;!c.push(A)&&l.pause&&l.pause()}).on(\"error\",A=>{let{ret:c}=this;_n.destroy(c,A)}).on(\"end\",()=>{let{ret:A}=this;A.push(null)}).on(\"close\",()=>{let{ret:A}=this;A._readableState.ended||_n.destroy(A,new _E)}),this.body=a}onData(e){let{res:r}=this;return r.push(e)}onComplete(e){let{res:r}=this;r.push(null)}onError(e){let{ret:r}=this;this.handler=null,_n.destroy(r,e)}};function i4(t,e){try{let r=new cw(t,e);return this.dispatch({...t,body:r.req},r),r.ret}catch(r){return new X$().destroy(r)}}sP.exports=i4});var dP=y((VPe,uP)=>{\"use strict\";var{InvalidArgumentError:lw,RequestAbortedError:o4,SocketError:s4}=Ze(),{AsyncResource:a4}=require(\"async_hooks\"),AP=De(),{addSignal:A4,removeSignal:cP}=rl(),c4=require(\"assert\"),uw=class extends a4{constructor(e,r){if(!e||typeof e!=\"object\")throw new lw(\"invalid opts\");if(typeof r!=\"function\")throw new lw(\"invalid callback\");let{signal:n,opaque:i,responseHeaders:o}=e;if(n&&typeof n.on!=\"function\"&&typeof n.addEventListener!=\"function\")throw new lw(\"signal must be an EventEmitter or EventTarget\");super(\"UNDICI_UPGRADE\"),this.responseHeaders=o||null,this.opaque=i||null,this.callback=r,this.abort=null,this.context=null,A4(this,n)}onConnect(e,r){if(!this.callback)throw new o4;this.abort=e,this.context=null}onHeaders(){throw new s4(\"bad upgrade\",null)}onUpgrade(e,r,n){let{callback:i,opaque:o,context:s}=this;c4.strictEqual(e,101),cP(this),this.callback=null;let a=this.responseHeaders===\"raw\"?AP.parseRawHeaders(r):AP.parseHeaders(r);this.runInAsyncScope(i,null,null,{headers:a,socket:n,opaque:o,context:s})}onError(e){let{callback:r,opaque:n}=this;cP(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})}))}};function lP(t,e){if(e===void 0)return new Promise((r,n)=>{lP.call(this,t,(i,o)=>i?n(i):r(o))});try{let r=new uw(t,e);this.dispatch({...t,method:t.method||\"GET\",upgrade:t.protocol||\"Websocket\"},r)}catch(r){if(typeof e!=\"function\")throw r;let n=t&&t.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}uP.exports=lP});var EP=y((JPe,pP)=>{\"use strict\";var{AsyncResource:l4}=require(\"async_hooks\"),{InvalidArgumentError:dw,RequestAbortedError:u4,SocketError:d4}=Ze(),hP=De(),{addSignal:h4,removeSignal:gP}=rl(),hw=class extends l4{constructor(e,r){if(!e||typeof e!=\"object\")throw new dw(\"invalid opts\");if(typeof r!=\"function\")throw new dw(\"invalid callback\");let{signal:n,opaque:i,responseHeaders:o}=e;if(n&&typeof n.on!=\"function\"&&typeof n.addEventListener!=\"function\")throw new dw(\"signal must be an EventEmitter or EventTarget\");super(\"UNDICI_CONNECT\"),this.opaque=i||null,this.responseHeaders=o||null,this.callback=r,this.abort=null,h4(this,n)}onConnect(e,r){if(!this.callback)throw new u4;this.abort=e,this.context=r}onHeaders(){throw new d4(\"bad connect\",null)}onUpgrade(e,r,n){let{callback:i,opaque:o,context:s}=this;gP(this),this.callback=null;let a=r;a!=null&&(a=this.responseHeaders===\"raw\"?hP.parseRawHeaders(r):hP.parseHeaders(r)),this.runInAsyncScope(i,null,null,{statusCode:e,headers:a,socket:n,opaque:o,context:s})}onError(e){let{callback:r,opaque:n}=this;gP(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})}))}};function fP(t,e){if(e===void 0)return new Promise((r,n)=>{fP.call(this,t,(i,o)=>i?n(i):r(o))});try{let r=new hw(t,e);this.dispatch({...t,method:\"CONNECT\"},r)}catch(r){if(typeof e!=\"function\")throw r;let n=t&&t.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}pP.exports=fP});var CP=y((KPe,sl)=>{\"use strict\";sl.exports.request=eP();sl.exports.stream=iP();sl.exports.pipeline=aP();sl.exports.upgrade=dP();sl.exports.connect=EP()});var fw=y((WPe,mP)=>{\"use strict\";var{UndiciError:g4}=Ze(),gw=class t extends g4{constructor(e){super(e),Error.captureStackTrace(this,t),this.name=\"MockNotMatchedError\",this.message=e||\"The request does not match any registered mock dispatches\",this.code=\"UND_MOCK_ERR_MOCK_NOT_MATCHED\"}};mP.exports={MockNotMatchedError:gw}});var al=y((zPe,yP)=>{\"use strict\";yP.exports={kAgent:Symbol(\"agent\"),kOptions:Symbol(\"options\"),kFactory:Symbol(\"factory\"),kDispatches:Symbol(\"dispatches\"),kDispatchKey:Symbol(\"dispatch key\"),kDefaultHeaders:Symbol(\"default headers\"),kDefaultTrailers:Symbol(\"default trailers\"),kContentLength:Symbol(\"content length\"),kMockAgent:Symbol(\"mock agent\"),kMockAgentSet:Symbol(\"mock agent set\"),kMockAgentGet:Symbol(\"mock agent get\"),kMockDispatch:Symbol(\"mock dispatch\"),kClose:Symbol(\"close\"),kOriginalClose:Symbol(\"original agent close\"),kOrigin:Symbol(\"origin\"),kIsMockActive:Symbol(\"is mock active\"),kNetConnect:Symbol(\"net connect\"),kGetNetConnect:Symbol(\"get net connect\"),kConnected:Symbol(\"connected\")}});var vd=y((jPe,vP)=>{\"use strict\";var{MockNotMatchedError:Ha}=fw(),{kDispatches:HE,kMockAgent:f4,kOriginalDispatch:p4,kOrigin:E4,kGetNetConnect:C4}=al(),{buildURL:m4,nop:y4}=De(),{STATUS_CODES:I4}=require(\"http\"),{types:{isPromise:B4}}=require(\"util\");function yo(t,e){return typeof t==\"string\"?t===e:t instanceof RegExp?t.test(e):typeof t==\"function\"?t(e)===!0:!1}function BP(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e.toLocaleLowerCase(),r]))}function QP(t,e){if(Array.isArray(t)){for(let r=0;r<t.length;r+=2)if(t[r].toLocaleLowerCase()===e.toLocaleLowerCase())return t[r+1];return}else return typeof t.get==\"function\"?t.get(e):BP(t)[e.toLocaleLowerCase()]}function wP(t){let e=t.slice(),r=[];for(let n=0;n<e.length;n+=2)r.push([e[n],e[n+1]]);return Object.fromEntries(r)}function RP(t,e){if(typeof t.headers==\"function\")return Array.isArray(e)&&(e=wP(e)),t.headers(e?BP(e):{});if(typeof t.headers>\"u\")return!0;if(typeof e!=\"object\"||typeof t.headers!=\"object\")return!1;for(let[r,n]of Object.entries(t.headers)){let i=QP(e,r);if(!yo(n,i))return!1}return!0}function IP(t){if(typeof t!=\"string\")return t;let e=t.split(\"?\");if(e.length!==2)return t;let r=new URLSearchParams(e.pop());return r.sort(),[...e,r.toString()].join(\"?\")}function Q4(t,{path:e,method:r,body:n,headers:i}){let o=yo(t.path,e),s=yo(t.method,r),a=typeof t.body<\"u\"?yo(t.body,n):!0,A=RP(t,i);return o&&s&&a&&A}function SP(t){return Buffer.isBuffer(t)?t:typeof t==\"object\"?JSON.stringify(t):t.toString()}function TP(t,e){let r=e.query?m4(e.path,e.query):e.path,n=typeof r==\"string\"?IP(r):r,i=t.filter(({consumed:o})=>!o).filter(({path:o})=>yo(IP(o),n));if(i.length===0)throw new Ha(`Mock dispatch not matched for path '${n}'`);if(i=i.filter(({method:o})=>yo(o,e.method)),i.length===0)throw new Ha(`Mock dispatch not matched for method '${e.method}'`);if(i=i.filter(({body:o})=>typeof o<\"u\"?yo(o,e.body):!0),i.length===0)throw new Ha(`Mock dispatch not matched for body '${e.body}'`);if(i=i.filter(o=>RP(o,e.headers)),i.length===0)throw new Ha(`Mock dispatch not matched for headers '${typeof e.headers==\"object\"?JSON.stringify(e.headers):e.headers}'`);return i[0]}function w4(t,e,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof r==\"function\"?{callback:r}:{...r},o={...n,...e,pending:!0,data:{error:null,...i}};return t.push(o),o}function pw(t,e){let r=t.findIndex(n=>n.consumed?Q4(n,e):!1);r!==-1&&t.splice(r,1)}function bP(t){let{path:e,method:r,body:n,headers:i,query:o}=t;return{path:e,method:r,body:n,headers:i,query:o}}function Ew(t){return Object.entries(t).reduce((e,[r,n])=>[...e,Buffer.from(`${r}`),Array.isArray(n)?n.map(i=>Buffer.from(`${i}`)):Buffer.from(`${n}`)],[])}function kP(t){return I4[t]||\"unknown\"}async function R4(t){let e=[];for await(let r of t)e.push(r);return Buffer.concat(e).toString(\"utf8\")}function DP(t,e){let r=bP(t),n=TP(this[HE],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(t)});let{data:{statusCode:i,data:o,headers:s,trailers:a,error:A},delay:c,persist:l}=n,{timesInvoked:u,times:d}=n;if(n.consumed=!l&&u>=d,n.pending=u<d,A!==null)return pw(this[HE],r),e.onError(A),!0;typeof c==\"number\"&&c>0?setTimeout(()=>{h(this[HE])},c):h(this[HE]);function h(p,f=o){let C=Array.isArray(t.headers)?wP(t.headers):t.headers,m=typeof f==\"function\"?f({...t,headers:C}):f;if(B4(m)){m.then(F=>h(p,F));return}let B=SP(m),T=Ew(s),L=Ew(a);e.abort=y4,e.onHeaders(i,T,g,kP(i)),e.onData(Buffer.from(B)),e.onComplete(L),pw(p,r)}function g(){}return!0}function S4(){let t=this[f4],e=this[E4],r=this[p4];return function(i,o){if(t.isMockActive)try{DP.call(this,i,o)}catch(s){if(s instanceof Ha){let a=t[C4]();if(a===!1)throw new Ha(`${s.message}: subsequent request to origin ${e} was not allowed (net.connect disabled)`);if(xP(a,e))r.call(this,i,o);else throw new Ha(`${s.message}: subsequent request to origin ${e} was not allowed (net.connect is not enabled for this origin)`)}else throw s}else r.call(this,i,o)}}function xP(t,e){let r=new URL(e);return t===!0?!0:!!(Array.isArray(t)&&t.some(n=>yo(n,r.host)))}function T4(t){if(t){let{agent:e,...r}=t;return r}}vP.exports={getResponseData:SP,getMockDispatch:TP,addMockDispatch:w4,deleteMockDispatch:pw,buildKey:bP,generateKeyValues:Ew,matchValue:yo,getResponse:R4,getStatusText:kP,mockDispatch:DP,buildMockDispatch:S4,checkNetConnect:xP,buildMockOptions:T4,getHeaderByName:QP}});var ww=y(($Pe,Qw)=>{\"use strict\";var{getResponseData:b4,buildKey:k4,addMockDispatch:Cw}=vd(),{kDispatches:qE,kDispatchKey:GE,kDefaultHeaders:mw,kDefaultTrailers:yw,kContentLength:Iw,kMockDispatch:YE}=al(),{InvalidArgumentError:ai}=Ze(),{buildURL:D4}=De(),Al=class{constructor(e){this[YE]=e}delay(e){if(typeof e!=\"number\"||!Number.isInteger(e)||e<=0)throw new ai(\"waitInMs must be a valid integer > 0\");return this[YE].delay=e,this}persist(){return this[YE].persist=!0,this}times(e){if(typeof e!=\"number\"||!Number.isInteger(e)||e<=0)throw new ai(\"repeatTimes must be a valid integer > 0\");return this[YE].times=e,this}},Bw=class{constructor(e,r){if(typeof e!=\"object\")throw new ai(\"opts must be an object\");if(typeof e.path>\"u\")throw new ai(\"opts.path must be defined\");if(typeof e.method>\"u\"&&(e.method=\"GET\"),typeof e.path==\"string\")if(e.query)e.path=D4(e.path,e.query);else{let n=new URL(e.path,\"data://\");e.path=n.pathname+n.search}typeof e.method==\"string\"&&(e.method=e.method.toUpperCase()),this[GE]=k4(e),this[qE]=r,this[mw]={},this[yw]={},this[Iw]=!1}createMockScopeDispatchData(e,r,n={}){let i=b4(r),o=this[Iw]?{\"content-length\":i.length}:{},s={...this[mw],...o,...n.headers},a={...this[yw],...n.trailers};return{statusCode:e,data:r,headers:s,trailers:a}}validateReplyParameters(e,r,n){if(typeof e>\"u\")throw new ai(\"statusCode must be defined\");if(typeof r>\"u\")throw new ai(\"data must be defined\");if(typeof n!=\"object\")throw new ai(\"responseOptions must be an object\")}reply(e){if(typeof e==\"function\"){let a=c=>{let l=e(c);if(typeof l!=\"object\")throw new ai(\"reply options callback must return an object\");let{statusCode:u,data:d=\"\",responseOptions:h={}}=l;return this.validateReplyParameters(u,d,h),{...this.createMockScopeDispatchData(u,d,h)}},A=Cw(this[qE],this[GE],a);return new Al(A)}let[r,n=\"\",i={}]=[...arguments];this.validateReplyParameters(r,n,i);let o=this.createMockScopeDispatchData(r,n,i),s=Cw(this[qE],this[GE],o);return new Al(s)}replyWithError(e){if(typeof e>\"u\")throw new ai(\"error must be defined\");let r=Cw(this[qE],this[GE],{error:e});return new Al(r)}defaultReplyHeaders(e){if(typeof e>\"u\")throw new ai(\"headers must be defined\");return this[mw]=e,this}defaultReplyTrailers(e){if(typeof e>\"u\")throw new ai(\"trailers must be defined\");return this[yw]=e,this}replyContentLength(){return this[Iw]=!0,this}};Qw.exports.MockInterceptor=Bw;Qw.exports.MockScope=Al});var Tw=y((XPe,UP)=>{\"use strict\";var{promisify:x4}=require(\"util\"),v4=Sd(),{buildMockDispatch:N4}=vd(),{kDispatches:NP,kMockAgent:PP,kClose:MP,kOriginalClose:FP,kOrigin:LP,kOriginalDispatch:P4,kConnected:Rw}=al(),{MockInterceptor:M4}=ww(),OP=st(),{InvalidArgumentError:F4}=Ze(),Sw=class extends v4{constructor(e,r){if(super(e,r),!r||!r.agent||typeof r.agent.dispatch!=\"function\")throw new F4(\"Argument opts.agent must implement Agent\");this[PP]=r.agent,this[LP]=e,this[NP]=[],this[Rw]=1,this[P4]=this.dispatch,this[FP]=this.close.bind(this),this.dispatch=N4.call(this),this.close=this[MP]}get[OP.kConnected](){return this[Rw]}intercept(e){return new M4(e,this[NP])}async[MP](){await x4(this[FP])(),this[Rw]=0,this[PP][OP.kClients].delete(this[LP])}};UP.exports=Sw});var Dw=y((ZPe,JP)=>{\"use strict\";var{promisify:L4}=require(\"util\"),O4=el(),{buildMockDispatch:U4}=vd(),{kDispatches:_P,kMockAgent:HP,kClose:qP,kOriginalClose:GP,kOrigin:YP,kOriginalDispatch:_4,kConnected:bw}=al(),{MockInterceptor:H4}=ww(),VP=st(),{InvalidArgumentError:q4}=Ze(),kw=class extends O4{constructor(e,r){if(super(e,r),!r||!r.agent||typeof r.agent.dispatch!=\"function\")throw new q4(\"Argument opts.agent must implement Agent\");this[HP]=r.agent,this[YP]=e,this[_P]=[],this[bw]=1,this[_4]=this.dispatch,this[GP]=this.close.bind(this),this.dispatch=U4.call(this),this.close=this[qP]}get[VP.kConnected](){return this[bw]}intercept(e){return new H4(e,this[_P])}async[qP](){await L4(this[GP])(),this[bw]=0,this[HP][VP.kClients].delete(this[YP])}};JP.exports=kw});var WP=y((tMe,KP)=>{\"use strict\";var G4={pronoun:\"it\",is:\"is\",was:\"was\",this:\"this\"},Y4={pronoun:\"they\",is:\"are\",was:\"were\",this:\"these\"};KP.exports=class{constructor(e,r){this.singular=e,this.plural=r}pluralize(e){let r=e===1,n=r?G4:Y4,i=r?this.singular:this.plural;return{...n,count:e,noun:i}}}});var jP=y((nMe,zP)=>{\"use strict\";var{Transform:V4}=require(\"stream\"),{Console:J4}=require(\"console\");zP.exports=class{constructor({disableColors:e}={}){this.transform=new V4({transform(r,n,i){i(null,r)}}),this.logger=new J4({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let r=e.map(({method:n,path:i,data:{statusCode:o},persist:s,times:a,timesInvoked:A,origin:c})=>({Method:n,Origin:c,Path:i,\"Status code\":o,Persistent:s?\"\\u2705\":\"\\u274C\",Invocations:A,Remaining:s?1/0:a-A}));return this.logger.table(r),this.transform.read().toString()}}});var eM=y((iMe,ZP)=>{\"use strict\";var{kClients:qa}=st(),K4=Dd(),{kAgent:xw,kMockAgentSet:VE,kMockAgentGet:$P,kDispatches:vw,kIsMockActive:JE,kNetConnect:Ga,kGetNetConnect:W4,kOptions:KE,kFactory:WE}=al(),z4=Tw(),j4=Dw(),{matchValue:$4,buildMockOptions:X4}=vd(),{InvalidArgumentError:XP,UndiciError:Z4}=Ze(),e8=hE(),t8=WP(),r8=jP(),Nw=class{constructor(e){this.value=e}deref(){return this.value}},Pw=class extends e8{constructor(e){if(super(e),this[Ga]=!0,this[JE]=!0,e&&e.agent&&typeof e.agent.dispatch!=\"function\")throw new XP(\"Argument opts.agent must implement Agent\");let r=e&&e.agent?e.agent:new K4(e);this[xw]=r,this[qa]=r[qa],this[KE]=X4(e)}get(e){let r=this[$P](e);return r||(r=this[WE](e),this[VE](e,r)),r}dispatch(e,r){return this.get(e.origin),this[xw].dispatch(e,r)}async close(){await this[xw].close(),this[qa].clear()}deactivate(){this[JE]=!1}activate(){this[JE]=!0}enableNetConnect(e){if(typeof e==\"string\"||typeof e==\"function\"||e instanceof RegExp)Array.isArray(this[Ga])?this[Ga].push(e):this[Ga]=[e];else if(typeof e>\"u\")this[Ga]=!0;else throw new XP(\"Unsupported matcher. Must be one of String|Function|RegExp.\")}disableNetConnect(){this[Ga]=!1}get isMockActive(){return this[JE]}[VE](e,r){this[qa].set(e,new Nw(r))}[WE](e){let r=Object.assign({agent:this},this[KE]);return this[KE]&&this[KE].connections===1?new z4(e,r):new j4(e,r)}[$P](e){let r=this[qa].get(e);if(r)return r.deref();if(typeof e!=\"string\"){let n=this[WE](\"http://localhost:9999\");return this[VE](e,n),n}for(let[n,i]of Array.from(this[qa])){let o=i.deref();if(o&&typeof n!=\"string\"&&$4(n,e)){let s=this[WE](e);return this[VE](e,s),s[vw]=o[vw],s}}}[W4](){return this[Ga]}pendingInterceptors(){let e=this[qa];return Array.from(e.entries()).flatMap(([r,n])=>n.deref()[vw].map(i=>({...i,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new r8}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new t8(\"interceptor\",\"interceptors\").pluralize(r.length);throw new Z4(`\n${n.count} ${n.noun} ${n.is} pending:\n\n${e.format(r)}\n`.trim())}};ZP.exports=Pw});var sM=y((oMe,oM)=>{\"use strict\";var{kProxy:n8,kClose:i8,kDestroy:o8,kInterceptors:s8}=st(),{URL:tM}=require(\"url\"),rM=Dd(),a8=el(),A8=Ed(),{InvalidArgumentError:Md,RequestAbortedError:c8}=Ze(),nM=Cd(),Nd=Symbol(\"proxy agent\"),zE=Symbol(\"proxy client\"),Pd=Symbol(\"proxy headers\"),Mw=Symbol(\"request tls settings\"),l8=Symbol(\"proxy tls settings\"),iM=Symbol(\"connect endpoint function\");function u8(t){return t===\"https:\"?443:80}function d8(t){if(typeof t==\"string\"&&(t={uri:t}),!t||!t.uri)throw new Md(\"Proxy opts.uri is mandatory\");return{uri:t.uri,protocol:t.protocol||\"https\"}}function h8(t,e){return new a8(t,e)}var Fw=class extends A8{constructor(e){if(super(e),this[n8]=d8(e),this[Nd]=new rM(e),this[s8]=e.interceptors&&e.interceptors.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],typeof e==\"string\"&&(e={uri:e}),!e||!e.uri)throw new Md(\"Proxy opts.uri is mandatory\");let{clientFactory:r=h8}=e;if(typeof r!=\"function\")throw new Md(\"Proxy opts.clientFactory must be a function.\");this[Mw]=e.requestTls,this[l8]=e.proxyTls,this[Pd]=e.headers||{};let n=new tM(e.uri),{origin:i,port:o,host:s,username:a,password:A}=n;if(e.auth&&e.token)throw new Md(\"opts.auth cannot be used in combination with opts.token\");e.auth?this[Pd][\"proxy-authorization\"]=`Basic ${e.auth}`:e.token?this[Pd][\"proxy-authorization\"]=e.token:a&&A&&(this[Pd][\"proxy-authorization\"]=`Basic ${Buffer.from(`${decodeURIComponent(a)}:${decodeURIComponent(A)}`).toString(\"base64\")}`);let c=nM({...e.proxyTls});this[iM]=nM({...e.requestTls}),this[zE]=r(n,{connect:c}),this[Nd]=new rM({...e,connect:async(l,u)=>{let d=l.host;l.port||(d+=`:${u8(l.protocol)}`);try{let{socket:h,statusCode:g}=await this[zE].connect({origin:i,port:o,path:d,signal:l.signal,headers:{...this[Pd],host:s}});if(g!==200&&(h.on(\"error\",()=>{}).destroy(),u(new c8(`Proxy response (${g}) !== 200 when HTTP Tunneling`))),l.protocol!==\"https:\"){u(null,h);return}let p;this[Mw]?p=this[Mw].servername:p=l.servername,this[iM]({...l,servername:p,httpSocket:h},u)}catch(h){u(h)}}})}dispatch(e,r){let{host:n}=new tM(e.origin),i=g8(e.headers);return f8(i),this[Nd].dispatch({...e,headers:{...i,host:n}},r)}async[i8](){await this[Nd].close(),await this[zE].close()}async[o8](){await this[Nd].destroy(),await this[zE].destroy()}};function g8(t){if(Array.isArray(t)){let e={};for(let r=0;r<t.length;r+=2)e[t[r]]=t[r+1];return e}return t}function f8(t){if(t&&Object.keys(t).find(r=>r.toLowerCase()===\"proxy-authorization\"))throw new Md(\"Proxy-Authorization should be sent in ProxyAgent constructor\")}oM.exports=Fw});var uM=y((sMe,lM)=>{\"use strict\";var Ya=require(\"assert\"),{kRetryHandlerDefaultRetry:aM}=st(),{RequestRetryError:jE}=Ze(),{isDisturbed:AM,parseHeaders:p8,parseRangeHeader:cM}=De();function E8(t){let e=Date.now();return new Date(t).getTime()-e}var Lw=class t{constructor(e,r){let{retryOptions:n,...i}=e,{retry:o,maxRetries:s,maxTimeout:a,minTimeout:A,timeoutFactor:c,methods:l,errorCodes:u,retryAfter:d,statusCodes:h}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts=i,this.abort=null,this.aborted=!1,this.retryOpts={retry:o??t[aM],retryAfter:d??!0,maxTimeout:a??30*1e3,timeout:A??500,timeoutFactor:c??2,maxRetries:s??5,methods:l??[\"GET\",\"HEAD\",\"OPTIONS\",\"PUT\",\"DELETE\",\"TRACE\"],statusCodes:h??[500,502,503,504,429],errorCodes:u??[\"ECONNRESET\",\"ECONNREFUSED\",\"ENOTFOUND\",\"ENETDOWN\",\"ENETUNREACH\",\"EHOSTDOWN\",\"EHOSTUNREACH\",\"EPIPE\"]},this.retryCount=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(g=>{this.aborted=!0,this.abort?this.abort(g):this.reason=g})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(e,r,n)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[aM](e,{state:r,opts:n},i){let{statusCode:o,code:s,headers:a}=e,{method:A,retryOptions:c}=n,{maxRetries:l,timeout:u,maxTimeout:d,timeoutFactor:h,statusCodes:g,errorCodes:p,methods:f}=c,{counter:C,currentTimeout:m}=r;if(m=m!=null&&m>0?m:u,s&&s!==\"UND_ERR_REQ_RETRY\"&&s!==\"UND_ERR_SOCKET\"&&!p.includes(s)){i(e);return}if(Array.isArray(f)&&!f.includes(A)){i(e);return}if(o!=null&&Array.isArray(g)&&!g.includes(o)){i(e);return}if(C>l){i(e);return}let B=a!=null&&a[\"retry-after\"];B&&(B=Number(B),B=isNaN(B)?E8(B):B*1e3);let T=B>0?Math.min(B,d):Math.min(m*h**C,d);r.currentTimeout=T,setTimeout(()=>i(null),T)}onHeaders(e,r,n,i){let o=p8(r);if(this.retryCount+=1,e>=300)return this.abort(new jE(\"Request failed\",e,{headers:o,count:this.retryCount})),!1;if(this.resume!=null){if(this.resume=null,e!==206)return!0;let a=cM(o[\"content-range\"]);if(!a)return this.abort(new jE(\"Content-Range mismatch\",e,{headers:o,count:this.retryCount})),!1;if(this.etag!=null&&this.etag!==o.etag)return this.abort(new jE(\"ETag mismatch\",e,{headers:o,count:this.retryCount})),!1;let{start:A,size:c,end:l=c}=a;return Ya(this.start===A,\"content-range mismatch\"),Ya(this.end==null||this.end===l,\"content-range mismatch\"),this.resume=n,!0}if(this.end==null){if(e===206){let a=cM(o[\"content-range\"]);if(a==null)return this.handler.onHeaders(e,r,n,i);let{start:A,size:c,end:l=c}=a;Ya(A!=null&&Number.isFinite(A)&&this.start!==A,\"content-range mismatch\"),Ya(Number.isFinite(A)),Ya(l!=null&&Number.isFinite(l)&&this.end!==l,\"invalid content-length\"),this.start=A,this.end=l}if(this.end==null){let a=o[\"content-length\"];this.end=a!=null?Number(a):null}return Ya(Number.isFinite(this.start)),Ya(this.end==null||Number.isFinite(this.end),\"invalid content-length\"),this.resume=n,this.etag=o.etag!=null?o.etag:null,this.handler.onHeaders(e,r,n,i)}let s=new jE(\"Request failed\",e,{headers:o,count:this.retryCount});return this.abort(s),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||AM(this.opts.body))return this.handler.onError(e);this.retryOpts.retry(e,{state:{counter:this.retryCount++,currentTimeout:this.retryAfter},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||AM(this.opts.body))return this.handler.onError(n);this.start!==0&&(this.opts={...this.opts,headers:{...this.opts.headers,range:`bytes=${this.start}-${this.end??\"\"}`}});try{this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}}};lM.exports=Lw});var cl=y((aMe,fM)=>{\"use strict\";var dM=Symbol.for(\"undici.globalDispatcher.1\"),{InvalidArgumentError:C8}=Ze(),m8=Dd();gM()===void 0&&hM(new m8);function hM(t){if(!t||typeof t.dispatch!=\"function\")throw new C8(\"Argument agent must implement Agent\");Object.defineProperty(globalThis,dM,{value:t,writable:!0,enumerable:!1,configurable:!1})}function gM(){return globalThis[dM]}fM.exports={setGlobalDispatcher:hM,getGlobalDispatcher:gM}});var EM=y((cMe,pM)=>{\"use strict\";pM.exports=class{constructor(e){this.handler=e}onConnect(...e){return this.handler.onConnect(...e)}onError(...e){return this.handler.onError(...e)}onUpgrade(...e){return this.handler.onUpgrade(...e)}onHeaders(...e){return this.handler.onHeaders(...e)}onData(...e){return this.handler.onData(...e)}onComplete(...e){return this.handler.onComplete(...e)}onBodySent(...e){return this.handler.onBodySent(...e)}}});var Va=y((lMe,BM)=>{\"use strict\";var{kHeadersList:Kr,kConstruct:y8}=st(),{kGuard:Pi}=uo(),{kEnumerableProperty:Ni}=De(),{makeIterator:ll,isValidHeaderName:Fd,isValidHeaderValue:mM}=On(),I8=require(\"util\"),{webidl:we}=Ir(),B8=require(\"assert\"),Jr=Symbol(\"headers map\"),tr=Symbol(\"headers map sorted\");function CM(t){return t===10||t===13||t===9||t===32}function yM(t){let e=0,r=t.length;for(;r>e&&CM(t.charCodeAt(r-1));)--r;for(;r>e&&CM(t.charCodeAt(e));)++e;return e===0&&r===t.length?t:t.substring(e,r)}function IM(t,e){if(Array.isArray(e))for(let r=0;r<e.length;++r){let n=e[r];if(n.length!==2)throw we.errors.exception({header:\"Headers constructor\",message:`expected name/value pair to be length 2, found ${n.length}.`});Ow(t,n[0],n[1])}else if(typeof e==\"object\"&&e!==null){let r=Object.keys(e);for(let n=0;n<r.length;++n)Ow(t,r[n],e[r[n]])}else throw we.errors.conversionFailed({prefix:\"Headers constructor\",argument:\"Argument 1\",types:[\"sequence<sequence<ByteString>>\",\"record<ByteString, ByteString>\"]})}function Ow(t,e,r){if(r=yM(r),Fd(e)){if(!mM(r))throw we.errors.invalidArgument({prefix:\"Headers.append\",value:r,type:\"header value\"})}else throw we.errors.invalidArgument({prefix:\"Headers.append\",value:e,type:\"header name\"});if(t[Pi]===\"immutable\")throw new TypeError(\"immutable\");return t[Pi],t[Kr].append(e,r)}var $E=class t{cookies=null;constructor(e){e instanceof t?(this[Jr]=new Map(e[Jr]),this[tr]=e[tr],this.cookies=e.cookies===null?null:[...e.cookies]):(this[Jr]=new Map(e),this[tr]=null)}contains(e){return e=e.toLowerCase(),this[Jr].has(e)}clear(){this[Jr].clear(),this[tr]=null,this.cookies=null}append(e,r){this[tr]=null;let n=e.toLowerCase(),i=this[Jr].get(n);if(i){let o=n===\"cookie\"?\"; \":\", \";this[Jr].set(n,{name:i.name,value:`${i.value}${o}${r}`})}else this[Jr].set(n,{name:e,value:r});n===\"set-cookie\"&&(this.cookies??=[],this.cookies.push(r))}set(e,r){this[tr]=null;let n=e.toLowerCase();n===\"set-cookie\"&&(this.cookies=[r]),this[Jr].set(n,{name:e,value:r})}delete(e){this[tr]=null,e=e.toLowerCase(),e===\"set-cookie\"&&(this.cookies=null),this[Jr].delete(e)}get(e){let r=this[Jr].get(e.toLowerCase());return r===void 0?null:r.value}*[Symbol.iterator](){for(let[e,{value:r}]of this[Jr])yield[e,r]}get entries(){let e={};if(this[Jr].size)for(let{name:r,value:n}of this[Jr].values())e[r]=n;return e}},ul=class t{constructor(e=void 0){e!==y8&&(this[Kr]=new $E,this[Pi]=\"none\",e!==void 0&&(e=we.converters.HeadersInit(e),IM(this,e)))}append(e,r){return we.brandCheck(this,t),we.argumentLengthCheck(arguments,2,{header:\"Headers.append\"}),e=we.converters.ByteString(e),r=we.converters.ByteString(r),Ow(this,e,r)}delete(e){if(we.brandCheck(this,t),we.argumentLengthCheck(arguments,1,{header:\"Headers.delete\"}),e=we.converters.ByteString(e),!Fd(e))throw we.errors.invalidArgument({prefix:\"Headers.delete\",value:e,type:\"header name\"});if(this[Pi]===\"immutable\")throw new TypeError(\"immutable\");this[Pi],this[Kr].contains(e)&&this[Kr].delete(e)}get(e){if(we.brandCheck(this,t),we.argumentLengthCheck(arguments,1,{header:\"Headers.get\"}),e=we.converters.ByteString(e),!Fd(e))throw we.errors.invalidArgument({prefix:\"Headers.get\",value:e,type:\"header name\"});return this[Kr].get(e)}has(e){if(we.brandCheck(this,t),we.argumentLengthCheck(arguments,1,{header:\"Headers.has\"}),e=we.converters.ByteString(e),!Fd(e))throw we.errors.invalidArgument({prefix:\"Headers.has\",value:e,type:\"header name\"});return this[Kr].contains(e)}set(e,r){if(we.brandCheck(this,t),we.argumentLengthCheck(arguments,2,{header:\"Headers.set\"}),e=we.converters.ByteString(e),r=we.converters.ByteString(r),r=yM(r),Fd(e)){if(!mM(r))throw we.errors.invalidArgument({prefix:\"Headers.set\",value:r,type:\"header value\"})}else throw we.errors.invalidArgument({prefix:\"Headers.set\",value:e,type:\"header name\"});if(this[Pi]===\"immutable\")throw new TypeError(\"immutable\");this[Pi],this[Kr].set(e,r)}getSetCookie(){we.brandCheck(this,t);let e=this[Kr].cookies;return e?[...e]:[]}get[tr](){if(this[Kr][tr])return this[Kr][tr];let e=[],r=[...this[Kr]].sort((i,o)=>i[0]<o[0]?-1:1),n=this[Kr].cookies;for(let i=0;i<r.length;++i){let[o,s]=r[i];if(o===\"set-cookie\")for(let a=0;a<n.length;++a)e.push([o,n[a]]);else B8(s!==null),e.push([o,s])}return this[Kr][tr]=e,e}keys(){if(we.brandCheck(this,t),this[Pi]===\"immutable\"){let e=this[tr];return ll(()=>e,\"Headers\",\"key\")}return ll(()=>[...this[tr].values()],\"Headers\",\"key\")}values(){if(we.brandCheck(this,t),this[Pi]===\"immutable\"){let e=this[tr];return ll(()=>e,\"Headers\",\"value\")}return ll(()=>[...this[tr].values()],\"Headers\",\"value\")}entries(){if(we.brandCheck(this,t),this[Pi]===\"immutable\"){let e=this[tr];return ll(()=>e,\"Headers\",\"key+value\")}return ll(()=>[...this[tr].values()],\"Headers\",\"key+value\")}forEach(e,r=globalThis){if(we.brandCheck(this,t),we.argumentLengthCheck(arguments,1,{header:\"Headers.forEach\"}),typeof e!=\"function\")throw new TypeError(\"Failed to execute 'forEach' on 'Headers': parameter 1 is not of type 'Function'.\");for(let[n,i]of this)e.apply(r,[i,n,this])}[Symbol.for(\"nodejs.util.inspect.custom\")](){return we.brandCheck(this,t),this[Kr]}};ul.prototype[Symbol.iterator]=ul.prototype.entries;Object.defineProperties(ul.prototype,{append:Ni,delete:Ni,get:Ni,has:Ni,set:Ni,getSetCookie:Ni,keys:Ni,values:Ni,entries:Ni,forEach:Ni,[Symbol.iterator]:{enumerable:!1},[Symbol.toStringTag]:{value:\"Headers\",configurable:!0},[I8.inspect.custom]:{enumerable:!1}});we.converters.HeadersInit=function(t){if(we.util.Type(t)===\"Object\")return t[Symbol.iterator]?we.converters[\"sequence<sequence<ByteString>>\"](t):we.converters[\"record<ByteString, ByteString>\"](t);throw we.errors.conversionFailed({prefix:\"Headers constructor\",argument:\"Argument 1\",types:[\"sequence<sequence<ByteString>>\",\"record<ByteString, ByteString>\"]})};BM.exports={fill:IM,Headers:ul,HeadersList:$E}});var tC=y((uMe,DM)=>{\"use strict\";var{Headers:Q8,HeadersList:QM,fill:w8}=Va(),{extractBody:wM,cloneBody:R8,mixinBody:S8}=gd(),Hw=De(),{kEnumerableProperty:En}=Hw,{isValidReasonPhrase:T8,isCancelled:b8,isAborted:k8,isBlobLike:D8,serializeJavascriptValueToJSONString:x8,isErrorLike:v8,isomorphicEncode:N8}=On(),{redirectStatusSet:P8,nullBodyStatus:M8,DOMException:RM}=ls(),{kState:pt,kHeaders:Kt,kGuard:dl,kRealm:pn}=uo(),{webidl:Qe}=Ir(),{FormData:F8}=lE(),{getGlobalOrigin:L8}=Hc(),{URLSerializer:SM}=ii(),{kHeadersList:Uw,kConstruct:O8}=st(),qw=require(\"assert\"),{types:_w}=require(\"util\"),bM=globalThis.ReadableStream||require(\"stream/web\").ReadableStream,U8=new TextEncoder(\"utf-8\"),hl=class t{static error(){let e={settingsObject:{}},r=new t;return r[pt]=ZE(),r[pn]=e,r[Kt][Uw]=r[pt].headersList,r[Kt][dl]=\"immutable\",r[Kt][pn]=e,r}static json(e,r={}){Qe.argumentLengthCheck(arguments,1,{header:\"Response.json\"}),r!==null&&(r=Qe.converters.ResponseInit(r));let n=U8.encode(x8(e)),i=wM(n),o={settingsObject:{}},s=new t;return s[pn]=o,s[Kt][dl]=\"response\",s[Kt][pn]=o,TM(s,r,{body:i[0],type:\"application/json\"}),s}static redirect(e,r=302){let n={settingsObject:{}};Qe.argumentLengthCheck(arguments,1,{header:\"Response.redirect\"}),e=Qe.converters.USVString(e),r=Qe.converters[\"unsigned short\"](r);let i;try{i=new URL(e,L8())}catch(a){throw Object.assign(new TypeError(\"Failed to parse URL from \"+e),{cause:a})}if(!P8.has(r))throw new RangeError(\"Invalid status code \"+r);let o=new t;o[pn]=n,o[Kt][dl]=\"immutable\",o[Kt][pn]=n,o[pt].status=r;let s=N8(SM(i));return o[pt].headersList.append(\"location\",s),o}constructor(e=null,r={}){e!==null&&(e=Qe.converters.BodyInit(e)),r=Qe.converters.ResponseInit(r),this[pn]={settingsObject:{}},this[pt]=eC({}),this[Kt]=new Q8(O8),this[Kt][dl]=\"response\",this[Kt][Uw]=this[pt].headersList,this[Kt][pn]=this[pn];let n=null;if(e!=null){let[i,o]=wM(e);n={body:i,type:o}}TM(this,r,n)}get type(){return Qe.brandCheck(this,t),this[pt].type}get url(){Qe.brandCheck(this,t);let e=this[pt].urlList,r=e[e.length-1]??null;return r===null?\"\":SM(r,!0)}get redirected(){return Qe.brandCheck(this,t),this[pt].urlList.length>1}get status(){return Qe.brandCheck(this,t),this[pt].status}get ok(){return Qe.brandCheck(this,t),this[pt].status>=200&&this[pt].status<=299}get statusText(){return Qe.brandCheck(this,t),this[pt].statusText}get headers(){return Qe.brandCheck(this,t),this[Kt]}get body(){return Qe.brandCheck(this,t),this[pt].body?this[pt].body.stream:null}get bodyUsed(){return Qe.brandCheck(this,t),!!this[pt].body&&Hw.isDisturbed(this[pt].body.stream)}clone(){if(Qe.brandCheck(this,t),this.bodyUsed||this.body&&this.body.locked)throw Qe.errors.exception({header:\"Response.clone\",message:\"Body has already been consumed.\"});let e=Gw(this[pt]),r=new t;return r[pt]=e,r[pn]=this[pn],r[Kt][Uw]=e.headersList,r[Kt][dl]=this[Kt][dl],r[Kt][pn]=this[Kt][pn],r}};S8(hl);Object.defineProperties(hl.prototype,{type:En,url:En,status:En,ok:En,redirected:En,statusText:En,headers:En,clone:En,body:En,bodyUsed:En,[Symbol.toStringTag]:{value:\"Response\",configurable:!0}});Object.defineProperties(hl,{json:En,redirect:En,error:En});function Gw(t){if(t.internalResponse)return kM(Gw(t.internalResponse),t.type);let e=eC({...t,body:null});return t.body!=null&&(e.body=R8(t.body)),e}function eC(t){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:\"default\",status:200,timingInfo:null,cacheState:\"\",statusText:\"\",...t,headersList:t.headersList?new QM(t.headersList):new QM,urlList:t.urlList?[...t.urlList]:[]}}function ZE(t){let e=v8(t);return eC({type:\"error\",status:0,error:e?t:new Error(t&&String(t)),aborted:t&&t.name===\"AbortError\"})}function XE(t,e){return e={internalResponse:t,...e},new Proxy(t,{get(r,n){return n in e?e[n]:r[n]},set(r,n,i){return qw(!(n in e)),r[n]=i,!0}})}function kM(t,e){if(e===\"basic\")return XE(t,{type:\"basic\",headersList:t.headersList});if(e===\"cors\")return XE(t,{type:\"cors\",headersList:t.headersList});if(e===\"opaque\")return XE(t,{type:\"opaque\",urlList:Object.freeze([]),status:0,statusText:\"\",body:null});if(e===\"opaqueredirect\")return XE(t,{type:\"opaqueredirect\",status:0,statusText:\"\",headersList:[],body:null});qw(!1)}function _8(t,e=null){return qw(b8(t)),k8(t)?ZE(Object.assign(new RM(\"The operation was aborted.\",\"AbortError\"),{cause:e})):ZE(Object.assign(new RM(\"Request was cancelled.\"),{cause:e}))}function TM(t,e,r){if(e.status!==null&&(e.status<200||e.status>599))throw new RangeError('init[\"status\"] must be in the range of 200 to 599, inclusive.');if(\"statusText\"in e&&e.statusText!=null&&!T8(String(e.statusText)))throw new TypeError(\"Invalid statusText\");if(\"status\"in e&&e.status!=null&&(t[pt].status=e.status),\"statusText\"in e&&e.statusText!=null&&(t[pt].statusText=e.statusText),\"headers\"in e&&e.headers!=null&&w8(t[Kt],e.headers),r){if(M8.includes(t.status))throw Qe.errors.exception({header:\"Response constructor\",message:\"Invalid response status code \"+t.status});t[pt].body=r.body,r.type!=null&&!t[pt].headersList.contains(\"Content-Type\")&&t[pt].headersList.append(\"content-type\",r.type)}}Qe.converters.ReadableStream=Qe.interfaceConverter(bM);Qe.converters.FormData=Qe.interfaceConverter(F8);Qe.converters.URLSearchParams=Qe.interfaceConverter(URLSearchParams);Qe.converters.XMLHttpRequestBodyInit=function(t){return typeof t==\"string\"?Qe.converters.USVString(t):D8(t)?Qe.converters.Blob(t,{strict:!1}):_w.isArrayBuffer(t)||_w.isTypedArray(t)||_w.isDataView(t)?Qe.converters.BufferSource(t):Hw.isFormDataLike(t)?Qe.converters.FormData(t,{strict:!1}):t instanceof URLSearchParams?Qe.converters.URLSearchParams(t):Qe.converters.DOMString(t)};Qe.converters.BodyInit=function(t){return t instanceof bM?Qe.converters.ReadableStream(t):t?.[Symbol.asyncIterator]?t:Qe.converters.XMLHttpRequestBodyInit(t)};Qe.converters.ResponseInit=Qe.dictionaryConverter([{key:\"status\",converter:Qe.converters[\"unsigned short\"],defaultValue:200},{key:\"statusText\",converter:Qe.converters.ByteString,defaultValue:\"\"},{key:\"headers\",converter:Qe.converters.HeadersInit}]);DM.exports={makeNetworkError:ZE,makeResponse:eC,makeAppropriateNetworkError:_8,filterResponse:kM,Response:hl,cloneResponse:Gw}});var Ud=y((dMe,FM)=>{\"use strict\";var{extractBody:H8,mixinBody:q8,cloneBody:G8}=gd(),{Headers:xM,fill:Y8,HeadersList:oC}=Va(),{FinalizationRegistry:V8}=ZQ()(),Od=De(),{isValidHTTPToken:J8,sameOrigin:vM,normalizeMethod:K8,makePolicyContainer:W8,normalizeMethodRecord:z8}=On(),{forbiddenMethodsSet:j8,corsSafeListedMethodsSet:$8,referrerPolicy:X8,requestRedirect:Z8,requestMode:e9,requestCredentials:t9,requestCache:r9,requestDuplex:n9}=ls(),{kEnumerableProperty:Lt}=Od,{kHeaders:cr,kSignal:Ld,kState:ct,kGuard:rC,kRealm:Cn}=uo(),{webidl:ae}=Ir(),{getGlobalOrigin:i9}=Hc(),{URLSerializer:o9}=ii(),{kHeadersList:nC,kConstruct:iC}=st(),s9=require(\"assert\"),{getMaxListeners:NM,setMaxListeners:PM,getEventListeners:a9,defaultMaxListeners:MM}=require(\"events\"),Yw=globalThis.TransformStream,A9=Symbol(\"abortController\"),c9=new V8(({signal:t,abort:e})=>{t.removeEventListener(\"abort\",e)}),Ja=class t{constructor(e,r={}){if(e===iC)return;ae.argumentLengthCheck(arguments,1,{header:\"Request constructor\"}),e=ae.converters.RequestInfo(e),r=ae.converters.RequestInit(r),this[Cn]={settingsObject:{baseUrl:i9(),get origin(){return this.baseUrl?.origin},policyContainer:W8()}};let n=null,i=null,o=this[Cn].settingsObject.baseUrl,s=null;if(typeof e==\"string\"){let f;try{f=new URL(e,o)}catch(C){throw new TypeError(\"Failed to parse URL from \"+e,{cause:C})}if(f.username||f.password)throw new TypeError(\"Request cannot be constructed from a URL that includes credentials: \"+e);n=sC({urlList:[f]}),i=\"cors\"}else s9(e instanceof t),n=e[ct],s=e[Ld];let a=this[Cn].settingsObject.origin,A=\"client\";if(n.window?.constructor?.name===\"EnvironmentSettingsObject\"&&vM(n.window,a)&&(A=n.window),r.window!=null)throw new TypeError(`'window' option '${A}' must be null`);\"window\"in r&&(A=\"no-window\"),n=sC({method:n.method,headersList:n.headersList,unsafeRequest:n.unsafeRequest,client:this[Cn].settingsObject,window:A,priority:n.priority,origin:n.origin,referrer:n.referrer,referrerPolicy:n.referrerPolicy,mode:n.mode,credentials:n.credentials,cache:n.cache,redirect:n.redirect,integrity:n.integrity,keepalive:n.keepalive,reloadNavigation:n.reloadNavigation,historyNavigation:n.historyNavigation,urlList:[...n.urlList]});let c=Object.keys(r).length!==0;if(c&&(n.mode===\"navigate\"&&(n.mode=\"same-origin\"),n.reloadNavigation=!1,n.historyNavigation=!1,n.origin=\"client\",n.referrer=\"client\",n.referrerPolicy=\"\",n.url=n.urlList[n.urlList.length-1],n.urlList=[n.url]),r.referrer!==void 0){let f=r.referrer;if(f===\"\")n.referrer=\"no-referrer\";else{let C;try{C=new URL(f,o)}catch(m){throw new TypeError(`Referrer \"${f}\" is not a valid URL.`,{cause:m})}C.protocol===\"about:\"&&C.hostname===\"client\"||a&&!vM(C,this[Cn].settingsObject.baseUrl)?n.referrer=\"client\":n.referrer=C}}r.referrerPolicy!==void 0&&(n.referrerPolicy=r.referrerPolicy);let l;if(r.mode!==void 0?l=r.mode:l=i,l===\"navigate\")throw ae.errors.exception({header:\"Request constructor\",message:\"invalid request mode navigate.\"});if(l!=null&&(n.mode=l),r.credentials!==void 0&&(n.credentials=r.credentials),r.cache!==void 0&&(n.cache=r.cache),n.cache===\"only-if-cached\"&&n.mode!==\"same-origin\")throw new TypeError(\"'only-if-cached' can be set only with 'same-origin' mode\");if(r.redirect!==void 0&&(n.redirect=r.redirect),r.integrity!=null&&(n.integrity=String(r.integrity)),r.keepalive!==void 0&&(n.keepalive=!!r.keepalive),r.method!==void 0){let f=r.method;if(!J8(f))throw new TypeError(`'${f}' is not a valid HTTP method.`);if(j8.has(f.toUpperCase()))throw new TypeError(`'${f}' HTTP method is unsupported.`);f=z8[f]??K8(f),n.method=f}r.signal!==void 0&&(s=r.signal),this[ct]=n;let u=new AbortController;if(this[Ld]=u.signal,this[Ld][Cn]=this[Cn],s!=null){if(!s||typeof s.aborted!=\"boolean\"||typeof s.addEventListener!=\"function\")throw new TypeError(\"Failed to construct 'Request': member signal is not of type AbortSignal.\");if(s.aborted)u.abort(s.reason);else{this[A9]=u;let f=new WeakRef(u),C=function(){let m=f.deref();m!==void 0&&m.abort(this.reason)};try{(typeof NM==\"function\"&&NM(s)===MM||a9(s,\"abort\").length>=MM)&&PM(100,s)}catch{}Od.addAbortListener(s,C),c9.register(u,{signal:s,abort:C})}}if(this[cr]=new xM(iC),this[cr][nC]=n.headersList,this[cr][rC]=\"request\",this[cr][Cn]=this[Cn],l===\"no-cors\"){if(!$8.has(n.method))throw new TypeError(`'${n.method} is unsupported in no-cors mode.`);this[cr][rC]=\"request-no-cors\"}if(c){let f=this[cr][nC],C=r.headers!==void 0?r.headers:new oC(f);if(f.clear(),C instanceof oC){for(let[m,B]of C)f.append(m,B);f.cookies=C.cookies}else Y8(this[cr],C)}let d=e instanceof t?e[ct].body:null;if((r.body!=null||d!=null)&&(n.method===\"GET\"||n.method===\"HEAD\"))throw new TypeError(\"Request with GET/HEAD method cannot have body.\");let h=null;if(r.body!=null){let[f,C]=H8(r.body,n.keepalive);h=f,C&&!this[cr][nC].contains(\"content-type\")&&this[cr].append(\"content-type\",C)}let g=h??d;if(g!=null&&g.source==null){if(h!=null&&r.duplex==null)throw new TypeError(\"RequestInit: duplex option is required when sending a body.\");if(n.mode!==\"same-origin\"&&n.mode!==\"cors\")throw new TypeError('If request is made from ReadableStream, mode should be \"same-origin\" or \"cors\"');n.useCORSPreflightFlag=!0}let p=g;if(h==null&&d!=null){if(Od.isDisturbed(d.stream)||d.stream.locked)throw new TypeError(\"Cannot construct a Request with a Request object that has already been used.\");Yw||(Yw=require(\"stream/web\").TransformStream);let f=new Yw;d.stream.pipeThrough(f),p={source:d.source,length:d.length,stream:f.readable}}this[ct].body=p}get method(){return ae.brandCheck(this,t),this[ct].method}get url(){return ae.brandCheck(this,t),o9(this[ct].url)}get headers(){return ae.brandCheck(this,t),this[cr]}get destination(){return ae.brandCheck(this,t),this[ct].destination}get referrer(){return ae.brandCheck(this,t),this[ct].referrer===\"no-referrer\"?\"\":this[ct].referrer===\"client\"?\"about:client\":this[ct].referrer.toString()}get referrerPolicy(){return ae.brandCheck(this,t),this[ct].referrerPolicy}get mode(){return ae.brandCheck(this,t),this[ct].mode}get credentials(){return this[ct].credentials}get cache(){return ae.brandCheck(this,t),this[ct].cache}get redirect(){return ae.brandCheck(this,t),this[ct].redirect}get integrity(){return ae.brandCheck(this,t),this[ct].integrity}get keepalive(){return ae.brandCheck(this,t),this[ct].keepalive}get isReloadNavigation(){return ae.brandCheck(this,t),this[ct].reloadNavigation}get isHistoryNavigation(){return ae.brandCheck(this,t),this[ct].historyNavigation}get signal(){return ae.brandCheck(this,t),this[Ld]}get body(){return ae.brandCheck(this,t),this[ct].body?this[ct].body.stream:null}get bodyUsed(){return ae.brandCheck(this,t),!!this[ct].body&&Od.isDisturbed(this[ct].body.stream)}get duplex(){return ae.brandCheck(this,t),\"half\"}clone(){if(ae.brandCheck(this,t),this.bodyUsed||this.body?.locked)throw new TypeError(\"unusable\");let e=l9(this[ct]),r=new t(iC);r[ct]=e,r[Cn]=this[Cn],r[cr]=new xM(iC),r[cr][nC]=e.headersList,r[cr][rC]=this[cr][rC],r[cr][Cn]=this[cr][Cn];let n=new AbortController;return this.signal.aborted?n.abort(this.signal.reason):Od.addAbortListener(this.signal,()=>{n.abort(this.signal.reason)}),r[Ld]=n.signal,r}};q8(Ja);function sC(t){let e={method:\"GET\",localURLsOnly:!1,unsafeRequest:!1,body:null,client:null,reservedClient:null,replacesClientId:\"\",window:\"client\",keepalive:!1,serviceWorkers:\"all\",initiator:\"\",destination:\"\",priority:null,origin:\"client\",policyContainer:\"client\",referrer:\"client\",referrerPolicy:\"\",mode:\"no-cors\",useCORSPreflightFlag:!1,credentials:\"same-origin\",useCredentials:!1,cache:\"default\",redirect:\"follow\",integrity:\"\",cryptoGraphicsNonceMetadata:\"\",parserMetadata:\"\",reloadNavigation:!1,historyNavigation:!1,userActivation:!1,taintedOrigin:!1,redirectCount:0,responseTainting:\"basic\",preventNoCacheCacheControlHeaderModification:!1,done:!1,timingAllowFailed:!1,...t,headersList:t.headersList?new oC(t.headersList):new oC};return e.url=e.urlList[0],e}function l9(t){let e=sC({...t,body:null});return t.body!=null&&(e.body=G8(t.body)),e}Object.defineProperties(Ja.prototype,{method:Lt,url:Lt,headers:Lt,redirect:Lt,clone:Lt,signal:Lt,duplex:Lt,destination:Lt,body:Lt,bodyUsed:Lt,isHistoryNavigation:Lt,isReloadNavigation:Lt,keepalive:Lt,integrity:Lt,cache:Lt,credentials:Lt,attribute:Lt,referrerPolicy:Lt,referrer:Lt,mode:Lt,[Symbol.toStringTag]:{value:\"Request\",configurable:!0}});ae.converters.Request=ae.interfaceConverter(Ja);ae.converters.RequestInfo=function(t){return typeof t==\"string\"?ae.converters.USVString(t):t instanceof Ja?ae.converters.Request(t):ae.converters.USVString(t)};ae.converters.AbortSignal=ae.interfaceConverter(AbortSignal);ae.converters.RequestInit=ae.dictionaryConverter([{key:\"method\",converter:ae.converters.ByteString},{key:\"headers\",converter:ae.converters.HeadersInit},{key:\"body\",converter:ae.nullableConverter(ae.converters.BodyInit)},{key:\"referrer\",converter:ae.converters.USVString},{key:\"referrerPolicy\",converter:ae.converters.DOMString,allowedValues:X8},{key:\"mode\",converter:ae.converters.DOMString,allowedValues:e9},{key:\"credentials\",converter:ae.converters.DOMString,allowedValues:t9},{key:\"cache\",converter:ae.converters.DOMString,allowedValues:r9},{key:\"redirect\",converter:ae.converters.DOMString,allowedValues:Z8},{key:\"integrity\",converter:ae.converters.DOMString},{key:\"keepalive\",converter:ae.converters.boolean},{key:\"signal\",converter:ae.nullableConverter(t=>ae.converters.AbortSignal(t,{strict:!1}))},{key:\"window\",converter:ae.converters.any},{key:\"duplex\",converter:ae.converters.DOMString,allowedValues:n9}]);FM.exports={Request:Ja,makeRequest:sC}});var hC=y((hMe,jM)=>{\"use strict\";var{Response:u9,makeNetworkError:et,makeAppropriateNetworkError:aC,filterResponse:Vw,makeResponse:AC}=tC(),{Headers:LM}=Va(),{Request:d9,makeRequest:h9}=Ud(),_d=require(\"zlib\"),{bytesMatch:g9,makePolicyContainer:f9,clonePolicyContainer:p9,requestBadPort:E9,TAOCheck:C9,appendRequestOriginHeader:m9,responseLocationURL:y9,requestCurrentURL:Mi,setRequestReferrerPolicyOnRedirect:I9,tryUpgradeRequestToAPotentiallyTrustworthyURL:B9,createOpaqueTimingInfo:eR,appendFetchMetadata:Q9,corsCheck:w9,crossOriginResourcePolicyCheck:R9,determineRequestsReferrer:S9,coarsenedSharedCurrentTime:tR,createDeferredPromise:T9,isBlobLike:b9,sameOrigin:$w,isCancelled:fl,isAborted:OM,isErrorLike:k9,fullyReadBody:qM,readableStreamClose:D9,isomorphicEncode:Xw,urlIsLocal:x9,urlIsHttpHttpsScheme:rR,urlHasHttpsScheme:v9}=On(),{kState:Zw,kHeaders:Jw,kGuard:N9,kRealm:UM}=uo(),pl=require(\"assert\"),{safelyExtractBody:cC}=gd(),{redirectStatusSet:GM,nullBodyStatus:YM,safeMethodsSet:P9,requestBodyHeader:M9,subresourceSet:F9,DOMException:lC}=ls(),{kHeadersList:gl}=st(),L9=require(\"events\"),{Readable:O9,pipeline:U9}=require(\"stream\"),{addAbortListener:_9,isErrored:H9,isReadable:uC,nodeMajor:_M,nodeMinor:q9}=De(),{dataURLProcessor:G9,serializeAMimeType:Y9}=ii(),{TransformStream:V9}=require(\"stream/web\"),{getGlobalDispatcher:J9}=cl(),{webidl:K9}=Ir(),{STATUS_CODES:W9}=require(\"http\"),z9=[\"GET\",\"HEAD\"],Kw,Ww=globalThis.ReadableStream,dC=class extends L9{constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state=\"ongoing\",this.setMaxListeners(21)}terminate(e){this.state===\"ongoing\"&&(this.state=\"terminated\",this.connection?.destroy(e),this.emit(\"terminated\",e))}abort(e){this.state===\"ongoing\"&&(this.state=\"aborted\",e||(e=new lC(\"The operation was aborted.\",\"AbortError\")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit(\"terminated\",e))}};function j9(t,e={}){K9.argumentLengthCheck(arguments,1,{header:\"globalThis.fetch\"});let r=T9(),n;try{n=new d9(t,e)}catch(d){return r.reject(d),r.promise}let i=n[Zw];if(n.signal.aborted)return zw(r,i,null,n.signal.reason),r.promise;i.client.globalObject?.constructor?.name===\"ServiceWorkerGlobalScope\"&&(i.serviceWorkers=\"none\");let s=null,a=null,A=!1,c=null;return _9(n.signal,()=>{A=!0,pl(c!=null),c.abort(n.signal.reason),zw(r,i,s,n.signal.reason)}),c=JM({request:i,processResponseEndOfBody:d=>VM(d,\"fetch\"),processResponse:d=>{if(A)return Promise.resolve();if(d.aborted)return zw(r,i,s,c.serializedAbortReason),Promise.resolve();if(d.type===\"error\")return r.reject(Object.assign(new TypeError(\"fetch failed\"),{cause:d.error})),Promise.resolve();s=new u9,s[Zw]=d,s[UM]=a,s[Jw][gl]=d.headersList,s[Jw][N9]=\"immutable\",s[Jw][UM]=a,r.resolve(s)},dispatcher:e.dispatcher??J9()}),r.promise}function VM(t,e=\"other\"){if(t.type===\"error\"&&t.aborted||!t.urlList?.length)return;let r=t.urlList[0],n=t.timingInfo,i=t.cacheState;rR(r)&&n!==null&&(t.timingAllowPassed||(n=eR({startTime:n.startTime}),i=\"\"),n.endTime=tR(),t.timingInfo=n,$9(n,r,e,globalThis,i))}function $9(t,e,r,n,i){(_M>18||_M===18&&q9>=2)&&performance.markResourceTiming(t,e.href,r,n,i)}function zw(t,e,r,n){if(n||(n=new lC(\"The operation was aborted.\",\"AbortError\")),t.reject(n),e.body!=null&&uC(e.body?.stream)&&e.body.stream.cancel(n).catch(o=>{if(o.code!==\"ERR_INVALID_STATE\")throw o}),r==null)return;let i=r[Zw];i.body!=null&&uC(i.body?.stream)&&i.body.stream.cancel(n).catch(o=>{if(o.code!==\"ERR_INVALID_STATE\")throw o})}function JM({request:t,processRequestBodyChunkLength:e,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:o,useParallelQueue:s=!1,dispatcher:a}){let A=null,c=!1;t.client!=null&&(A=t.client.globalObject,c=t.client.crossOriginIsolatedCapability);let l=tR(c),u=eR({startTime:l}),d={controller:new dC(a),request:t,timingInfo:u,processRequestBodyChunkLength:e,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:o,processResponseEndOfBody:i,taskDestination:A,crossOriginIsolatedCapability:c};return pl(!t.body||t.body.stream),t.window===\"client\"&&(t.window=t.client?.globalObject?.constructor?.name===\"Window\"?t.client:\"no-window\"),t.origin===\"client\"&&(t.origin=t.client?.origin),t.policyContainer===\"client\"&&(t.client!=null?t.policyContainer=p9(t.client.policyContainer):t.policyContainer=f9()),t.headersList.contains(\"accept\")||t.headersList.append(\"accept\",\"*/*\"),t.headersList.contains(\"accept-language\")||t.headersList.append(\"accept-language\",\"*\"),t.priority,F9.has(t.destination),KM(d).catch(h=>{d.controller.terminate(h)}),d.controller}async function KM(t,e=!1){let r=t.request,n=null;if(r.localURLsOnly&&!x9(Mi(r))&&(n=et(\"local URLs only\")),B9(r),E9(r)===\"blocked\"&&(n=et(\"bad port\")),r.referrerPolicy===\"\"&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!==\"no-referrer\"&&(r.referrer=S9(r)),n===null&&(n=await(async()=>{let o=Mi(r);return $w(o,r.url)&&r.responseTainting===\"basic\"||o.protocol===\"data:\"||r.mode===\"navigate\"||r.mode===\"websocket\"?(r.responseTainting=\"basic\",await HM(t)):r.mode===\"same-origin\"?et('request mode cannot be \"same-origin\"'):r.mode===\"no-cors\"?r.redirect!==\"follow\"?et('redirect mode cannot be \"follow\" for \"no-cors\" request'):(r.responseTainting=\"opaque\",await HM(t)):rR(Mi(r))?(r.responseTainting=\"cors\",await WM(t)):et(\"URL scheme must be a HTTP(S) scheme\")})()),e)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting===\"basic\"?n=Vw(n,\"basic\"):r.responseTainting===\"cors\"?n=Vw(n,\"cors\"):r.responseTainting===\"opaque\"?n=Vw(n,\"opaque\"):pl(!1));let i=n.status===0?n:n.internalResponse;if(i.urlList.length===0&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type===\"opaque\"&&i.status===206&&i.rangeRequested&&!r.headers.contains(\"range\")&&(n=i=et()),n.status!==0&&(r.method===\"HEAD\"||r.method===\"CONNECT\"||YM.includes(i.status))&&(i.body=null,t.controller.dump=!0),r.integrity){let o=a=>jw(t,et(a));if(r.responseTainting===\"opaque\"||n.body==null){o(n.error);return}let s=a=>{if(!g9(a,r.integrity)){o(\"integrity mismatch\");return}n.body=cC(a)[0],jw(t,n)};await qM(n.body,s,o)}else jw(t,n)}function HM(t){if(fl(t)&&t.request.redirectCount===0)return Promise.resolve(aC(t));let{request:e}=t,{protocol:r}=Mi(e);switch(r){case\"about:\":return Promise.resolve(et(\"about scheme is not supported\"));case\"blob:\":{Kw||(Kw=require(\"buffer\").resolveObjectURL);let n=Mi(e);if(n.search.length!==0)return Promise.resolve(et(\"NetworkError when attempting to fetch resource.\"));let i=Kw(n.toString());if(e.method!==\"GET\"||!b9(i))return Promise.resolve(et(\"invalid method\"));let o=cC(i),s=o[0],a=Xw(`${s.length}`),A=o[1]??\"\",c=AC({statusText:\"OK\",headersList:[[\"content-length\",{name:\"Content-Length\",value:a}],[\"content-type\",{name:\"Content-Type\",value:A}]]});return c.body=s,Promise.resolve(c)}case\"data:\":{let n=Mi(e),i=G9(n);if(i===\"failure\")return Promise.resolve(et(\"failed to fetch the data URL\"));let o=Y9(i.mimeType);return Promise.resolve(AC({statusText:\"OK\",headersList:[[\"content-type\",{name:\"Content-Type\",value:o}]],body:cC(i.body)[0]}))}case\"file:\":return Promise.resolve(et(\"not implemented... yet...\"));case\"http:\":case\"https:\":return WM(t).catch(n=>et(n));default:return Promise.resolve(et(\"unknown scheme\"))}}function X9(t,e){t.request.done=!0,t.processResponseDone!=null&&queueMicrotask(()=>t.processResponseDone(e))}function jw(t,e){e.type===\"error\"&&(e.urlList=[t.request.urlList[0]],e.timingInfo=eR({startTime:t.timingInfo.startTime}));let r=()=>{t.request.done=!0,t.processResponseEndOfBody!=null&&queueMicrotask(()=>t.processResponseEndOfBody(e))};if(t.processResponse!=null&&queueMicrotask(()=>t.processResponse(e)),e.body==null)r();else{let n=(o,s)=>{s.enqueue(o)},i=new V9({start(){},transform:n,flush:r},{size(){return 1}},{size(){return 1}});e.body={stream:e.body.stream.pipeThrough(i)}}if(t.processResponseConsumeBody!=null){let n=o=>t.processResponseConsumeBody(e,o),i=o=>t.processResponseConsumeBody(e,o);if(e.body==null)queueMicrotask(()=>n(null));else return qM(e.body,n,i);return Promise.resolve()}}async function WM(t){let e=t.request,r=null,n=null,i=t.timingInfo;if(e.serviceWorkers,r===null){if(e.redirect===\"follow\"&&(e.serviceWorkers=\"none\"),n=r=await zM(t),e.responseTainting===\"cors\"&&w9(e,r)===\"failure\")return et(\"cors failure\");C9(e,r)===\"failure\"&&(e.timingAllowFailed=!0)}return(e.responseTainting===\"opaque\"||r.type===\"opaque\")&&R9(e.origin,e.client,e.destination,n)===\"blocked\"?et(\"blocked\"):(GM.has(n.status)&&(e.redirect!==\"manual\"&&t.controller.connection.destroy(),e.redirect===\"error\"?r=et(\"unexpected redirect\"):e.redirect===\"manual\"?r=n:e.redirect===\"follow\"?r=await Z9(t,r):pl(!1)),r.timingInfo=i,r)}function Z9(t,e){let r=t.request,n=e.internalResponse?e.internalResponse:e,i;try{if(i=y9(n,Mi(r).hash),i==null)return e}catch(s){return Promise.resolve(et(s))}if(!rR(i))return Promise.resolve(et(\"URL scheme must be a HTTP(S) scheme\"));if(r.redirectCount===20)return Promise.resolve(et(\"redirect count exceeded\"));if(r.redirectCount+=1,r.mode===\"cors\"&&(i.username||i.password)&&!$w(r,i))return Promise.resolve(et('cross origin not allowed for request mode \"cors\"'));if(r.responseTainting===\"cors\"&&(i.username||i.password))return Promise.resolve(et('URL cannot contain credentials for request mode \"cors\"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(et());if([301,302].includes(n.status)&&r.method===\"POST\"||n.status===303&&!z9.includes(r.method)){r.method=\"GET\",r.body=null;for(let s of M9)r.headersList.delete(s)}$w(Mi(r),i)||(r.headersList.delete(\"authorization\"),r.headersList.delete(\"proxy-authorization\",!0),r.headersList.delete(\"cookie\"),r.headersList.delete(\"host\")),r.body!=null&&(pl(r.body.source!=null),r.body=cC(r.body.source)[0]);let o=t.timingInfo;return o.redirectEndTime=o.postRedirectStartTime=tR(t.crossOriginIsolatedCapability),o.redirectStartTime===0&&(o.redirectStartTime=o.startTime),r.urlList.push(i),I9(r,n),KM(t,!0)}async function zM(t,e=!1,r=!1){let n=t.request,i=null,o=null,s=null,a=null,A=!1;n.window===\"no-window\"&&n.redirect===\"error\"?(i=t,o=n):(o=h9(n),i={...t},i.request=o);let c=n.credentials===\"include\"||n.credentials===\"same-origin\"&&n.responseTainting===\"basic\",l=o.body?o.body.length:null,u=null;if(o.body==null&&[\"POST\",\"PUT\"].includes(o.method)&&(u=\"0\"),l!=null&&(u=Xw(`${l}`)),u!=null&&o.headersList.append(\"content-length\",u),l!=null&&o.keepalive,o.referrer instanceof URL&&o.headersList.append(\"referer\",Xw(o.referrer.href)),m9(o),Q9(o),o.headersList.contains(\"user-agent\")||o.headersList.append(\"user-agent\",typeof esbuildDetection>\"u\"?\"undici\":\"node\"),o.cache===\"default\"&&(o.headersList.contains(\"if-modified-since\")||o.headersList.contains(\"if-none-match\")||o.headersList.contains(\"if-unmodified-since\")||o.headersList.contains(\"if-match\")||o.headersList.contains(\"if-range\"))&&(o.cache=\"no-store\"),o.cache===\"no-cache\"&&!o.preventNoCacheCacheControlHeaderModification&&!o.headersList.contains(\"cache-control\")&&o.headersList.append(\"cache-control\",\"max-age=0\"),(o.cache===\"no-store\"||o.cache===\"reload\")&&(o.headersList.contains(\"pragma\")||o.headersList.append(\"pragma\",\"no-cache\"),o.headersList.contains(\"cache-control\")||o.headersList.append(\"cache-control\",\"no-cache\")),o.headersList.contains(\"range\")&&o.headersList.append(\"accept-encoding\",\"identity\"),o.headersList.contains(\"accept-encoding\")||(v9(Mi(o))?o.headersList.append(\"accept-encoding\",\"br, gzip, deflate\"):o.headersList.append(\"accept-encoding\",\"gzip, deflate\")),o.headersList.delete(\"host\"),a==null&&(o.cache=\"no-store\"),o.mode!==\"no-store\"&&o.mode,s==null){if(o.mode===\"only-if-cached\")return et(\"only if cached\");let d=await e5(i,c,r);!P9.has(o.method)&&d.status>=200&&d.status<=399,A&&d.status,s==null&&(s=d)}if(s.urlList=[...o.urlList],o.headersList.contains(\"range\")&&(s.rangeRequested=!0),s.requestIncludesCredentials=c,s.status===407)return n.window===\"no-window\"?et():fl(t)?aC(t):et(\"proxy authentication required\");if(s.status===421&&!r&&(n.body==null||n.body.source!=null)){if(fl(t))return aC(t);t.controller.connection.destroy(),s=await zM(t,e,!0)}return s}async function e5(t,e=!1,r=!1){pl(!t.controller.connection||t.controller.connection.destroyed),t.controller.connection={abort:null,destroyed:!1,destroy(g){this.destroyed||(this.destroyed=!0,this.abort?.(g??new lC(\"The operation was aborted.\",\"AbortError\")))}};let n=t.request,i=null,o=t.timingInfo;null==null&&(n.cache=\"no-store\");let a=r?\"yes\":\"no\";n.mode;let A=null;if(n.body==null&&t.processRequestEndOfBody)queueMicrotask(()=>t.processRequestEndOfBody());else if(n.body!=null){let g=async function*(C){fl(t)||(yield C,t.processRequestBodyChunkLength?.(C.byteLength))},p=()=>{fl(t)||t.processRequestEndOfBody&&t.processRequestEndOfBody()},f=C=>{fl(t)||(C.name===\"AbortError\"?t.controller.abort():t.controller.terminate(C))};A=(async function*(){try{for await(let C of n.body.stream)yield*g(C);p()}catch(C){f(C)}})()}try{let{body:g,status:p,statusText:f,headersList:C,socket:m}=await h({body:A});if(m)i=AC({status:p,statusText:f,headersList:C,socket:m});else{let B=g[Symbol.asyncIterator]();t.controller.next=()=>B.next(),i=AC({status:p,statusText:f,headersList:C})}}catch(g){return g.name===\"AbortError\"?(t.controller.connection.destroy(),aC(t,g)):et(g)}let c=()=>{t.controller.resume()},l=g=>{t.controller.abort(g)};Ww||(Ww=require(\"stream/web\").ReadableStream);let u=new Ww({async start(g){t.controller.controller=g},async pull(g){await c(g)},async cancel(g){await l(g)}},{highWaterMark:0,size(){return 1}});i.body={stream:u},t.controller.on(\"terminated\",d),t.controller.resume=async()=>{for(;;){let g,p;try{let{done:f,value:C}=await t.controller.next();if(OM(t))break;g=f?void 0:C}catch(f){t.controller.ended&&!o.encodedBodySize?g=void 0:(g=f,p=!0)}if(g===void 0){D9(t.controller.controller),X9(t,i);return}if(o.decodedBodySize+=g?.byteLength??0,p){t.controller.terminate(g);return}if(t.controller.controller.enqueue(new Uint8Array(g)),H9(u)){t.controller.terminate();return}if(!t.controller.controller.desiredSize)return}};function d(g){OM(t)?(i.aborted=!0,uC(u)&&t.controller.controller.error(t.controller.serializedAbortReason)):uC(u)&&t.controller.controller.error(new TypeError(\"terminated\",{cause:k9(g)?g:void 0})),t.controller.connection.destroy()}return i;async function h({body:g}){let p=Mi(n),f=t.controller.dispatcher;return new Promise((C,m)=>f.dispatch({path:p.pathname+p.search,origin:p.origin,method:n.method,body:t.controller.dispatcher.isMockActive?n.body&&(n.body.source||n.body.stream):g,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode===\"websocket\"?\"websocket\":void 0},{body:null,abort:null,onConnect(B){let{connection:T}=t.controller;T.destroyed?B(new lC(\"The operation was aborted.\",\"AbortError\")):(t.controller.on(\"terminated\",B),this.abort=T.abort=B)},onHeaders(B,T,L,F){if(B<200)return;let R=[],S=\"\",I=new LM;if(Array.isArray(T))for(let P=0;P<T.length;P+=2){let z=T[P+0].toString(\"latin1\"),H=T[P+1].toString(\"latin1\");z.toLowerCase()===\"content-encoding\"?R=H.toLowerCase().split(\",\").map(ue=>ue.trim()):z.toLowerCase()===\"location\"&&(S=H),I[gl].append(z,H)}else{let P=Object.keys(T);for(let z of P){let H=T[z];z.toLowerCase()===\"content-encoding\"?R=H.toLowerCase().split(\",\").map(ue=>ue.trim()).reverse():z.toLowerCase()===\"location\"&&(S=H),I[gl].append(z,H)}}this.body=new O9({read:L});let x=[],k=n.redirect===\"follow\"&&S&&GM.has(B);if(n.method!==\"HEAD\"&&n.method!==\"CONNECT\"&&!YM.includes(B)&&!k)for(let P of R)if(P===\"x-gzip\"||P===\"gzip\")x.push(_d.createGunzip({flush:_d.constants.Z_SYNC_FLUSH,finishFlush:_d.constants.Z_SYNC_FLUSH}));else if(P===\"deflate\")x.push(_d.createInflate());else if(P===\"br\")x.push(_d.createBrotliDecompress());else{x.length=0;break}return C({status:B,statusText:F,headersList:I[gl],body:x.length?U9(this.body,...x,()=>{}):this.body.on(\"error\",()=>{})}),!0},onData(B){if(t.controller.dump)return;let T=B;return o.encodedBodySize+=T.byteLength,this.body.push(T)},onComplete(){this.abort&&t.controller.off(\"terminated\",this.abort),t.controller.ended=!0,this.body.push(null)},onError(B){this.abort&&t.controller.off(\"terminated\",this.abort),this.body?.destroy(B),t.controller.terminate(B),m(B)},onUpgrade(B,T,L){if(B!==101)return;let F=new LM;for(let R=0;R<T.length;R+=2){let S=T[R+0].toString(\"latin1\"),I=T[R+1].toString(\"latin1\");F[gl].append(S,I)}return C({status:B,statusText:W9[B],headersList:F[gl],socket:L}),!0}}))}}jM.exports={fetch:j9,Fetch:dC,fetching:JM,finalizeAndReportTiming:VM}});var nR=y((gMe,$M)=>{\"use strict\";$M.exports={kState:Symbol(\"FileReader state\"),kResult:Symbol(\"FileReader result\"),kError:Symbol(\"FileReader error\"),kLastProgressEventFired:Symbol(\"FileReader last progress event fired timestamp\"),kEvents:Symbol(\"FileReader events\"),kAborted:Symbol(\"FileReader aborted\")}});var ZM=y((fMe,XM)=>{\"use strict\";var{webidl:mn}=Ir(),gC=Symbol(\"ProgressEvent state\"),iR=class t extends Event{constructor(e,r={}){e=mn.converters.DOMString(e),r=mn.converters.ProgressEventInit(r??{}),super(e,r),this[gC]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return mn.brandCheck(this,t),this[gC].lengthComputable}get loaded(){return mn.brandCheck(this,t),this[gC].loaded}get total(){return mn.brandCheck(this,t),this[gC].total}};mn.converters.ProgressEventInit=mn.dictionaryConverter([{key:\"lengthComputable\",converter:mn.converters.boolean,defaultValue:!1},{key:\"loaded\",converter:mn.converters[\"unsigned long long\"],defaultValue:0},{key:\"total\",converter:mn.converters[\"unsigned long long\"],defaultValue:0},{key:\"bubbles\",converter:mn.converters.boolean,defaultValue:!1},{key:\"cancelable\",converter:mn.converters.boolean,defaultValue:!1},{key:\"composed\",converter:mn.converters.boolean,defaultValue:!1}]);XM.exports={ProgressEvent:iR}});var tF=y((pMe,eF)=>{\"use strict\";function t5(t){if(!t)return\"failure\";switch(t.trim().toLowerCase()){case\"unicode-1-1-utf-8\":case\"unicode11utf8\":case\"unicode20utf8\":case\"utf-8\":case\"utf8\":case\"x-unicode20utf8\":return\"UTF-8\";case\"866\":case\"cp866\":case\"csibm866\":case\"ibm866\":return\"IBM866\";case\"csisolatin2\":case\"iso-8859-2\":case\"iso-ir-101\":case\"iso8859-2\":case\"iso88592\":case\"iso_8859-2\":case\"iso_8859-2:1987\":case\"l2\":case\"latin2\":return\"ISO-8859-2\";case\"csisolatin3\":case\"iso-8859-3\":case\"iso-ir-109\":case\"iso8859-3\":case\"iso88593\":case\"iso_8859-3\":case\"iso_8859-3:1988\":case\"l3\":case\"latin3\":return\"ISO-8859-3\";case\"csisolatin4\":case\"iso-8859-4\":case\"iso-ir-110\":case\"iso8859-4\":case\"iso88594\":case\"iso_8859-4\":case\"iso_8859-4:1988\":case\"l4\":case\"latin4\":return\"ISO-8859-4\";case\"csisolatincyrillic\":case\"cyrillic\":case\"iso-8859-5\":case\"iso-ir-144\":case\"iso8859-5\":case\"iso88595\":case\"iso_8859-5\":case\"iso_8859-5:1988\":return\"ISO-8859-5\";case\"arabic\":case\"asmo-708\":case\"csiso88596e\":case\"csiso88596i\":case\"csisolatinarabic\":case\"ecma-114\":case\"iso-8859-6\":case\"iso-8859-6-e\":case\"iso-8859-6-i\":case\"iso-ir-127\":case\"iso8859-6\":case\"iso88596\":case\"iso_8859-6\":case\"iso_8859-6:1987\":return\"ISO-8859-6\";case\"csisolatingreek\":case\"ecma-118\":case\"elot_928\":case\"greek\":case\"greek8\":case\"iso-8859-7\":case\"iso-ir-126\":case\"iso8859-7\":case\"iso88597\":case\"iso_8859-7\":case\"iso_8859-7:1987\":case\"sun_eu_greek\":return\"ISO-8859-7\";case\"csiso88598e\":case\"csisolatinhebrew\":case\"hebrew\":case\"iso-8859-8\":case\"iso-8859-8-e\":case\"iso-ir-138\":case\"iso8859-8\":case\"iso88598\":case\"iso_8859-8\":case\"iso_8859-8:1988\":case\"visual\":return\"ISO-8859-8\";case\"csiso88598i\":case\"iso-8859-8-i\":case\"logical\":return\"ISO-8859-8-I\";case\"csisolatin6\":case\"iso-8859-10\":case\"iso-ir-157\":case\"iso8859-10\":case\"iso885910\":case\"l6\":case\"latin6\":return\"ISO-8859-10\";case\"iso-8859-13\":case\"iso8859-13\":case\"iso885913\":return\"ISO-8859-13\";case\"iso-8859-14\":case\"iso8859-14\":case\"iso885914\":return\"ISO-8859-14\";case\"csisolatin9\":case\"iso-8859-15\":case\"iso8859-15\":case\"iso885915\":case\"iso_8859-15\":case\"l9\":return\"ISO-8859-15\";case\"iso-8859-16\":return\"ISO-8859-16\";case\"cskoi8r\":case\"koi\":case\"koi8\":case\"koi8-r\":case\"koi8_r\":return\"KOI8-R\";case\"koi8-ru\":case\"koi8-u\":return\"KOI8-U\";case\"csmacintosh\":case\"mac\":case\"macintosh\":case\"x-mac-roman\":return\"macintosh\";case\"iso-8859-11\":case\"iso8859-11\":case\"iso885911\":case\"tis-620\":case\"windows-874\":return\"windows-874\";case\"cp1250\":case\"windows-1250\":case\"x-cp1250\":return\"windows-1250\";case\"cp1251\":case\"windows-1251\":case\"x-cp1251\":return\"windows-1251\";case\"ansi_x3.4-1968\":case\"ascii\":case\"cp1252\":case\"cp819\":case\"csisolatin1\":case\"ibm819\":case\"iso-8859-1\":case\"iso-ir-100\":case\"iso8859-1\":case\"iso88591\":case\"iso_8859-1\":case\"iso_8859-1:1987\":case\"l1\":case\"latin1\":case\"us-ascii\":case\"windows-1252\":case\"x-cp1252\":return\"windows-1252\";case\"cp1253\":case\"windows-1253\":case\"x-cp1253\":return\"windows-1253\";case\"cp1254\":case\"csisolatin5\":case\"iso-8859-9\":case\"iso-ir-148\":case\"iso8859-9\":case\"iso88599\":case\"iso_8859-9\":case\"iso_8859-9:1989\":case\"l5\":case\"latin5\":case\"windows-1254\":case\"x-cp1254\":return\"windows-1254\";case\"cp1255\":case\"windows-1255\":case\"x-cp1255\":return\"windows-1255\";case\"cp1256\":case\"windows-1256\":case\"x-cp1256\":return\"windows-1256\";case\"cp1257\":case\"windows-1257\":case\"x-cp1257\":return\"windows-1257\";case\"cp1258\":case\"windows-1258\":case\"x-cp1258\":return\"windows-1258\";case\"x-mac-cyrillic\":case\"x-mac-ukrainian\":return\"x-mac-cyrillic\";case\"chinese\":case\"csgb2312\":case\"csiso58gb231280\":case\"gb2312\":case\"gb_2312\":case\"gb_2312-80\":case\"gbk\":case\"iso-ir-58\":case\"x-gbk\":return\"GBK\";case\"gb18030\":return\"gb18030\";case\"big5\":case\"big5-hkscs\":case\"cn-big5\":case\"csbig5\":case\"x-x-big5\":return\"Big5\";case\"cseucpkdfmtjapanese\":case\"euc-jp\":case\"x-euc-jp\":return\"EUC-JP\";case\"csiso2022jp\":case\"iso-2022-jp\":return\"ISO-2022-JP\";case\"csshiftjis\":case\"ms932\":case\"ms_kanji\":case\"shift-jis\":case\"shift_jis\":case\"sjis\":case\"windows-31j\":case\"x-sjis\":return\"Shift_JIS\";case\"cseuckr\":case\"csksc56011987\":case\"euc-kr\":case\"iso-ir-149\":case\"korean\":case\"ks_c_5601-1987\":case\"ks_c_5601-1989\":case\"ksc5601\":case\"ksc_5601\":case\"windows-949\":return\"EUC-KR\";case\"csiso2022kr\":case\"hz-gb-2312\":case\"iso-2022-cn\":case\"iso-2022-cn-ext\":case\"iso-2022-kr\":case\"replacement\":return\"replacement\";case\"unicodefffe\":case\"utf-16be\":return\"UTF-16BE\";case\"csunicode\":case\"iso-10646-ucs-2\":case\"ucs-2\":case\"unicode\":case\"unicodefeff\":case\"utf-16\":case\"utf-16le\":return\"UTF-16LE\";case\"x-user-defined\":return\"x-user-defined\";default:return\"failure\"}}eF.exports={getEncoding:t5}});var cF=y((EMe,AF)=>{\"use strict\";var{kState:El,kError:oR,kResult:rF,kAborted:Hd,kLastProgressEventFired:sR}=nR(),{ProgressEvent:r5}=ZM(),{getEncoding:nF}=tF(),{DOMException:n5}=ls(),{serializeAMimeType:i5,parseMIMEType:iF}=ii(),{types:o5}=require(\"util\"),{StringDecoder:oF}=require(\"string_decoder\"),{btoa:sF}=require(\"buffer\"),s5={enumerable:!0,writable:!1,configurable:!1};function a5(t,e,r,n){if(t[El]===\"loading\")throw new n5(\"Invalid state\",\"InvalidStateError\");t[El]=\"loading\",t[rF]=null,t[oR]=null;let o=e.stream().getReader(),s=[],a=o.read(),A=!0;(async()=>{for(;!t[Hd];)try{let{done:c,value:l}=await a;if(A&&!t[Hd]&&queueMicrotask(()=>{Cs(\"loadstart\",t)}),A=!1,!c&&o5.isUint8Array(l))s.push(l),(t[sR]===void 0||Date.now()-t[sR]>=50)&&!t[Hd]&&(t[sR]=Date.now(),queueMicrotask(()=>{Cs(\"progress\",t)})),a=o.read();else if(c){queueMicrotask(()=>{t[El]=\"done\";try{let u=A5(s,r,e.type,n);if(t[Hd])return;t[rF]=u,Cs(\"load\",t)}catch(u){t[oR]=u,Cs(\"error\",t)}t[El]!==\"loading\"&&Cs(\"loadend\",t)});break}}catch(c){if(t[Hd])return;queueMicrotask(()=>{t[El]=\"done\",t[oR]=c,Cs(\"error\",t),t[El]!==\"loading\"&&Cs(\"loadend\",t)});break}})()}function Cs(t,e){let r=new r5(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(r)}function A5(t,e,r,n){switch(e){case\"DataURL\":{let i=\"data:\",o=iF(r||\"application/octet-stream\");o!==\"failure\"&&(i+=i5(o)),i+=\";base64,\";let s=new oF(\"latin1\");for(let a of t)i+=sF(s.write(a));return i+=sF(s.end()),i}case\"Text\":{let i=\"failure\";if(n&&(i=nF(n)),i===\"failure\"&&r){let o=iF(r);o!==\"failure\"&&(i=nF(o.parameters.get(\"charset\")))}return i===\"failure\"&&(i=\"UTF-8\"),c5(t,i)}case\"ArrayBuffer\":return aF(t).buffer;case\"BinaryString\":{let i=\"\",o=new oF(\"latin1\");for(let s of t)i+=o.write(s);return i+=o.end(),i}}}function c5(t,e){let r=aF(t),n=l5(r),i=0;n!==null&&(e=n,i=n===\"UTF-8\"?3:2);let o=r.slice(i);return new TextDecoder(e).decode(o)}function l5(t){let[e,r,n]=t;return e===239&&r===187&&n===191?\"UTF-8\":e===254&&r===255?\"UTF-16BE\":e===255&&r===254?\"UTF-16LE\":null}function aF(t){let e=t.reduce((n,i)=>n+i.byteLength,0),r=0;return t.reduce((n,i)=>(n.set(i,r),r+=i.byteLength,n),new Uint8Array(e))}AF.exports={staticPropertyDescriptors:s5,readOperation:a5,fireAProgressEvent:Cs}});var hF=y((CMe,dF)=>{\"use strict\";var{staticPropertyDescriptors:Cl,readOperation:fC,fireAProgressEvent:lF}=cF(),{kState:Ka,kError:uF,kResult:pC,kEvents:Me,kAborted:u5}=nR(),{webidl:Je}=Ir(),{kEnumerableProperty:Wr}=De(),Ai=class t extends EventTarget{constructor(){super(),this[Ka]=\"empty\",this[pC]=null,this[uF]=null,this[Me]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){Je.brandCheck(this,t),Je.argumentLengthCheck(arguments,1,{header:\"FileReader.readAsArrayBuffer\"}),e=Je.converters.Blob(e,{strict:!1}),fC(this,e,\"ArrayBuffer\")}readAsBinaryString(e){Je.brandCheck(this,t),Je.argumentLengthCheck(arguments,1,{header:\"FileReader.readAsBinaryString\"}),e=Je.converters.Blob(e,{strict:!1}),fC(this,e,\"BinaryString\")}readAsText(e,r=void 0){Je.brandCheck(this,t),Je.argumentLengthCheck(arguments,1,{header:\"FileReader.readAsText\"}),e=Je.converters.Blob(e,{strict:!1}),r!==void 0&&(r=Je.converters.DOMString(r)),fC(this,e,\"Text\",r)}readAsDataURL(e){Je.brandCheck(this,t),Je.argumentLengthCheck(arguments,1,{header:\"FileReader.readAsDataURL\"}),e=Je.converters.Blob(e,{strict:!1}),fC(this,e,\"DataURL\")}abort(){if(this[Ka]===\"empty\"||this[Ka]===\"done\"){this[pC]=null;return}this[Ka]===\"loading\"&&(this[Ka]=\"done\",this[pC]=null),this[u5]=!0,lF(\"abort\",this),this[Ka]!==\"loading\"&&lF(\"loadend\",this)}get readyState(){switch(Je.brandCheck(this,t),this[Ka]){case\"empty\":return this.EMPTY;case\"loading\":return this.LOADING;case\"done\":return this.DONE}}get result(){return Je.brandCheck(this,t),this[pC]}get error(){return Je.brandCheck(this,t),this[uF]}get onloadend(){return Je.brandCheck(this,t),this[Me].loadend}set onloadend(e){Je.brandCheck(this,t),this[Me].loadend&&this.removeEventListener(\"loadend\",this[Me].loadend),typeof e==\"function\"?(this[Me].loadend=e,this.addEventListener(\"loadend\",e)):this[Me].loadend=null}get onerror(){return Je.brandCheck(this,t),this[Me].error}set onerror(e){Je.brandCheck(this,t),this[Me].error&&this.removeEventListener(\"error\",this[Me].error),typeof e==\"function\"?(this[Me].error=e,this.addEventListener(\"error\",e)):this[Me].error=null}get onloadstart(){return Je.brandCheck(this,t),this[Me].loadstart}set onloadstart(e){Je.brandCheck(this,t),this[Me].loadstart&&this.removeEventListener(\"loadstart\",this[Me].loadstart),typeof e==\"function\"?(this[Me].loadstart=e,this.addEventListener(\"loadstart\",e)):this[Me].loadstart=null}get onprogress(){return Je.brandCheck(this,t),this[Me].progress}set onprogress(e){Je.brandCheck(this,t),this[Me].progress&&this.removeEventListener(\"progress\",this[Me].progress),typeof e==\"function\"?(this[Me].progress=e,this.addEventListener(\"progress\",e)):this[Me].progress=null}get onload(){return Je.brandCheck(this,t),this[Me].load}set onload(e){Je.brandCheck(this,t),this[Me].load&&this.removeEventListener(\"load\",this[Me].load),typeof e==\"function\"?(this[Me].load=e,this.addEventListener(\"load\",e)):this[Me].load=null}get onabort(){return Je.brandCheck(this,t),this[Me].abort}set onabort(e){Je.brandCheck(this,t),this[Me].abort&&this.removeEventListener(\"abort\",this[Me].abort),typeof e==\"function\"?(this[Me].abort=e,this.addEventListener(\"abort\",e)):this[Me].abort=null}};Ai.EMPTY=Ai.prototype.EMPTY=0;Ai.LOADING=Ai.prototype.LOADING=1;Ai.DONE=Ai.prototype.DONE=2;Object.defineProperties(Ai.prototype,{EMPTY:Cl,LOADING:Cl,DONE:Cl,readAsArrayBuffer:Wr,readAsBinaryString:Wr,readAsText:Wr,readAsDataURL:Wr,abort:Wr,readyState:Wr,result:Wr,error:Wr,onloadstart:Wr,onprogress:Wr,onload:Wr,onabort:Wr,onerror:Wr,onloadend:Wr,[Symbol.toStringTag]:{value:\"FileReader\",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Ai,{EMPTY:Cl,LOADING:Cl,DONE:Cl});dF.exports={FileReader:Ai}});var EC=y((mMe,gF)=>{\"use strict\";gF.exports={kConstruct:st().kConstruct}});var EF=y((yMe,pF)=>{\"use strict\";var d5=require(\"assert\"),{URLSerializer:fF}=ii(),{isValidHeaderName:h5}=On();function g5(t,e,r=!1){let n=fF(t,r),i=fF(e,r);return n===i}function f5(t){d5(t!==null);let e=[];for(let r of t.split(\",\")){if(r=r.trim(),r.length){if(!h5(r))continue}else continue;e.push(r)}return e}pF.exports={urlEquals:g5,fieldValues:f5}});var QF=y((IMe,BF)=>{\"use strict\";var{kConstruct:p5}=EC(),{urlEquals:E5,fieldValues:aR}=EF(),{kEnumerableProperty:Wa,isDisturbed:C5}=De(),{kHeadersList:CF}=st(),{webidl:ne}=Ir(),{Response:yF,cloneResponse:m5}=tC(),{Request:Fi}=Ud(),{kState:Sr,kHeaders:CC,kGuard:mF,kRealm:y5}=uo(),{fetching:I5}=hC(),{urlIsHttpHttpsScheme:mC,createDeferredPromise:ml,readAllBytes:B5}=On(),AR=require(\"assert\"),{getGlobalDispatcher:Q5}=cl(),yC=class t{#e;constructor(){arguments[0]!==p5&&ne.illegalConstructor(),this.#e=arguments[1]}async match(e,r={}){ne.brandCheck(this,t),ne.argumentLengthCheck(arguments,1,{header:\"Cache.match\"}),e=ne.converters.RequestInfo(e),r=ne.converters.CacheQueryOptions(r);let n=await this.matchAll(e,r);if(n.length!==0)return n[0]}async matchAll(e=void 0,r={}){ne.brandCheck(this,t),e!==void 0&&(e=ne.converters.RequestInfo(e)),r=ne.converters.CacheQueryOptions(r);let n=null;if(e!==void 0)if(e instanceof Fi){if(n=e[Sr],n.method!==\"GET\"&&!r.ignoreMethod)return[]}else typeof e==\"string\"&&(n=new Fi(e)[Sr]);let i=[];if(e===void 0)for(let s of this.#e)i.push(s[1]);else{let s=this.#n(n,r);for(let a of s)i.push(a[1])}let o=[];for(let s of i){let a=new yF(s.body?.source??null),A=a[Sr].body;a[Sr]=s,a[Sr].body=A,a[CC][CF]=s.headersList,a[CC][mF]=\"immutable\",o.push(a)}return Object.freeze(o)}async add(e){ne.brandCheck(this,t),ne.argumentLengthCheck(arguments,1,{header:\"Cache.add\"}),e=ne.converters.RequestInfo(e);let r=[e];return await this.addAll(r)}async addAll(e){ne.brandCheck(this,t),ne.argumentLengthCheck(arguments,1,{header:\"Cache.addAll\"}),e=ne.converters[\"sequence<RequestInfo>\"](e);let r=[],n=[];for(let u of e){if(typeof u==\"string\")continue;let d=u[Sr];if(!mC(d.url)||d.method!==\"GET\")throw ne.errors.exception({header:\"Cache.addAll\",message:\"Expected http/s scheme when method is not GET.\"})}let i=[];for(let u of e){let d=new Fi(u)[Sr];if(!mC(d.url))throw ne.errors.exception({header:\"Cache.addAll\",message:\"Expected http/s scheme.\"});d.initiator=\"fetch\",d.destination=\"subresource\",n.push(d);let h=ml();i.push(I5({request:d,dispatcher:Q5(),processResponse(g){if(g.type===\"error\"||g.status===206||g.status<200||g.status>299)h.reject(ne.errors.exception({header:\"Cache.addAll\",message:\"Received an invalid status code or the request failed.\"}));else if(g.headersList.contains(\"vary\")){let p=aR(g.headersList.get(\"vary\"));for(let f of p)if(f===\"*\"){h.reject(ne.errors.exception({header:\"Cache.addAll\",message:\"invalid vary field value\"}));for(let C of i)C.abort();return}}},processResponseEndOfBody(g){if(g.aborted){h.reject(new DOMException(\"aborted\",\"AbortError\"));return}h.resolve(g)}})),r.push(h.promise)}let s=await Promise.all(r),a=[],A=0;for(let u of s){let d={type:\"put\",request:n[A],response:u};a.push(d),A++}let c=ml(),l=null;try{this.#r(a)}catch(u){l=u}return queueMicrotask(()=>{l===null?c.resolve(void 0):c.reject(l)}),c.promise}async put(e,r){ne.brandCheck(this,t),ne.argumentLengthCheck(arguments,2,{header:\"Cache.put\"}),e=ne.converters.RequestInfo(e),r=ne.converters.Response(r);let n=null;if(e instanceof Fi?n=e[Sr]:n=new Fi(e)[Sr],!mC(n.url)||n.method!==\"GET\")throw ne.errors.exception({header:\"Cache.put\",message:\"Expected an http/s scheme when method is not GET\"});let i=r[Sr];if(i.status===206)throw ne.errors.exception({header:\"Cache.put\",message:\"Got 206 status\"});if(i.headersList.contains(\"vary\")){let d=aR(i.headersList.get(\"vary\"));for(let h of d)if(h===\"*\")throw ne.errors.exception({header:\"Cache.put\",message:\"Got * vary field value\"})}if(i.body&&(C5(i.body.stream)||i.body.stream.locked))throw ne.errors.exception({header:\"Cache.put\",message:\"Response body is locked or disturbed\"});let o=m5(i),s=ml();if(i.body!=null){let h=i.body.stream.getReader();B5(h).then(s.resolve,s.reject)}else s.resolve(void 0);let a=[],A={type:\"put\",request:n,response:o};a.push(A);let c=await s.promise;o.body!=null&&(o.body.source=c);let l=ml(),u=null;try{this.#r(a)}catch(d){u=d}return queueMicrotask(()=>{u===null?l.resolve():l.reject(u)}),l.promise}async delete(e,r={}){ne.brandCheck(this,t),ne.argumentLengthCheck(arguments,1,{header:\"Cache.delete\"}),e=ne.converters.RequestInfo(e),r=ne.converters.CacheQueryOptions(r);let n=null;if(e instanceof Fi){if(n=e[Sr],n.method!==\"GET\"&&!r.ignoreMethod)return!1}else AR(typeof e==\"string\"),n=new Fi(e)[Sr];let i=[],o={type:\"delete\",request:n,options:r};i.push(o);let s=ml(),a=null,A;try{A=this.#r(i)}catch(c){a=c}return queueMicrotask(()=>{a===null?s.resolve(!!A?.length):s.reject(a)}),s.promise}async keys(e=void 0,r={}){ne.brandCheck(this,t),e!==void 0&&(e=ne.converters.RequestInfo(e)),r=ne.converters.CacheQueryOptions(r);let n=null;if(e!==void 0)if(e instanceof Fi){if(n=e[Sr],n.method!==\"GET\"&&!r.ignoreMethod)return[]}else typeof e==\"string\"&&(n=new Fi(e)[Sr]);let i=ml(),o=[];if(e===void 0)for(let s of this.#e)o.push(s[0]);else{let s=this.#n(n,r);for(let a of s)o.push(a[0])}return queueMicrotask(()=>{let s=[];for(let a of o){let A=new Fi(\"https://a\");A[Sr]=a,A[CC][CF]=a.headersList,A[CC][mF]=\"immutable\",A[y5]=a.client,s.push(A)}i.resolve(Object.freeze(s))}),i.promise}#r(e){let r=this.#e,n=[...r],i=[],o=[];try{for(let s of e){if(s.type!==\"delete\"&&s.type!==\"put\")throw ne.errors.exception({header:\"Cache.#batchCacheOperations\",message:'operation type does not match \"delete\" or \"put\"'});if(s.type===\"delete\"&&s.response!=null)throw ne.errors.exception({header:\"Cache.#batchCacheOperations\",message:\"delete operation should not have an associated response\"});if(this.#n(s.request,s.options,i).length)throw new DOMException(\"???\",\"InvalidStateError\");let a;if(s.type===\"delete\"){if(a=this.#n(s.request,s.options),a.length===0)return[];for(let A of a){let c=r.indexOf(A);AR(c!==-1),r.splice(c,1)}}else if(s.type===\"put\"){if(s.response==null)throw ne.errors.exception({header:\"Cache.#batchCacheOperations\",message:\"put operation should have an associated response\"});let A=s.request;if(!mC(A.url))throw ne.errors.exception({header:\"Cache.#batchCacheOperations\",message:\"expected http or https scheme\"});if(A.method!==\"GET\")throw ne.errors.exception({header:\"Cache.#batchCacheOperations\",message:\"not get method\"});if(s.options!=null)throw ne.errors.exception({header:\"Cache.#batchCacheOperations\",message:\"options must not be defined\"});a=this.#n(s.request);for(let c of a){let l=r.indexOf(c);AR(l!==-1),r.splice(l,1)}r.push([s.request,s.response]),i.push([s.request,s.response])}o.push([s.request,s.response])}return o}catch(s){throw this.#e.length=0,this.#e=n,s}}#n(e,r,n){let i=[],o=n??this.#e;for(let s of o){let[a,A]=s;this.#t(e,a,A,r)&&i.push(s)}return i}#t(e,r,n=null,i){let o=new URL(e.url),s=new URL(r.url);if(i?.ignoreSearch&&(s.search=\"\",o.search=\"\"),!E5(o,s,!0))return!1;if(n==null||i?.ignoreVary||!n.headersList.contains(\"vary\"))return!0;let a=aR(n.headersList.get(\"vary\"));for(let A of a){if(A===\"*\")return!1;let c=r.headersList.get(A),l=e.headersList.get(A);if(c!==l)return!1}return!0}};Object.defineProperties(yC.prototype,{[Symbol.toStringTag]:{value:\"Cache\",configurable:!0},match:Wa,matchAll:Wa,add:Wa,addAll:Wa,put:Wa,delete:Wa,keys:Wa});var IF=[{key:\"ignoreSearch\",converter:ne.converters.boolean,defaultValue:!1},{key:\"ignoreMethod\",converter:ne.converters.boolean,defaultValue:!1},{key:\"ignoreVary\",converter:ne.converters.boolean,defaultValue:!1}];ne.converters.CacheQueryOptions=ne.dictionaryConverter(IF);ne.converters.MultiCacheQueryOptions=ne.dictionaryConverter([...IF,{key:\"cacheName\",converter:ne.converters.DOMString}]);ne.converters.Response=ne.interfaceConverter(yF);ne.converters[\"sequence<RequestInfo>\"]=ne.sequenceConverter(ne.converters.RequestInfo);BF.exports={Cache:yC}});var RF=y((BMe,wF)=>{\"use strict\";var{kConstruct:qd}=EC(),{Cache:IC}=QF(),{webidl:Tr}=Ir(),{kEnumerableProperty:Gd}=De(),BC=class t{#e=new Map;constructor(){arguments[0]!==qd&&Tr.illegalConstructor()}async match(e,r={}){if(Tr.brandCheck(this,t),Tr.argumentLengthCheck(arguments,1,{header:\"CacheStorage.match\"}),e=Tr.converters.RequestInfo(e),r=Tr.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new IC(qd,n).match(e,r)}}else for(let n of this.#e.values()){let o=await new IC(qd,n).match(e,r);if(o!==void 0)return o}}async has(e){return Tr.brandCheck(this,t),Tr.argumentLengthCheck(arguments,1,{header:\"CacheStorage.has\"}),e=Tr.converters.DOMString(e),this.#e.has(e)}async open(e){if(Tr.brandCheck(this,t),Tr.argumentLengthCheck(arguments,1,{header:\"CacheStorage.open\"}),e=Tr.converters.DOMString(e),this.#e.has(e)){let n=this.#e.get(e);return new IC(qd,n)}let r=[];return this.#e.set(e,r),new IC(qd,r)}async delete(e){return Tr.brandCheck(this,t),Tr.argumentLengthCheck(arguments,1,{header:\"CacheStorage.delete\"}),e=Tr.converters.DOMString(e),this.#e.delete(e)}async keys(){return Tr.brandCheck(this,t),[...this.#e.keys()]}};Object.defineProperties(BC.prototype,{[Symbol.toStringTag]:{value:\"CacheStorage\",configurable:!0},match:Gd,has:Gd,open:Gd,delete:Gd,keys:Gd});wF.exports={CacheStorage:BC}});var TF=y((QMe,SF)=>{\"use strict\";SF.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var cR=y((wMe,vF)=>{\"use strict\";function w5(t){if(t.length===0)return!1;for(let e of t){let r=e.charCodeAt(0);if(r>=0||r<=8||r>=10||r<=31||r===127)return!1}}function bF(t){for(let e of t){let r=e.charCodeAt(0);if(r<=32||r>127||e===\"(\"||e===\")\"||e===\">\"||e===\"<\"||e===\"@\"||e===\",\"||e===\";\"||e===\":\"||e===\"\\\\\"||e==='\"'||e===\"/\"||e===\"[\"||e===\"]\"||e===\"?\"||e===\"=\"||e===\"{\"||e===\"}\")throw new Error(\"Invalid cookie name\")}}function kF(t){for(let e of t){let r=e.charCodeAt(0);if(r<33||r===34||r===44||r===59||r===92||r>126)throw new Error(\"Invalid header value\")}}function DF(t){for(let e of t)if(e.charCodeAt(0)<33||e===\";\")throw new Error(\"Invalid cookie path\")}function R5(t){if(t.startsWith(\"-\")||t.endsWith(\".\")||t.endsWith(\"-\"))throw new Error(\"Invalid cookie domain\")}function xF(t){typeof t==\"number\"&&(t=new Date(t));let e=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],r=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],n=e[t.getUTCDay()],i=t.getUTCDate().toString().padStart(2,\"0\"),o=r[t.getUTCMonth()],s=t.getUTCFullYear(),a=t.getUTCHours().toString().padStart(2,\"0\"),A=t.getUTCMinutes().toString().padStart(2,\"0\"),c=t.getUTCSeconds().toString().padStart(2,\"0\");return`${n}, ${i} ${o} ${s} ${a}:${A}:${c} GMT`}function S5(t){if(t<0)throw new Error(\"Invalid cookie max-age\")}function T5(t){if(t.name.length===0)return null;bF(t.name),kF(t.value);let e=[`${t.name}=${t.value}`];t.name.startsWith(\"__Secure-\")&&(t.secure=!0),t.name.startsWith(\"__Host-\")&&(t.secure=!0,t.domain=null,t.path=\"/\"),t.secure&&e.push(\"Secure\"),t.httpOnly&&e.push(\"HttpOnly\"),typeof t.maxAge==\"number\"&&(S5(t.maxAge),e.push(`Max-Age=${t.maxAge}`)),t.domain&&(R5(t.domain),e.push(`Domain=${t.domain}`)),t.path&&(DF(t.path),e.push(`Path=${t.path}`)),t.expires&&t.expires.toString()!==\"Invalid Date\"&&e.push(`Expires=${xF(t.expires)}`),t.sameSite&&e.push(`SameSite=${t.sameSite}`);for(let r of t.unparsed){if(!r.includes(\"=\"))throw new Error(\"Invalid unparsed\");let[n,...i]=r.split(\"=\");e.push(`${n.trim()}=${i.join(\"=\")}`)}return e.join(\"; \")}vF.exports={isCTLExcludingHtab:w5,validateCookieName:bF,validateCookiePath:DF,validateCookieValue:kF,toIMFDate:xF,stringify:T5}});var PF=y((RMe,NF)=>{\"use strict\";var{maxNameValuePairSize:b5,maxAttributeValueSize:k5}=TF(),{isCTLExcludingHtab:D5}=cR(),{collectASequenceOfCodePointsFast:QC}=ii(),x5=require(\"assert\");function v5(t){if(D5(t))return null;let e=\"\",r=\"\",n=\"\",i=\"\";if(t.includes(\";\")){let o={position:0};e=QC(\";\",t,o),r=t.slice(o.position)}else e=t;if(!e.includes(\"=\"))i=e;else{let o={position:0};n=QC(\"=\",e,o),i=e.slice(o.position+1)}return n=n.trim(),i=i.trim(),n.length+i.length>b5?null:{name:n,value:i,...yl(r)}}function yl(t,e={}){if(t.length===0)return e;x5(t[0]===\";\"),t=t.slice(1);let r=\"\";t.includes(\";\")?(r=QC(\";\",t,{position:0}),t=t.slice(r.length)):(r=t,t=\"\");let n=\"\",i=\"\";if(r.includes(\"=\")){let s={position:0};n=QC(\"=\",r,s),i=r.slice(s.position+1)}else n=r;if(n=n.trim(),i=i.trim(),i.length>k5)return yl(t,e);let o=n.toLowerCase();if(o===\"expires\"){let s=new Date(i);e.expires=s}else if(o===\"max-age\"){let s=i.charCodeAt(0);if((s<48||s>57)&&i[0]!==\"-\"||!/^\\d+$/.test(i))return yl(t,e);let a=Number(i);e.maxAge=a}else if(o===\"domain\"){let s=i;s[0]===\".\"&&(s=s.slice(1)),s=s.toLowerCase(),e.domain=s}else if(o===\"path\"){let s=\"\";i.length===0||i[0]!==\"/\"?s=\"/\":s=i,e.path=s}else if(o===\"secure\")e.secure=!0;else if(o===\"httponly\")e.httpOnly=!0;else if(o===\"samesite\"){let s=\"Default\",a=i.toLowerCase();a.includes(\"none\")&&(s=\"None\"),a.includes(\"strict\")&&(s=\"Strict\"),a.includes(\"lax\")&&(s=\"Lax\"),e.sameSite=s}else e.unparsed??=[],e.unparsed.push(`${n}=${i}`);return yl(t,e)}NF.exports={parseSetCookie:v5,parseUnparsedAttributes:yl}});var OF=y((SMe,LF)=>{\"use strict\";var{parseSetCookie:N5}=PF(),{stringify:MF}=cR(),{webidl:be}=Ir(),{Headers:wC}=Va();function P5(t){be.argumentLengthCheck(arguments,1,{header:\"getCookies\"}),be.brandCheck(t,wC,{strict:!1});let e=t.get(\"cookie\"),r={};if(!e)return r;for(let n of e.split(\";\")){let[i,...o]=n.split(\"=\");r[i.trim()]=o.join(\"=\")}return r}function M5(t,e,r){be.argumentLengthCheck(arguments,2,{header:\"deleteCookie\"}),be.brandCheck(t,wC,{strict:!1}),e=be.converters.DOMString(e),r=be.converters.DeleteCookieAttributes(r),FF(t,{name:e,value:\"\",expires:new Date(0),...r})}function F5(t){be.argumentLengthCheck(arguments,1,{header:\"getSetCookies\"}),be.brandCheck(t,wC,{strict:!1});let e=t.getSetCookie();return e?e.map(r=>N5(r)):[]}function FF(t,e){be.argumentLengthCheck(arguments,2,{header:\"setCookie\"}),be.brandCheck(t,wC,{strict:!1}),e=be.converters.Cookie(e),MF(e)&&t.append(\"Set-Cookie\",MF(e))}be.converters.DeleteCookieAttributes=be.dictionaryConverter([{converter:be.nullableConverter(be.converters.DOMString),key:\"path\",defaultValue:null},{converter:be.nullableConverter(be.converters.DOMString),key:\"domain\",defaultValue:null}]);be.converters.Cookie=be.dictionaryConverter([{converter:be.converters.DOMString,key:\"name\"},{converter:be.converters.DOMString,key:\"value\"},{converter:be.nullableConverter(t=>typeof t==\"number\"?be.converters[\"unsigned long long\"](t):new Date(t)),key:\"expires\",defaultValue:null},{converter:be.nullableConverter(be.converters[\"long long\"]),key:\"maxAge\",defaultValue:null},{converter:be.nullableConverter(be.converters.DOMString),key:\"domain\",defaultValue:null},{converter:be.nullableConverter(be.converters.DOMString),key:\"path\",defaultValue:null},{converter:be.nullableConverter(be.converters.boolean),key:\"secure\",defaultValue:null},{converter:be.nullableConverter(be.converters.boolean),key:\"httpOnly\",defaultValue:null},{converter:be.converters.USVString,key:\"sameSite\",allowedValues:[\"Strict\",\"Lax\",\"None\"]},{converter:be.sequenceConverter(be.converters.DOMString),key:\"unparsed\",defaultValue:[]}]);LF.exports={getCookies:P5,deleteCookie:M5,getSetCookies:F5,setCookie:FF}});var Il=y((TMe,UF)=>{\"use strict\";var L5=\"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\",O5={enumerable:!0,writable:!1,configurable:!1},U5={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},_5={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},H5=2**16-1,q5={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},G5=Buffer.allocUnsafe(0);UF.exports={uid:L5,staticPropertyDescriptors:O5,states:U5,opcodes:_5,maxUnsigned16Bit:H5,parserStates:q5,emptyBuffer:G5}});var Yd=y((bMe,_F)=>{\"use strict\";_F.exports={kWebSocketURL:Symbol(\"url\"),kReadyState:Symbol(\"ready state\"),kController:Symbol(\"controller\"),kResponse:Symbol(\"response\"),kBinaryType:Symbol(\"binary type\"),kSentClose:Symbol(\"sent close\"),kReceivedClose:Symbol(\"received close\"),kByteParser:Symbol(\"byte parser\")}});var uR=y((kMe,HF)=>{\"use strict\";var{webidl:ie}=Ir(),{kEnumerableProperty:zr}=De(),{MessagePort:Y5}=require(\"worker_threads\"),RC=class t extends Event{#e;constructor(e,r={}){ie.argumentLengthCheck(arguments,1,{header:\"MessageEvent constructor\"}),e=ie.converters.DOMString(e),r=ie.converters.MessageEventInit(r),super(e,r),this.#e=r}get data(){return ie.brandCheck(this,t),this.#e.data}get origin(){return ie.brandCheck(this,t),this.#e.origin}get lastEventId(){return ie.brandCheck(this,t),this.#e.lastEventId}get source(){return ie.brandCheck(this,t),this.#e.source}get ports(){return ie.brandCheck(this,t),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(e,r=!1,n=!1,i=null,o=\"\",s=\"\",a=null,A=[]){return ie.brandCheck(this,t),ie.argumentLengthCheck(arguments,1,{header:\"MessageEvent.initMessageEvent\"}),new t(e,{bubbles:r,cancelable:n,data:i,origin:o,lastEventId:s,source:a,ports:A})}},SC=class t extends Event{#e;constructor(e,r={}){ie.argumentLengthCheck(arguments,1,{header:\"CloseEvent constructor\"}),e=ie.converters.DOMString(e),r=ie.converters.CloseEventInit(r),super(e,r),this.#e=r}get wasClean(){return ie.brandCheck(this,t),this.#e.wasClean}get code(){return ie.brandCheck(this,t),this.#e.code}get reason(){return ie.brandCheck(this,t),this.#e.reason}},TC=class t extends Event{#e;constructor(e,r){ie.argumentLengthCheck(arguments,1,{header:\"ErrorEvent constructor\"}),super(e,r),e=ie.converters.DOMString(e),r=ie.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return ie.brandCheck(this,t),this.#e.message}get filename(){return ie.brandCheck(this,t),this.#e.filename}get lineno(){return ie.brandCheck(this,t),this.#e.lineno}get colno(){return ie.brandCheck(this,t),this.#e.colno}get error(){return ie.brandCheck(this,t),this.#e.error}};Object.defineProperties(RC.prototype,{[Symbol.toStringTag]:{value:\"MessageEvent\",configurable:!0},data:zr,origin:zr,lastEventId:zr,source:zr,ports:zr,initMessageEvent:zr});Object.defineProperties(SC.prototype,{[Symbol.toStringTag]:{value:\"CloseEvent\",configurable:!0},reason:zr,code:zr,wasClean:zr});Object.defineProperties(TC.prototype,{[Symbol.toStringTag]:{value:\"ErrorEvent\",configurable:!0},message:zr,filename:zr,lineno:zr,colno:zr,error:zr});ie.converters.MessagePort=ie.interfaceConverter(Y5);ie.converters[\"sequence<MessagePort>\"]=ie.sequenceConverter(ie.converters.MessagePort);var lR=[{key:\"bubbles\",converter:ie.converters.boolean,defaultValue:!1},{key:\"cancelable\",converter:ie.converters.boolean,defaultValue:!1},{key:\"composed\",converter:ie.converters.boolean,defaultValue:!1}];ie.converters.MessageEventInit=ie.dictionaryConverter([...lR,{key:\"data\",converter:ie.converters.any,defaultValue:null},{key:\"origin\",converter:ie.converters.USVString,defaultValue:\"\"},{key:\"lastEventId\",converter:ie.converters.DOMString,defaultValue:\"\"},{key:\"source\",converter:ie.nullableConverter(ie.converters.MessagePort),defaultValue:null},{key:\"ports\",converter:ie.converters[\"sequence<MessagePort>\"],get defaultValue(){return[]}}]);ie.converters.CloseEventInit=ie.dictionaryConverter([...lR,{key:\"wasClean\",converter:ie.converters.boolean,defaultValue:!1},{key:\"code\",converter:ie.converters[\"unsigned short\"],defaultValue:0},{key:\"reason\",converter:ie.converters.USVString,defaultValue:\"\"}]);ie.converters.ErrorEventInit=ie.dictionaryConverter([...lR,{key:\"message\",converter:ie.converters.DOMString,defaultValue:\"\"},{key:\"filename\",converter:ie.converters.USVString,defaultValue:\"\"},{key:\"lineno\",converter:ie.converters[\"unsigned long\"],defaultValue:0},{key:\"colno\",converter:ie.converters[\"unsigned long\"],defaultValue:0},{key:\"error\",converter:ie.converters.any}]);HF.exports={MessageEvent:RC,CloseEvent:SC,ErrorEvent:TC}});var DC=y((DMe,YF)=>{\"use strict\";var{kReadyState:bC,kController:V5,kResponse:J5,kBinaryType:K5,kWebSocketURL:W5}=Yd(),{states:kC,opcodes:qF}=Il(),{MessageEvent:z5,ErrorEvent:j5}=uR();function $5(t){return t[bC]===kC.OPEN}function X5(t){return t[bC]===kC.CLOSING}function Z5(t){return t[bC]===kC.CLOSED}function dR(t,e,r=Event,n){let i=new r(t,n);e.dispatchEvent(i)}function e3(t,e,r){if(t[bC]!==kC.OPEN)return;let n;if(e===qF.TEXT)try{n=new TextDecoder(\"utf-8\",{fatal:!0}).decode(r)}catch{GF(t,\"Received invalid UTF-8 in text frame.\");return}else e===qF.BINARY&&(t[K5]===\"blob\"?n=new Blob([r]):n=new Uint8Array(r).buffer);dR(\"message\",t,z5,{origin:t[W5].origin,data:n})}function t3(t){if(t.length===0)return!1;for(let e of t){let r=e.charCodeAt(0);if(r<33||r>126||e===\"(\"||e===\")\"||e===\"<\"||e===\">\"||e===\"@\"||e===\",\"||e===\";\"||e===\":\"||e===\"\\\\\"||e==='\"'||e===\"/\"||e===\"[\"||e===\"]\"||e===\"?\"||e===\"=\"||e===\"{\"||e===\"}\"||r===32||r===9)return!1}return!0}function r3(t){return t>=1e3&&t<1015?t!==1004&&t!==1005&&t!==1006:t>=3e3&&t<=4999}function GF(t,e){let{[V5]:r,[J5]:n}=t;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),e&&dR(\"error\",t,j5,{error:new Error(e)})}YF.exports={isEstablished:$5,isClosing:X5,isClosed:Z5,fireEvent:dR,isValidSubprotocol:t3,isValidStatusCode:r3,failWebsocketConnection:GF,websocketMessageReceived:e3}});var jF=y((xMe,zF)=>{\"use strict\";var gR=require(\"diagnostics_channel\"),{uid:n3,states:JF}=Il(),{kReadyState:KF,kSentClose:VF,kByteParser:WF,kReceivedClose:i3}=Yd(),{fireEvent:o3,failWebsocketConnection:za}=DC(),{CloseEvent:s3}=uR(),{makeRequest:a3}=Ud(),{fetching:A3}=hC(),{Headers:c3}=Va(),{getGlobalDispatcher:l3}=cl(),{kHeadersList:u3}=st(),Io={};Io.open=gR.channel(\"undici:websocket:open\");Io.close=gR.channel(\"undici:websocket:close\");Io.socketError=gR.channel(\"undici:websocket:socket_error\");var hR;try{hR=require(\"crypto\")}catch{}function d3(t,e,r,n,i){let o=t;o.protocol=t.protocol===\"ws:\"?\"http:\":\"https:\";let s=a3({urlList:[o],serviceWorkers:\"none\",referrer:\"no-referrer\",mode:\"websocket\",credentials:\"include\",cache:\"no-store\",redirect:\"error\"});if(i.headers){let l=new c3(i.headers)[u3];s.headersList=l}let a=hR.randomBytes(16).toString(\"base64\");s.headersList.append(\"sec-websocket-key\",a),s.headersList.append(\"sec-websocket-version\",\"13\");for(let l of e)s.headersList.append(\"sec-websocket-protocol\",l);let A=\"\";return A3({request:s,useParallelQueue:!0,dispatcher:i.dispatcher??l3(),processResponse(l){if(l.type===\"error\"||l.status!==101){za(r,\"Received network error or non-101 status code.\");return}if(e.length!==0&&!l.headersList.get(\"Sec-WebSocket-Protocol\")){za(r,\"Server did not respond with sent protocols.\");return}if(l.headersList.get(\"Upgrade\")?.toLowerCase()!==\"websocket\"){za(r,'Server did not set Upgrade header to \"websocket\".');return}if(l.headersList.get(\"Connection\")?.toLowerCase()!==\"upgrade\"){za(r,'Server did not set Connection header to \"upgrade\".');return}let u=l.headersList.get(\"Sec-WebSocket-Accept\"),d=hR.createHash(\"sha1\").update(a+n3).digest(\"base64\");if(u!==d){za(r,\"Incorrect hash received in Sec-WebSocket-Accept header.\");return}let h=l.headersList.get(\"Sec-WebSocket-Extensions\");if(h!==null&&h!==A){za(r,\"Received different permessage-deflate than the one set.\");return}let g=l.headersList.get(\"Sec-WebSocket-Protocol\");if(g!==null&&g!==s.headersList.get(\"Sec-WebSocket-Protocol\")){za(r,\"Protocol was not set in the opening handshake.\");return}l.socket.on(\"data\",h3),l.socket.on(\"close\",g3),l.socket.on(\"error\",f3),Io.open.hasSubscribers&&Io.open.publish({address:l.socket.address(),protocol:g,extensions:h}),n(l)}})}function h3(t){this.ws[WF].write(t)||this.pause()}function g3(){let{ws:t}=this,e=t[VF]&&t[i3],r=1005,n=\"\",i=t[WF].closingInfo;i?(r=i.code??1005,n=i.reason):t[VF]||(r=1006),t[KF]=JF.CLOSED,o3(\"close\",t,s3,{wasClean:e,code:r,reason:n}),Io.close.hasSubscribers&&Io.close.publish({websocket:t,code:r,reason:n})}function f3(t){let{ws:e}=this;e[KF]=JF.CLOSING,Io.socketError.hasSubscribers&&Io.socketError.publish(t),this.destroy()}zF.exports={establishWebSocketConnection:d3}});var pR=y((vMe,XF)=>{\"use strict\";var{maxUnsigned16Bit:p3}=Il(),$F;try{$F=require(\"crypto\")}catch{}var fR=class{constructor(e){this.frameData=e,this.maskKey=$F.randomBytes(4)}createFrame(e){let r=this.frameData?.byteLength??0,n=r,i=6;r>p3?(i+=8,n=127):r>125&&(i+=2,n=126);let o=Buffer.allocUnsafe(r+i);o[0]=o[1]=0,o[0]|=128,o[0]=(o[0]&240)+e;o[i-4]=this.maskKey[0],o[i-3]=this.maskKey[1],o[i-2]=this.maskKey[2],o[i-1]=this.maskKey[3],o[1]=n,n===126?o.writeUInt16BE(r,2):n===127&&(o[2]=o[3]=0,o.writeUIntBE(r,4,6)),o[1]|=128;for(let s=0;s<r;s++)o[i+s]=this.frameData[s]^this.maskKey[s%4];return o}};XF.exports={WebsocketFrameSend:fR}});var sL=y((NMe,oL)=>{\"use strict\";var{Writable:E3}=require(\"stream\"),iL=require(\"diagnostics_channel\"),{parserStates:Hn,opcodes:qn,states:C3,emptyBuffer:m3}=Il(),{kReadyState:y3,kSentClose:ZF,kResponse:eL,kReceivedClose:tL}=Yd(),{isValidStatusCode:rL,failWebsocketConnection:Vd,websocketMessageReceived:I3}=DC(),{WebsocketFrameSend:nL}=pR(),Bl={};Bl.ping=iL.channel(\"undici:websocket:ping\");Bl.pong=iL.channel(\"undici:websocket:pong\");var ER=class extends E3{#e=[];#r=0;#n=Hn.INFO;#t={};#i=[];constructor(e){super(),this.ws=e}_write(e,r,n){this.#e.push(e),this.#r+=e.length,this.run(n)}run(e){for(;;){if(this.#n===Hn.INFO){if(this.#r<2)return e();let r=this.consume(2);if(this.#t.fin=(r[0]&128)!==0,this.#t.opcode=r[0]&15,this.#t.originalOpcode??=this.#t.opcode,this.#t.fragmented=!this.#t.fin&&this.#t.opcode!==qn.CONTINUATION,this.#t.fragmented&&this.#t.opcode!==qn.BINARY&&this.#t.opcode!==qn.TEXT){Vd(this.ws,\"Invalid frame type was fragmented.\");return}let n=r[1]&127;if(n<=125?(this.#t.payloadLength=n,this.#n=Hn.READ_DATA):n===126?this.#n=Hn.PAYLOADLENGTH_16:n===127&&(this.#n=Hn.PAYLOADLENGTH_64),this.#t.fragmented&&n>125){Vd(this.ws,\"Fragmented frame exceeded 125 bytes.\");return}else if((this.#t.opcode===qn.PING||this.#t.opcode===qn.PONG||this.#t.opcode===qn.CLOSE)&&n>125){Vd(this.ws,\"Payload length for control frame exceeded 125 bytes.\");return}else if(this.#t.opcode===qn.CLOSE){if(n===1){Vd(this.ws,\"Received close frame with a 1-byte body.\");return}let i=this.consume(n);if(this.#t.closeInfo=this.parseCloseBody(!1,i),!this.ws[ZF]){let o=Buffer.allocUnsafe(2);o.writeUInt16BE(this.#t.closeInfo.code,0);let s=new nL(o);this.ws[eL].socket.write(s.createFrame(qn.CLOSE),a=>{a||(this.ws[ZF]=!0)})}this.ws[y3]=C3.CLOSING,this.ws[tL]=!0,this.end();return}else if(this.#t.opcode===qn.PING){let i=this.consume(n);if(!this.ws[tL]){let o=new nL(i);this.ws[eL].socket.write(o.createFrame(qn.PONG)),Bl.ping.hasSubscribers&&Bl.ping.publish({payload:i})}if(this.#n=Hn.INFO,this.#r>0)continue;e();return}else if(this.#t.opcode===qn.PONG){let i=this.consume(n);if(Bl.pong.hasSubscribers&&Bl.pong.publish({payload:i}),this.#r>0)continue;e();return}}else if(this.#n===Hn.PAYLOADLENGTH_16){if(this.#r<2)return e();let r=this.consume(2);this.#t.payloadLength=r.readUInt16BE(0),this.#n=Hn.READ_DATA}else if(this.#n===Hn.PAYLOADLENGTH_64){if(this.#r<8)return e();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){Vd(this.ws,\"Received payload length > 2^31 bytes.\");return}let i=r.readUInt32BE(4);this.#t.payloadLength=(n<<8)+i,this.#n=Hn.READ_DATA}else if(this.#n===Hn.READ_DATA){if(this.#r<this.#t.payloadLength)return e();if(this.#r>=this.#t.payloadLength){let r=this.consume(this.#t.payloadLength);if(this.#i.push(r),!this.#t.fragmented||this.#t.fin&&this.#t.opcode===qn.CONTINUATION){let n=Buffer.concat(this.#i);I3(this.ws,this.#t.originalOpcode,n),this.#t={},this.#i.length=0}this.#n=Hn.INFO}}if(!(this.#r>0)){e();break}}}consume(e){if(e>this.#r)return null;if(e===0)return m3;if(this.#e[0].length===e)return this.#r-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(e),n=0;for(;n!==e;){let i=this.#e[0],{length:o}=i;if(o+n===e){r.set(this.#e.shift(),n);break}else if(o+n>e){r.set(i.subarray(0,e-n),n),this.#e[0]=i.subarray(e-n);break}else r.set(this.#e.shift(),n),n+=i.length}return this.#r-=e,r}parseCloseBody(e,r){let n;if(r.length>=2&&(n=r.readUInt16BE(0)),e)return rL(n)?{code:n}:null;let i=r.subarray(2);if(i[0]===239&&i[1]===187&&i[2]===191&&(i=i.subarray(3)),n!==void 0&&!rL(n))return null;try{i=new TextDecoder(\"utf-8\",{fatal:!0}).decode(i)}catch{return null}return{code:n,reason:i}}get closingInfo(){return this.#t.closeInfo}};oL.exports={ByteParser:ER}});var gL=y((PMe,hL)=>{\"use strict\";var{webidl:he}=Ir(),{DOMException:ms}=ls(),{URLSerializer:B3}=ii(),{getGlobalOrigin:Q3}=Hc(),{staticPropertyDescriptors:ys,states:Ql,opcodes:Jd,emptyBuffer:w3}=Il(),{kWebSocketURL:aL,kReadyState:Bo,kController:R3,kBinaryType:xC,kResponse:vC,kSentClose:S3,kByteParser:T3}=Yd(),{isEstablished:AL,isClosing:cL,isValidSubprotocol:b3,failWebsocketConnection:k3,fireEvent:D3}=DC(),{establishWebSocketConnection:x3}=jF(),{WebsocketFrameSend:Kd}=pR(),{ByteParser:v3}=sL(),{kEnumerableProperty:Gn,isBlobLike:uL}=De(),{getGlobalDispatcher:N3}=cl(),{types:dL}=require(\"util\"),lL=!1,yn=class t extends EventTarget{#e={open:null,error:null,close:null,message:null};#r=0;#n=\"\";#t=\"\";constructor(e,r=[]){super(),he.argumentLengthCheck(arguments,1,{header:\"WebSocket constructor\"}),lL||(lL=!0,process.emitWarning(\"WebSockets are experimental, expect them to change at any time.\",{code:\"UNDICI-WS\"}));let n=he.converters[\"DOMString or sequence<DOMString> or WebSocketInit\"](r);e=he.converters.USVString(e),r=n.protocols;let i=Q3(),o;try{o=new URL(e,i)}catch(s){throw new ms(s,\"SyntaxError\")}if(o.protocol===\"http:\"?o.protocol=\"ws:\":o.protocol===\"https:\"&&(o.protocol=\"wss:\"),o.protocol!==\"ws:\"&&o.protocol!==\"wss:\")throw new ms(`Expected a ws: or wss: protocol, got ${o.protocol}`,\"SyntaxError\");if(o.hash||o.href.endsWith(\"#\"))throw new ms(\"Got fragment\",\"SyntaxError\");if(typeof r==\"string\"&&(r=[r]),r.length!==new Set(r.map(s=>s.toLowerCase())).size)throw new ms(\"Invalid Sec-WebSocket-Protocol value\",\"SyntaxError\");if(r.length>0&&!r.every(s=>b3(s)))throw new ms(\"Invalid Sec-WebSocket-Protocol value\",\"SyntaxError\");this[aL]=new URL(o.href),this[R3]=x3(o,r,this,s=>this.#i(s),n),this[Bo]=t.CONNECTING,this[xC]=\"blob\"}close(e=void 0,r=void 0){if(he.brandCheck(this,t),e!==void 0&&(e=he.converters[\"unsigned short\"](e,{clamp:!0})),r!==void 0&&(r=he.converters.USVString(r)),e!==void 0&&e!==1e3&&(e<3e3||e>4999))throw new ms(\"invalid code\",\"InvalidAccessError\");let n=0;if(r!==void 0&&(n=Buffer.byteLength(r),n>123))throw new ms(`Reason must be less than 123 bytes; received ${n}`,\"SyntaxError\");if(!(this[Bo]===t.CLOSING||this[Bo]===t.CLOSED))if(!AL(this))k3(this,\"Connection was closed before it was established.\"),this[Bo]=t.CLOSING;else if(cL(this))this[Bo]=t.CLOSING;else{let i=new Kd;e!==void 0&&r===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(e,0)):e!==void 0&&r!==void 0?(i.frameData=Buffer.allocUnsafe(2+n),i.frameData.writeUInt16BE(e,0),i.frameData.write(r,2,\"utf-8\")):i.frameData=w3,this[vC].socket.write(i.createFrame(Jd.CLOSE),s=>{s||(this[S3]=!0)}),this[Bo]=Ql.CLOSING}}send(e){if(he.brandCheck(this,t),he.argumentLengthCheck(arguments,1,{header:\"WebSocket.send\"}),e=he.converters.WebSocketSendData(e),this[Bo]===t.CONNECTING)throw new ms(\"Sent before connected.\",\"InvalidStateError\");if(!AL(this)||cL(this))return;let r=this[vC].socket;if(typeof e==\"string\"){let n=Buffer.from(e),o=new Kd(n).createFrame(Jd.TEXT);this.#r+=n.byteLength,r.write(o,()=>{this.#r-=n.byteLength})}else if(dL.isArrayBuffer(e)){let n=Buffer.from(e),o=new Kd(n).createFrame(Jd.BINARY);this.#r+=n.byteLength,r.write(o,()=>{this.#r-=n.byteLength})}else if(ArrayBuffer.isView(e)){let n=Buffer.from(e,e.byteOffset,e.byteLength),o=new Kd(n).createFrame(Jd.BINARY);this.#r+=n.byteLength,r.write(o,()=>{this.#r-=n.byteLength})}else if(uL(e)){let n=new Kd;e.arrayBuffer().then(i=>{let o=Buffer.from(i);n.frameData=o;let s=n.createFrame(Jd.BINARY);this.#r+=o.byteLength,r.write(s,()=>{this.#r-=o.byteLength})})}}get readyState(){return he.brandCheck(this,t),this[Bo]}get bufferedAmount(){return he.brandCheck(this,t),this.#r}get url(){return he.brandCheck(this,t),B3(this[aL])}get extensions(){return he.brandCheck(this,t),this.#t}get protocol(){return he.brandCheck(this,t),this.#n}get onopen(){return he.brandCheck(this,t),this.#e.open}set onopen(e){he.brandCheck(this,t),this.#e.open&&this.removeEventListener(\"open\",this.#e.open),typeof e==\"function\"?(this.#e.open=e,this.addEventListener(\"open\",e)):this.#e.open=null}get onerror(){return he.brandCheck(this,t),this.#e.error}set onerror(e){he.brandCheck(this,t),this.#e.error&&this.removeEventListener(\"error\",this.#e.error),typeof e==\"function\"?(this.#e.error=e,this.addEventListener(\"error\",e)):this.#e.error=null}get onclose(){return he.brandCheck(this,t),this.#e.close}set onclose(e){he.brandCheck(this,t),this.#e.close&&this.removeEventListener(\"close\",this.#e.close),typeof e==\"function\"?(this.#e.close=e,this.addEventListener(\"close\",e)):this.#e.close=null}get onmessage(){return he.brandCheck(this,t),this.#e.message}set onmessage(e){he.brandCheck(this,t),this.#e.message&&this.removeEventListener(\"message\",this.#e.message),typeof e==\"function\"?(this.#e.message=e,this.addEventListener(\"message\",e)):this.#e.message=null}get binaryType(){return he.brandCheck(this,t),this[xC]}set binaryType(e){he.brandCheck(this,t),e!==\"blob\"&&e!==\"arraybuffer\"?this[xC]=\"blob\":this[xC]=e}#i(e){this[vC]=e;let r=new v3(this);r.on(\"drain\",function(){this.ws[vC].socket.resume()}),e.socket.ws=this,this[T3]=r,this[Bo]=Ql.OPEN;let n=e.headersList.get(\"sec-websocket-extensions\");n!==null&&(this.#t=n);let i=e.headersList.get(\"sec-websocket-protocol\");i!==null&&(this.#n=i),D3(\"open\",this)}};yn.CONNECTING=yn.prototype.CONNECTING=Ql.CONNECTING;yn.OPEN=yn.prototype.OPEN=Ql.OPEN;yn.CLOSING=yn.prototype.CLOSING=Ql.CLOSING;yn.CLOSED=yn.prototype.CLOSED=Ql.CLOSED;Object.defineProperties(yn.prototype,{CONNECTING:ys,OPEN:ys,CLOSING:ys,CLOSED:ys,url:Gn,readyState:Gn,bufferedAmount:Gn,onopen:Gn,onerror:Gn,onclose:Gn,close:Gn,onmessage:Gn,binaryType:Gn,send:Gn,extensions:Gn,protocol:Gn,[Symbol.toStringTag]:{value:\"WebSocket\",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(yn,{CONNECTING:ys,OPEN:ys,CLOSING:ys,CLOSED:ys});he.converters[\"sequence<DOMString>\"]=he.sequenceConverter(he.converters.DOMString);he.converters[\"DOMString or sequence<DOMString>\"]=function(t){return he.util.Type(t)===\"Object\"&&Symbol.iterator in t?he.converters[\"sequence<DOMString>\"](t):he.converters.DOMString(t)};he.converters.WebSocketInit=he.dictionaryConverter([{key:\"protocols\",converter:he.converters[\"DOMString or sequence<DOMString>\"],get defaultValue(){return[]}},{key:\"dispatcher\",converter:t=>t,get defaultValue(){return N3()}},{key:\"headers\",converter:he.nullableConverter(he.converters.HeadersInit)}]);he.converters[\"DOMString or sequence<DOMString> or WebSocketInit\"]=function(t){return he.util.Type(t)===\"Object\"&&!(Symbol.iterator in t)?he.converters.WebSocketInit(t):{protocols:he.converters[\"DOMString or sequence<DOMString>\"](t)}};he.converters.WebSocketSendData=function(t){if(he.util.Type(t)===\"Object\"){if(uL(t))return he.converters.Blob(t,{strict:!1});if(ArrayBuffer.isView(t)||dL.isAnyArrayBuffer(t))return he.converters.BufferSource(t)}return he.converters.USVString(t)};hL.exports={WebSocket:yn}});var CL=y((MMe,ye)=>{\"use strict\";var P3=Sd(),fL=hE(),pL=Ze(),M3=el(),F3=TN(),L3=Dd(),ja=De(),{InvalidArgumentError:NC}=pL,wl=CP(),O3=Cd(),U3=Tw(),_3=eM(),H3=Dw(),q3=fw(),G3=sM(),Y3=uM(),{getGlobalDispatcher:EL,setGlobalDispatcher:V3}=cl(),J3=EM(),K3=SQ(),W3=EE(),CR;try{require(\"crypto\"),CR=!0}catch{CR=!1}Object.assign(fL.prototype,wl);ye.exports.Dispatcher=fL;ye.exports.Client=P3;ye.exports.Pool=M3;ye.exports.BalancedPool=F3;ye.exports.Agent=L3;ye.exports.ProxyAgent=G3;ye.exports.RetryHandler=Y3;ye.exports.DecoratorHandler=J3;ye.exports.RedirectHandler=K3;ye.exports.createRedirectInterceptor=W3;ye.exports.buildConnector=O3;ye.exports.errors=pL;function Wd(t){return(e,r,n)=>{if(typeof r==\"function\"&&(n=r,r=null),!e||typeof e!=\"string\"&&typeof e!=\"object\"&&!(e instanceof URL))throw new NC(\"invalid url\");if(r!=null&&typeof r!=\"object\")throw new NC(\"invalid opts\");if(r&&r.path!=null){if(typeof r.path!=\"string\")throw new NC(\"invalid opts.path\");let s=r.path;r.path.startsWith(\"/\")||(s=`/${s}`),e=new URL(ja.parseOrigin(e).origin+s)}else r||(r=typeof e==\"object\"?e:{}),e=ja.parseURL(e);let{agent:i,dispatcher:o=EL()}=r;if(i)throw new NC(\"unsupported opts.agent. Did you mean opts.client?\");return t.call(o,{...r,origin:e.origin,path:e.search?`${e.pathname}${e.search}`:e.pathname,method:r.method||(r.body?\"PUT\":\"GET\")},n)}}ye.exports.setGlobalDispatcher=V3;ye.exports.getGlobalDispatcher=EL;if(ja.nodeMajor>16||ja.nodeMajor===16&&ja.nodeMinor>=8){let t=null;ye.exports.fetch=async function(s){t||(t=hC().fetch);try{return await t(...arguments)}catch(a){throw typeof a==\"object\"&&Error.captureStackTrace(a,this),a}},ye.exports.Headers=Va().Headers,ye.exports.Response=tC().Response,ye.exports.Request=Ud().Request,ye.exports.FormData=lE().FormData,ye.exports.File=AE().File,ye.exports.FileReader=hF().FileReader;let{setGlobalOrigin:e,getGlobalOrigin:r}=Hc();ye.exports.setGlobalOrigin=e,ye.exports.getGlobalOrigin=r;let{CacheStorage:n}=RF(),{kConstruct:i}=EC();ye.exports.caches=new n(i)}if(ja.nodeMajor>=16){let{deleteCookie:t,getCookies:e,getSetCookies:r,setCookie:n}=OF();ye.exports.deleteCookie=t,ye.exports.getCookies=e,ye.exports.getSetCookies=r,ye.exports.setCookie=n;let{parseMIMEType:i,serializeAMimeType:o}=ii();ye.exports.parseMIMEType=i,ye.exports.serializeAMimeType=o}if(ja.nodeMajor>=18&&CR){let{WebSocket:t}=gL();ye.exports.WebSocket=t}ye.exports.request=Wd(wl.request);ye.exports.stream=Wd(wl.stream);ye.exports.pipeline=Wd(wl.pipeline);ye.exports.connect=Wd(wl.connect);ye.exports.upgrade=Wd(wl.upgrade);ye.exports.MockClient=U3;ye.exports.MockPool=H3;ye.exports.MockAgent=_3;ye.exports.mockErrors=q3});var yL=y((FMe,mL)=>{\"use strict\";(()=>{\"use strict\";var t={\"./src/InvocationContext.ts\":(function(i,o,s){var a=this&&this.__classPrivateFieldSet||function(f,C,m,B,T){if(B===\"m\")throw new TypeError(\"Private method is not writable\");if(B===\"a\"&&!T)throw new TypeError(\"Private accessor was defined without a setter\");if(typeof C==\"function\"?f!==C||!T:!C.has(f))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return B===\"a\"?T.call(f,m):T?T.value=m:C.set(f,m),m},A=this&&this.__classPrivateFieldGet||function(f,C,m,B){if(m===\"a\"&&!B)throw new TypeError(\"Private accessor was defined without a getter\");if(typeof C==\"function\"?f!==C||!B:!C.has(f))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return m===\"m\"?B:m===\"a\"?B.call(f):B?B.value:C.get(f)},c,l,u;Object.defineProperty(o,\"__esModule\",{value:!0}),o.InvocationContext=void 0;let d=s(\"./src/utils/fallbackLogHandler.ts\");class h{constructor(C){var m,B,T,L;c.set(this,void 0),C=C||{};let F=\"unknown\";this.invocationId=C.invocationId||F,this.functionName=C.functionName||F,this.extraInputs=new g,this.extraOutputs=new p,this.retryContext=C.retryContext,this.traceContext=C.traceContext,this.triggerMetadata=C.triggerMetadata,this.options={trigger:((m=C.options)===null||m===void 0?void 0:m.trigger)||{name:F,type:F},return:(B=C.options)===null||B===void 0?void 0:B.return,extraInputs:((T=C.options)===null||T===void 0?void 0:T.extraInputs)||[],extraOutputs:((L=C.options)===null||L===void 0?void 0:L.extraOutputs)||[]},a(this,c,C.logHandler||d.fallbackLogHandler,\"f\")}log(...C){A(this,c,\"f\").call(this,\"information\",...C)}trace(...C){A(this,c,\"f\").call(this,\"trace\",...C)}debug(...C){A(this,c,\"f\").call(this,\"debug\",...C)}info(...C){A(this,c,\"f\").call(this,\"information\",...C)}warn(...C){A(this,c,\"f\").call(this,\"warning\",...C)}error(...C){A(this,c,\"f\").call(this,\"error\",...C)}}o.InvocationContext=h,c=new WeakMap;class g{constructor(){l.set(this,{})}get(C){let m=typeof C==\"string\"?C:C.name;return A(this,l,\"f\")[m]}set(C,m){let B=typeof C==\"string\"?C:C.name;A(this,l,\"f\")[B]=m}}l=new WeakMap;class p{constructor(){u.set(this,{})}get(C){let m=typeof C==\"string\"?C:C.name;return A(this,u,\"f\")[m]}set(C,m){let B=typeof C==\"string\"?C:C.name;A(this,u,\"f\")[B]=m}}u=new WeakMap}),\"./src/InvocationModel.ts\":(function(i,o,s){var a=this&&this.__awaiter||function(ee,N,M,Z){function de(Ye){return Ye instanceof M?Ye:new M(function(tn){tn(Ye)})}return new(M||(M=Promise))(function(Ye,tn){function hi(Xs){try{$s(Z.next(Xs))}catch(Dy){tn(Dy)}}function gi(Xs){try{$s(Z.throw(Xs))}catch(Dy){tn(Dy)}}function $s(Xs){Xs.done?Ye(Xs.value):de(Xs.value).then(hi,gi)}$s((Z=Z.apply(ee,N||[])).next())})},A=this&&this.__classPrivateFieldSet||function(ee,N,M,Z,de){if(Z===\"m\")throw new TypeError(\"Private method is not writable\");if(Z===\"a\"&&!de)throw new TypeError(\"Private accessor was defined without a setter\");if(typeof N==\"function\"?ee!==N||!de:!N.has(ee))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return Z===\"a\"?de.call(ee,M):de?de.value=M:N.set(ee,M),M},c=this&&this.__classPrivateFieldGet||function(ee,N,M,Z){if(M===\"a\"&&!Z)throw new TypeError(\"Private accessor was defined without a getter\");if(typeof N==\"function\"?ee!==N||!Z:!N.has(ee))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return M===\"m\"?Z:M===\"a\"?Z.call(ee):Z?Z.value:N.get(ee)},l,u,d,h,g,p,f,C,m,B;Object.defineProperty(o,\"__esModule\",{value:!0}),o.InvocationModel=void 0;let T=s(\"util\"),L=s(\"./src/constants.ts\"),F=s(\"./src/converters/fromRpcBindings.ts\"),R=s(\"./src/converters/fromRpcContext.ts\"),S=s(\"./src/converters/fromRpcTriggerMetadata.ts\"),I=s(\"./src/converters/fromRpcTypedData.ts\"),x=s(\"./src/converters/toCamelCase.ts\"),k=s(\"./src/converters/toRpcHttp.ts\"),P=s(\"./src/converters/toRpcTypedData.ts\"),z=s(\"./src/errors.ts\"),H=s(\"./src/http/httpProxy.ts\"),ue=s(\"./src/http/HttpRequest.ts\"),se=s(\"./src/InvocationContext.ts\"),Ce=s(\"./src/setup.ts\"),qe=s(\"./src/utils/isTrigger.ts\"),Ge=s(\"./src/utils/nonNull.ts\");class Rt{constructor(N){l.add(this),u.set(this,!1),d.set(this,void 0),h.set(this,void 0),g.set(this,void 0),p.set(this,void 0),A(this,d,N,\"f\"),A(this,h,(0,Ge.nonNullProp)(N.metadata,\"name\"),\"f\"),A(this,g,(0,Ge.nonNullProp)(N.metadata,\"bindings\"),\"f\");let M=(0,Ge.nonNullValue)(Object.values(c(this,g,\"f\")).find(Z=>(0,qe.isTrigger)(Z.type)),\"triggerBinding\");A(this,p,(0,Ge.nonNullProp)(M,\"type\"),\"f\")}getArguments(){return a(this,void 0,void 0,function*(){let N=c(this,d,\"f\").request,M=new se.InvocationContext({invocationId:(0,Ge.nonNullProp)(c(this,d,\"f\"),\"invocationId\"),functionName:c(this,h,\"f\"),logHandler:(de,...Ye)=>c(this,l,\"m\",B).call(this,de,...Ye),retryContext:(0,R.fromRpcRetryContext)(N.retryContext),traceContext:(0,R.fromRpcTraceContext)(N.traceContext),triggerMetadata:(0,S.fromRpcTriggerMetadata)(N.triggerMetadata,c(this,p,\"f\")),options:(0,F.fromRpcBindings)(c(this,g,\"f\"))}),Z=[];if(N.inputData)for(let de of N.inputData){let Ye=(0,Ge.nonNullProp)(de,\"name\"),tn=c(this,g,\"f\")[Ye];if(!tn)throw new z.AzFuncSystemError(`Failed to find binding \"${Ye}\" in bindings \"${Object.keys(c(this,g,\"f\")).join(\", \")}\".`);let hi=tn.type,gi;if((0,qe.isHttpTrigger)(hi)&&Ce.enableHttpStream){let $s=yield(0,H.waitForProxyRequest)(c(this,d,\"f\").invocationId);gi=(0,ue.createStreamRequest)($s,(0,Ge.nonNullProp)(N,\"triggerMetadata\"))}else gi=(0,I.fromRpcTypedData)(de.data);(0,qe.isTimerTrigger)(hi)&&(gi=(0,x.toCamelCaseValue)(gi)),(0,qe.isTrigger)(hi)?Z.push(gi):M.extraInputs.set(Ye,gi)}return{context:M,inputs:Z}})}invokeFunction(N,M,Z){return a(this,void 0,void 0,function*(){try{return yield Promise.resolve(Z(...M,N))}finally{A(this,u,!0,\"f\")}})}getResponse(N,M){return a(this,void 0,void 0,function*(){let Z={invocationId:c(this,d,\"f\").invocationId};Z.outputData=[];let de=!1;for(let[Ye,tn]of Object.entries(c(this,g,\"f\")))if(tn.direction===\"out\")if(Ye===L.returnBindingKey)Z.returnValue=yield c(this,l,\"m\",f).call(this,N.invocationId,tn,M),de=!0;else{let hi=yield c(this,l,\"m\",f).call(this,N.invocationId,tn,N.extraOutputs.get(Ye));(0,Ge.isDefined)(hi)&&Z.outputData.push({name:Ye,data:hi})}return!de&&!(0,qe.isHttpTrigger)(c(this,p,\"f\"))&&(Z.returnValue=(0,P.toRpcTypedData)(M)),Z})}}o.InvocationModel=Rt,u=new WeakMap,d=new WeakMap,h=new WeakMap,g=new WeakMap,p=new WeakMap,l=new WeakSet,f=function(N,M,Z){var de;return a(this,void 0,void 0,function*(){return((de=M.type)===null||de===void 0?void 0:de.toLowerCase())===\"http\"?(0,k.toRpcHttp)(N,Z):(0,P.toRpcTypedData)(Z)})},C=function(N,M,...Z){c(this,d,\"f\").log(N,M,(0,T.format)(...Z))},m=function(N,...M){c(this,l,\"m\",C).call(this,N,\"system\",...M)},B=function(N,...M){if(c(this,u,\"f\")&&c(this,d,\"f\").state!==\"postInvocationHooks\"){let Z=\"Warning: Unexpected call to 'log' on the context object after function execution has completed. Please check for asynchronous calls that are not awaited. \";Z+=`Function name: ${c(this,h,\"f\")}. Invocation Id: ${c(this,d,\"f\").invocationId}.`,c(this,l,\"m\",m).call(this,\"warning\",Z)}c(this,l,\"m\",C).call(this,N,\"user\",...M)}}),\"./src/ProgrammingModel.ts\":(function(i,o,s){var a=this&&this.__awaiter||function(h,g,p,f){function C(m){return m instanceof p?m:new p(function(B){B(m)})}return new(p||(p=Promise))(function(m,B){function T(R){try{F(f.next(R))}catch(S){B(S)}}function L(R){try{F(f.throw(R))}catch(S){B(S)}}function F(R){R.done?m(R.value):C(R.value).then(T,L)}F((f=f.apply(h,g||[])).next())})};Object.defineProperty(o,\"__esModule\",{value:!0}),o.ProgrammingModel=void 0;let A=s(\"./src/constants.ts\"),c=s(\"./src/http/httpProxy.ts\"),l=s(\"./src/InvocationModel.ts\"),u=s(\"./src/setup.ts\");class d{constructor(){this.name=\"@azure/functions\",this.version=A.version}getInvocationModel(g){return new l.InvocationModel(g)}getCapabilities(g){return a(this,void 0,void 0,function*(){if((0,u.lockSetup)(),u.enableHttpStream){let p=yield(0,c.setupHttpProxy)();g.HttpUri=p}return Object.assign(g,u.capabilities),g})}}o.ProgrammingModel=d}),\"./src/addBindingName.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.addBindingName=void 0;let a=s(\"./src/utils/getRandomHexString.ts\");function A(c,l){if(!c.name){let u=c.type;u.toLowerCase().endsWith(l.toLowerCase())||(u+=l),c.name=u+(0,a.getStringHash)(JSON.stringify(c))}return c}o.addBindingName=A}),\"./src/app.ts\":(function(i,o,s){var a=this&&this.__rest||function(N,M){var Z={};for(var de in N)Object.prototype.hasOwnProperty.call(N,de)&&M.indexOf(de)<0&&(Z[de]=N[de]);if(N!=null&&typeof Object.getOwnPropertySymbols==\"function\")for(var Ye=0,de=Object.getOwnPropertySymbols(N);Ye<de.length;Ye++)M.indexOf(de[Ye])<0&&Object.prototype.propertyIsEnumerable.call(N,de[Ye])&&(Z[de[Ye]]=N[de[Ye]]);return Z};Object.defineProperty(o,\"__esModule\",{value:!0}),o.generic=o.mcpTool=o.webPubSub=o.mySql=o.sql=o.warmup=o.cosmosDB=o.eventGrid=o.eventHub=o.serviceBusTopic=o.serviceBusQueue=o.storageQueue=o.storageBlob=o.timer=o.http=o.deleteRequest=o.patch=o.post=o.put=o.get=o.setup=o.hook=void 0;let A=s(\"./src/converters/toCoreFunctionMetadata.ts\"),c=s(\"./src/output.ts\"),l=s(\"./src/ProgrammingModel.ts\"),u=s(\"./src/trigger.ts\"),d=s(\"./src/utils/tryGetCoreApiLazy.ts\");o.hook=s(\"./src/hooks/registerHook.ts\");var h=s(\"./src/setup.ts\");Object.defineProperty(o,\"setup\",{enumerable:!0,get:function(){return h.setup}});let g=!1;function p(){let N=(0,d.tryGetCoreApiLazy)();N?N.setProgrammingModel(new l.ProgrammingModel):console.warn('WARNING: Failed to detect the Azure Functions runtime. Switching \"@azure/functions\" package to test mode - not all features are supported.'),g=!0}function f(N,M){let Z=typeof N==\"function\"?{handler:N}:N;return Z.methods=[M],Z}function C(N,M){let{handler:Z,return:de,trigger:Ye,extraInputs:tn,extraOutputs:hi,retry:gi}=N,$s=a(N,[\"handler\",\"return\",\"trigger\",\"extraInputs\",\"extraOutputs\",\"retry\"]);return{trigger:Ye??M($s),return:de,retry:gi,extraInputs:tn,extraOutputs:hi,handler:Z}}function m(N,M){R(N,f(M,\"GET\"))}o.get=m;function B(N,M){R(N,f(M,\"PUT\"))}o.put=B;function T(N,M){R(N,f(M,\"POST\"))}o.post=T;function L(N,M){R(N,f(M,\"PATCH\"))}o.patch=L;function F(N,M){R(N,f(M,\"DELETE\"))}o.deleteRequest=F;function R(N,M){M.return||(M.return=c.http({})),ee(N,C(M,u.http))}o.http=R;function S(N,M){ee(N,C(M,u.timer))}o.timer=S;function I(N,M){ee(N,C(M,u.storageBlob))}o.storageBlob=I;function x(N,M){ee(N,C(M,u.storageQueue))}o.storageQueue=x;function k(N,M){ee(N,C(M,u.serviceBusQueue))}o.serviceBusQueue=k;function P(N,M){ee(N,C(M,u.serviceBusTopic))}o.serviceBusTopic=P;function z(N,M){ee(N,C(M,u.eventHub))}o.eventHub=z;function H(N,M){ee(N,C(M,u.eventGrid))}o.eventGrid=H;function ue(N,M){ee(N,C(M,u.cosmosDB))}o.cosmosDB=ue;function se(N,M){ee(N,C(M,u.warmup))}o.warmup=se;function Ce(N,M){ee(N,C(M,u.sql))}o.sql=Ce;function qe(N,M){ee(N,C(M,u.mySql))}o.mySql=qe;function Ge(N,M){ee(N,C(M,u.webPubSub))}o.webPubSub=Ge;function Rt(N,M){ee(N,C(M,u.mcpTool))}o.mcpTool=Rt;function ee(N,M){g||p();let Z=(0,d.tryGetCoreApiLazy)();Z?Z.registerFunction((0,A.toCoreFunctionMetadata)(N,M),M.handler):console.warn(`WARNING: Skipping call to register function \"${N}\" because the \"@azure/functions\" package is in test mode.`)}o.generic=ee}),\"./src/constants.ts\":((i,o)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.returnBindingKey=o.version=void 0,o.version=\"4.8.0\",o.returnBindingKey=\"$return\"}),\"./src/converters/fromRpcBindings.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.fromRpcBindings=void 0;let a=s(\"./src/constants.ts\"),A=s(\"./src/utils/isTrigger.ts\"),c=s(\"./src/utils/nonNull.ts\");function l(d){let h,g,p=[],f=[];for(let[C,m]of Object.entries((0,c.nonNullValue)(d,\"bindings\")))(0,A.isTrigger)(m.type)?h=u(C,m):C===a.returnBindingKey?g=u(C,m):m.direction===\"in\"?p.push(u(C,m)):m.direction===\"out\"&&f.push(u(C,m));return{trigger:(0,c.nonNullValue)(h,\"trigger\"),return:g,extraInputs:p,extraOutputs:f}}o.fromRpcBindings=l;function u(d,h){return Object.assign(Object.assign({},h),{type:(0,c.nonNullProp)(h,\"type\"),name:d})}}),\"./src/converters/fromRpcContext.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.fromRpcTraceContext=o.fromRpcRetryContext=void 0;let a=s(\"./src/utils/nonNull.ts\");function A(u){if(u){let d={retryCount:(0,a.nonNullProp)(u,\"retryCount\"),maxRetryCount:(0,a.nonNullProp)(u,\"maxRetryCount\")};return u.exception&&(d.exception=c(u.exception)),d}else return}o.fromRpcRetryContext=A;function c(u){let d={};return(0,a.copyPropIfDefined)(u,d,\"message\"),(0,a.copyPropIfDefined)(u,d,\"source\"),(0,a.copyPropIfDefined)(u,d,\"stackTrace\"),d}function l(u){if(u){let d={};return(0,a.copyPropIfDefined)(u,d,\"traceParent\"),(0,a.copyPropIfDefined)(u,d,\"traceState\"),u.attributes&&(d.attributes=u.attributes),d}else return}o.fromRpcTraceContext=l}),\"./src/converters/fromRpcNullable.ts\":((i,o)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.fromNullableMapping=void 0;function s(a,A){var c;let l={};if(a&&Object.keys(a).length>0)for(let u in a)l[u]=((c=a[u])===null||c===void 0?void 0:c.value)||\"\";else A&&Object.keys(A).length>0&&(l=A);return l}o.fromNullableMapping=s}),\"./src/converters/fromRpcTriggerMetadata.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.fromRpcTriggerMetadata=void 0;let a=s(\"./src/utils/isTrigger.ts\"),A=s(\"./src/converters/fromRpcTypedData.ts\"),c=s(\"./src/converters/toCamelCase.ts\");function l(u,d){if(!(!u||(0,a.isHttpTrigger)(d)||(0,a.isTimerTrigger)(d))){let h={};for(let[g,p]of Object.entries(u))h[(0,c.toCamelCaseKey)(g)]=(0,c.toCamelCaseValue)((0,A.fromRpcTypedData)(p));return h}}o.fromRpcTriggerMetadata=l}),\"./src/converters/fromRpcTypedData.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.fromRpcTypedData=void 0;let a=s(\"./src/http/HttpRequest.ts\"),A=s(\"./src/utils/nonNull.ts\");function c(u){if(u)return(0,A.isDefined)(u.string)?l(u.string):(0,A.isDefined)(u.json)?JSON.parse(u.json):(0,A.isDefined)(u.bytes)?Buffer.from(u.bytes):(0,A.isDefined)(u.stream)?Buffer.from(u.stream):(0,A.isDefined)(u.http)?new a.HttpRequest(u.http):(0,A.isDefined)(u.int)?u.int:(0,A.isDefined)(u.double)?u.double:u.collectionBytes&&(0,A.isDefined)(u.collectionBytes.bytes)?u.collectionBytes.bytes.map(d=>Buffer.from(d)):u.collectionString&&(0,A.isDefined)(u.collectionString.string)?u.collectionString.string.map(l):u.collectionDouble&&(0,A.isDefined)(u.collectionDouble.double)?u.collectionDouble.double:u.collectionSint64&&(0,A.isDefined)(u.collectionSint64.sint64)?u.collectionSint64.sint64:void 0}o.fromRpcTypedData=c;function l(u){try{return JSON.parse(u)}catch{return u}}}),\"./src/converters/toCamelCase.ts\":((i,o)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.toCamelCaseKey=o.toCamelCaseValue=void 0;function s(A){if(typeof A!=\"object\"||A===null)return A;if(Array.isArray(A))return A.map(s);{let c={};for(let[l,u]of Object.entries(A))c[a(l)]=s(u);return c}}o.toCamelCaseValue=s;function a(A){return A.charAt(0).toLowerCase()+A.slice(1)}o.toCamelCaseKey=a}),\"./src/converters/toCoreFunctionMetadata.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.toCoreFunctionMetadata=void 0;let a=s(\"./src/constants.ts\"),A=s(\"./src/errors.ts\"),c=s(\"./src/utils/isTrigger.ts\"),l=s(\"./src/converters/toRpcDuration.ts\");function u(d,h){let g={},p=[],f=h.trigger;if(g[f.name]=Object.assign(Object.assign({},f),{direction:\"in\",type:(0,c.isTrigger)(f.type)?f.type:f.type+\"Trigger\"}),p.push(f.name),h.extraInputs)for(let B of h.extraInputs)g[B.name]=Object.assign(Object.assign({},B),{direction:\"in\"}),p.push(B.name);if(h.return&&(g[a.returnBindingKey]=Object.assign(Object.assign({},h.return),{direction:\"out\"}),p.push(a.returnBindingKey)),h.extraOutputs)for(let B of h.extraOutputs)g[B.name]=Object.assign(Object.assign({},B),{direction:\"out\"}),p.push(B.name);if(p.filter((B,T)=>p.indexOf(B)!==T).length>0)throw new A.AzFuncSystemError(`Duplicate bindings found for function \"${d}\". Remove a duplicate binding or manually specify the \"name\" property to make it unique.`);let m;return h.retry&&(m=Object.assign(Object.assign({},h.retry),{retryStrategy:h.retry.strategy,delayInterval:(0,l.toRpcDuration)(h.retry.delayInterval,\"retry.delayInterval\"),maximumInterval:(0,l.toRpcDuration)(h.retry.maximumInterval,\"retry.maximumInterval\"),minimumInterval:(0,l.toRpcDuration)(h.retry.minimumInterval,\"retry.minimumInterval\")})),{name:d,bindings:g,retryOptions:m}}o.toCoreFunctionMetadata=u}),\"./src/converters/toMcpToolTriggerOptionsToRpc.ts\":((i,o)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.converToMcpToolTriggerOptionsToRpc=void 0;function s(c){var l;let u={toolName:c.toolName,description:c.description};if(!c?.toolProperties)return Object.assign(Object.assign({},u),{toolProperties:JSON.stringify([])});if(Array.isArray(c.toolProperties)){if(c.toolProperties.every(A))return Object.assign(Object.assign({},u),{toolProperties:JSON.stringify(c.toolProperties)});throw new Error(\"Invalid toolProperties: Array contains invalid McpToolProperty, please validate the parameters.\")}if(typeof c.toolProperties==\"object\"){let d=!1,h=c.toolProperties;((l=h?._def)===null||l===void 0?void 0:l.typeName)===\"ZodObject\"&&(d=!0);let g=d?h.shape:h,p=Object.keys(g).map(f=>{var C,m,B;let T=g[f],L=((C=T?._def)===null||C===void 0?void 0:C.description)||\"\",F=a(((B=(m=T?._def)===null||m===void 0?void 0:m.typeName)===null||B===void 0?void 0:B.toLowerCase())||\"unknown\");return{propertyName:f,propertyType:F,description:L}});return Object.assign(Object.assign({},u),{toolProperties:JSON.stringify(p)})}throw new Error(\"Invalid toolProperties: Expected an array of McpToolProperty objects or zod objects.\")}o.converToMcpToolTriggerOptionsToRpc=s;function a(c){switch(c){case\"zodnumber\":return\"number\";case\"zodstring\":return\"string\";case\"zodboolean\":return\"boolean\";case\"zodarray\":return\"array\";case\"zodobject\":return\"object\";case\"zodbigint\":return\"long\";case\"zoddate\":return\"DateTime\";case\"zodtuple\":return\"Tuple\";default:return console.warn(`Unknown zod type: ${c}`),\"unknown\"}}function A(c){return typeof c==\"object\"&&c!==null&&\"propertyName\"in c&&\"propertyType\"in c&&\"description\"in c&&typeof c.propertyName==\"string\"&&typeof c.propertyType==\"string\"&&typeof c.description==\"string\"}}),\"./src/converters/toRpcDuration.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.toRpcDuration=void 0;let a=s(\"./src/errors.ts\"),A=s(\"./src/utils/nonNull.ts\");function c(l,u){if((0,A.isDefined)(l)){try{let d;if(typeof l==\"object\"){let h=(l.minutes||0)+(l.hours||0)*60,g=(l.seconds||0)+h*60;d=(l.milliseconds||0)+g*1e3}else typeof l==\"number\"&&(d=l);if((0,A.isDefined)(d)&&d>=0)return{seconds:Math.round(d/1e3)}}catch{}throw new a.AzFuncSystemError(`A 'number' or 'Duration' object was expected instead of a '${typeof l}'. Cannot parse value of '${u}'.`)}}o.toRpcDuration=c}),\"./src/converters/toRpcHttp.ts\":(function(i,o,s){var a=this&&this.__awaiter||function(p,f,C,m){function B(T){return T instanceof C?T:new C(function(L){L(T)})}return new(C||(C=Promise))(function(T,L){function F(I){try{S(m.next(I))}catch(x){L(x)}}function R(I){try{S(m.throw(I))}catch(x){L(x)}}function S(I){I.done?T(I.value):B(I.value).then(F,R)}S((m=m.apply(p,f||[])).next())})};Object.defineProperty(o,\"__esModule\",{value:!0}),o.toRpcHttp=void 0;let A=s(\"./src/errors.ts\"),c=s(\"./src/http/httpProxy.ts\"),l=s(\"./src/http/HttpResponse.ts\"),u=s(\"./src/setup.ts\"),d=s(\"./src/converters/toRpcHttpCookie.ts\"),h=s(\"./src/converters/toRpcTypedData.ts\");function g(p,f){return a(this,void 0,void 0,function*(){if(f==null)return f;if(typeof f!=\"object\")throw new A.AzFuncSystemError('The HTTP response must be an object with optional properties \"body\", \"status\", \"headers\", and \"cookies\".');let C=f instanceof l.HttpResponse?f:new l.HttpResponse(f);if(u.enableHttpStream){yield(0,c.sendProxyResponse)(p,C);return}let m={};m.statusCode=C.status.toString(),m.headers={};for(let[T,L]of C.headers.entries())m.headers[T]=L;m.cookies=[];for(let T of C.cookies)m.cookies.push((0,d.toRpcHttpCookie)(T));m.enableContentNegotiation=C.enableContentNegotiation;let B=yield C.arrayBuffer();return m.body=(0,h.toRpcTypedData)(B),{http:m}})}o.toRpcHttp=g}),\"./src/converters/toRpcHttpCookie.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.toRpcHttpCookie=void 0;let a=s(\"./src/converters/toRpcNullable.ts\");function A(c){let l=\"none\";if(c&&c.sameSite){let d=c.sameSite.toLocaleLowerCase();d===\"lax\"?l=\"lax\":d===\"strict\"?l=\"strict\":d===\"none\"&&(l=\"explicitNone\")}return{name:c&&(0,a.toRpcString)(c.name,\"cookie.name\"),value:c&&(0,a.toRpcString)(c.value,\"cookie.value\"),domain:(0,a.toNullableString)(c&&c.domain,\"cookie.domain\"),path:(0,a.toNullableString)(c&&c.path,\"cookie.path\"),expires:(0,a.toNullableTimestamp)(c&&c.expires,\"cookie.expires\"),secure:(0,a.toNullableBool)(c&&c.secure,\"cookie.secure\"),httpOnly:(0,a.toNullableBool)(c&&c.httpOnly,\"cookie.httpOnly\"),sameSite:l,maxAge:(0,a.toNullableDouble)(c&&c.maxAge,\"cookie.maxAge\")}}o.toRpcHttpCookie=A}),\"./src/converters/toRpcNullable.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.toNullableTimestamp=o.toNullableString=o.toRpcString=o.toNullableDouble=o.toNullableBool=void 0;let a=s(\"./src/errors.ts\"),A=s(\"./src/utils/nonNull.ts\");function c(g,p){if(typeof g==\"boolean\")return{value:g};if((0,A.isDefined)(g))throw new a.AzFuncSystemError(`A 'boolean' type was expected instead of a '${typeof g}' type. Cannot parse value of '${p}'.`)}o.toNullableBool=c;function l(g,p){if(typeof g==\"number\")return{value:g};if(typeof g==\"string\"&&!isNaN(Number(g)))return{value:parseFloat(g)};if((0,A.isDefined)(g))throw new a.AzFuncSystemError(`A 'number' type was expected instead of a '${typeof g}' type. Cannot parse value of '${p}'.`)}o.toNullableDouble=l;function u(g,p){if(typeof g==\"string\")return g;if((0,A.isDefined)(g))throw new a.AzFuncSystemError(`A 'string' type was expected instead of a '${typeof g}' type. Cannot parse value of '${p}'.`);return\"\"}o.toRpcString=u;function d(g,p){if(typeof g==\"string\")return{value:g};if((0,A.isDefined)(g))throw new a.AzFuncSystemError(`A 'string' type was expected instead of a '${typeof g}' type. Cannot parse value of '${p}'.`)}o.toNullableString=d;function h(g,p){if((0,A.isDefined)(g))try{let f=typeof g==\"number\"?g:g.getTime();if(f&&f>=0)return{value:{seconds:Math.round(f/1e3)}}}catch{throw new a.AzFuncSystemError(`A 'number' or 'Date' input was expected instead of a '${typeof g}'. Cannot parse value of '${p}'.`)}}o.toNullableTimestamp=h}),\"./src/converters/toRpcTypedData.ts\":((i,o)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.toRpcTypedData=void 0;function s(a){return a==null?a:typeof a==\"string\"?{string:a}:Buffer.isBuffer(a)?{bytes:a}:ArrayBuffer.isView(a)?{bytes:new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}:a instanceof ArrayBuffer?{bytes:new Uint8Array(a)}:typeof a==\"number\"?Number.isInteger(a)?{int:a}:{double:a}:{json:JSON.stringify(a)}}o.toRpcTypedData=s}),\"./src/errors.ts\":((i,o)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.isError=o.trySetErrorMessage=o.ensureErrorType=o.ReadOnlyError=o.AzFuncRangeError=o.AzFuncTypeError=o.AzFuncSystemError=void 0;class s extends Error{constructor(){super(...arguments),this.isAzureFunctionsSystemError=!0}}o.AzFuncSystemError=s;class a extends TypeError{constructor(){super(...arguments),this.isAzureFunctionsSystemError=!0}}o.AzFuncTypeError=a;class A extends RangeError{constructor(){super(...arguments),this.isAzureFunctionsSystemError=!0}}o.AzFuncRangeError=A;class c extends a{constructor(g){super(`Cannot assign to read only property '${g}'`)}}o.ReadOnlyError=c;function l(h){if(h instanceof Error)return h;{let g;return h==null?g=\"Unknown error\":typeof h==\"string\"?g=h:typeof h==\"object\"?g=JSON.stringify(h):g=String(h),new Error(g)}}o.ensureErrorType=l;function u(h,g){try{h.message=g}catch{}}o.trySetErrorMessage=u;function d(h){return h!=null}o.isError=d}),\"./src/hooks/AppStartContext.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.AppStartContext=void 0;let a=s(\"./src/hooks/HookContext.ts\");class A extends a.HookContext{}o.AppStartContext=A}),\"./src/hooks/AppTerminateContext.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.AppTerminateContext=void 0;let a=s(\"./src/hooks/HookContext.ts\");class A extends a.HookContext{}o.AppTerminateContext=A}),\"./src/hooks/HookContext.ts\":(function(i,o,s){var a=this&&this.__classPrivateFieldSet||function(h,g,p,f,C){if(f===\"m\")throw new TypeError(\"Private method is not writable\");if(f===\"a\"&&!C)throw new TypeError(\"Private accessor was defined without a setter\");if(typeof g==\"function\"?h!==g||!C:!g.has(h))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return f===\"a\"?C.call(h,p):C?C.value=p:g.set(h,p),p},A=this&&this.__classPrivateFieldGet||function(h,g,p,f){if(p===\"a\"&&!f)throw new TypeError(\"Private accessor was defined without a getter\");if(typeof g==\"function\"?h!==g||!f:!g.has(h))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return p===\"m\"?f:p===\"a\"?f.call(h):f?f.value:g.get(h)},c;Object.defineProperty(o,\"__esModule\",{value:!0}),o.HookContext=void 0;let l=s(\"./src/errors.ts\"),u=s(\"./src/utils/nonNull.ts\");class d{constructor(g){var p,f;c.set(this,void 0),a(this,c,g??{},\"f\"),(p=(f=A(this,c,\"f\")).hookData)!==null&&p!==void 0||(f.hookData={})}get hookData(){return(0,u.nonNullProp)(A(this,c,\"f\"),\"hookData\")}set hookData(g){throw new l.ReadOnlyError(\"hookData\")}}o.HookContext=d,c=new WeakMap}),\"./src/hooks/InvocationHookContext.ts\":(function(i,o,s){var a=this&&this.__classPrivateFieldSet||function(p,f,C,m,B){if(m===\"m\")throw new TypeError(\"Private method is not writable\");if(m===\"a\"&&!B)throw new TypeError(\"Private accessor was defined without a setter\");if(typeof f==\"function\"?p!==f||!B:!f.has(p))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return m===\"a\"?B.call(p,C):B?B.value=C:f.set(p,C),C},A=this&&this.__classPrivateFieldGet||function(p,f,C,m){if(C===\"a\"&&!m)throw new TypeError(\"Private accessor was defined without a getter\");if(typeof f==\"function\"?p!==f||!m:!f.has(p))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return C===\"m\"?m:C===\"a\"?m.call(p):m?m.value:f.get(p)},c;Object.defineProperty(o,\"__esModule\",{value:!0}),o.InvocationHookContext=void 0;let l=s(\"./src/errors.ts\"),u=s(\"./src/InvocationContext.ts\"),d=s(\"./src/utils/nonNull.ts\"),h=s(\"./src/hooks/HookContext.ts\");class g extends h.HookContext{constructor(f){var C,m,B,T;super(f),c.set(this,void 0),a(this,c,f??{},\"f\"),(C=(B=A(this,c,\"f\")).inputs)!==null&&C!==void 0||(B.inputs=[]),(m=(T=A(this,c,\"f\")).invocationContext)!==null&&m!==void 0||(T.invocationContext=new u.InvocationContext)}get invocationContext(){return(0,d.nonNullProp)(A(this,c,\"f\"),\"invocationContext\")}set invocationContext(f){throw new l.ReadOnlyError(\"invocationContext\")}get inputs(){return(0,d.nonNullProp)(A(this,c,\"f\"),\"inputs\")}set inputs(f){A(this,c,\"f\").inputs=f}}o.InvocationHookContext=g,c=new WeakMap}),\"./src/hooks/LogHookContext.ts\":(function(i,o,s){var a=this&&this.__classPrivateFieldSet||function(g,p,f,C,m){if(C===\"m\")throw new TypeError(\"Private method is not writable\");if(C===\"a\"&&!m)throw new TypeError(\"Private accessor was defined without a setter\");if(typeof p==\"function\"?g!==p||!m:!p.has(g))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return C===\"a\"?m.call(g,f):m?m.value=f:p.set(g,f),f},A=this&&this.__classPrivateFieldGet||function(g,p,f,C){if(f===\"a\"&&!C)throw new TypeError(\"Private accessor was defined without a getter\");if(typeof p==\"function\"?g!==p||!C:!p.has(g))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return f===\"m\"?C:f===\"a\"?C.call(g):C?C.value:p.get(g)},c;Object.defineProperty(o,\"__esModule\",{value:!0}),o.LogHookContext=void 0;let l=s(\"./src/errors.ts\"),u=s(\"./src/utils/nonNull.ts\"),d=s(\"./src/hooks/HookContext.ts\");class h extends d.HookContext{constructor(p){var f,C,m,B,T,L;super(p),c.set(this,void 0),a(this,c,p??{},\"f\"),(f=(B=A(this,c,\"f\")).level)!==null&&f!==void 0||(B.level=\"information\"),(C=(T=A(this,c,\"f\")).message)!==null&&C!==void 0||(T.message=\"unknown\"),(m=(L=A(this,c,\"f\")).category)!==null&&m!==void 0||(L.category=\"user\")}get level(){return(0,u.nonNullProp)(A(this,c,\"f\"),\"level\")}set level(p){A(this,c,\"f\").level=p}get message(){return(0,u.nonNullProp)(A(this,c,\"f\"),\"message\")}set message(p){A(this,c,\"f\").message=p}get category(){return(0,u.nonNullProp)(A(this,c,\"f\"),\"category\")}set category(p){throw new l.ReadOnlyError(\"category\")}get invocationContext(){return A(this,c,\"f\").invocationContext}set invocationContext(p){throw new l.ReadOnlyError(\"invocationContext\")}}o.LogHookContext=h,c=new WeakMap}),\"./src/hooks/PostInvocationContext.ts\":(function(i,o,s){var a=this&&this.__classPrivateFieldSet||function(d,h,g,p,f){if(p===\"m\")throw new TypeError(\"Private method is not writable\");if(p===\"a\"&&!f)throw new TypeError(\"Private accessor was defined without a setter\");if(typeof h==\"function\"?d!==h||!f:!h.has(d))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return p===\"a\"?f.call(d,g):f?f.value=g:h.set(d,g),g},A=this&&this.__classPrivateFieldGet||function(d,h,g,p){if(g===\"a\"&&!p)throw new TypeError(\"Private accessor was defined without a getter\");if(typeof h==\"function\"?d!==h||!p:!h.has(d))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return g===\"m\"?p:g===\"a\"?p.call(d):p?p.value:h.get(d)},c;Object.defineProperty(o,\"__esModule\",{value:!0}),o.PostInvocationContext=void 0;let l=s(\"./src/hooks/InvocationHookContext.ts\");class u extends l.InvocationHookContext{constructor(h){super(h),c.set(this,void 0),a(this,c,h??{},\"f\")}get result(){return A(this,c,\"f\").result}set result(h){A(this,c,\"f\").result=h}get error(){return A(this,c,\"f\").error}set error(h){A(this,c,\"f\").error=h}}o.PostInvocationContext=u,c=new WeakMap}),\"./src/hooks/PreInvocationContext.ts\":(function(i,o,s){var a=this&&this.__classPrivateFieldSet||function(h,g,p,f,C){if(f===\"m\")throw new TypeError(\"Private method is not writable\");if(f===\"a\"&&!C)throw new TypeError(\"Private accessor was defined without a setter\");if(typeof g==\"function\"?h!==g||!C:!g.has(h))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return f===\"a\"?C.call(h,p):C?C.value=p:g.set(h,p),p},A=this&&this.__classPrivateFieldGet||function(h,g,p,f){if(p===\"a\"&&!f)throw new TypeError(\"Private accessor was defined without a getter\");if(typeof g==\"function\"?h!==g||!f:!g.has(h))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return p===\"m\"?f:p===\"a\"?f.call(h):f?f.value:g.get(h)},c;Object.defineProperty(o,\"__esModule\",{value:!0}),o.PreInvocationContext=void 0;let l=s(\"./src/utils/nonNull.ts\"),u=s(\"./src/hooks/InvocationHookContext.ts\");class d extends u.InvocationHookContext{constructor(g){var p,f;super(g),c.set(this,void 0),a(this,c,g??{},\"f\"),(p=(f=A(this,c,\"f\")).functionCallback)!==null&&p!==void 0||(f.functionCallback=()=>{})}get functionHandler(){return(0,l.nonNullProp)(A(this,c,\"f\"),\"functionCallback\")}set functionHandler(g){A(this,c,\"f\").functionCallback=g}}o.PreInvocationContext=d,c=new WeakMap}),\"./src/hooks/registerHook.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.log=o.postInvocation=o.preInvocation=o.appTerminate=o.appStart=void 0;let a=s(\"./src/errors.ts\"),A=s(\"./src/utils/Disposable.ts\"),c=s(\"./src/utils/tryGetCoreApiLazy.ts\"),l=s(\"./src/hooks/AppStartContext.ts\"),u=s(\"./src/hooks/AppTerminateContext.ts\"),d=s(\"./src/hooks/LogHookContext.ts\"),h=s(\"./src/hooks/PostInvocationContext.ts\"),g=s(\"./src/hooks/PreInvocationContext.ts\");function p(L,F){let R=(0,c.tryGetCoreApiLazy)();return R?R.registerHook(L,F):(console.warn(`WARNING: Skipping call to register ${L} hook because the \"@azure/functions\" package is in test mode.`),new A.Disposable(()=>{console.warn(`WARNING: Skipping call to dispose ${L} hook because the \"@azure/functions\" package is in test mode.`)}))}function f(L){return p(\"appStart\",F=>L(new l.AppStartContext(F)))}o.appStart=f;function C(L){return p(\"appTerminate\",F=>L(new u.AppTerminateContext(F)))}o.appTerminate=C;function m(L){return p(\"preInvocation\",F=>L(new g.PreInvocationContext(F)))}o.preInvocation=m;function B(L){return p(\"postInvocation\",F=>L(new h.PostInvocationContext(F)))}o.postInvocation=B;function T(L){try{return p(\"log\",F=>L(new d.LogHookContext(F)))}catch(F){let R=(0,a.ensureErrorType)(F);throw R.name===\"RangeError\"&&R.isAzureFunctionsSystemError?new a.AzFuncSystemError(\"Log hooks require Azure Functions Host v4.34 or higher.\"):F}}o.log=T}),\"./src/http/HttpRequest.ts\":(function(i,o,s){var a=this&&this.__awaiter||function(R,S,I,x){function k(P){return P instanceof I?P:new I(function(z){z(P)})}return new(I||(I=Promise))(function(P,z){function H(Ce){try{se(x.next(Ce))}catch(qe){z(qe)}}function ue(Ce){try{se(x.throw(Ce))}catch(qe){z(qe)}}function se(Ce){Ce.done?P(Ce.value):k(Ce.value).then(H,ue)}se((x=x.apply(R,S||[])).next())})},A=this&&this.__classPrivateFieldSet||function(R,S,I,x,k){if(x===\"m\")throw new TypeError(\"Private method is not writable\");if(x===\"a\"&&!k)throw new TypeError(\"Private accessor was defined without a setter\");if(typeof S==\"function\"?R!==S||!k:!S.has(R))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return x===\"a\"?k.call(R,I):k?k.value=I:S.set(R,I),I},c=this&&this.__classPrivateFieldGet||function(R,S,I,x){if(I===\"a\"&&!x)throw new TypeError(\"Private accessor was defined without a getter\");if(typeof S==\"function\"?R!==S||!x:!S.has(R))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return I===\"m\"?x:I===\"a\"?x.call(R):x?x.value:S.get(R)},l=this&&this.__rest||function(R,S){var I={};for(var x in R)Object.prototype.hasOwnProperty.call(R,x)&&S.indexOf(x)<0&&(I[x]=R[x]);if(R!=null&&typeof Object.getOwnPropertySymbols==\"function\")for(var k=0,x=Object.getOwnPropertySymbols(R);k<x.length;k++)S.indexOf(x[k])<0&&Object.prototype.propertyIsEnumerable.call(R,x[k])&&(I[x[k]]=R[x[k]]);return I},u,d,h;Object.defineProperty(o,\"__esModule\",{value:!0}),o.createStreamRequest=o.HttpRequest=void 0;let g=s(\"undici\"),p=s(\"url\"),f=s(\"./src/converters/fromRpcNullable.ts\"),C=s(\"./src/converters/fromRpcTypedData.ts\"),m=s(\"./src/errors.ts\"),B=s(\"./src/utils/nonNull.ts\"),T=s(\"./src/http/extractHttpUserFromHeaders.ts\");class L{constructor(S){var I,x,k;u.set(this,void 0),d.set(this,void 0),h.set(this,void 0),A(this,h,S,\"f\");let P=S.undiciRequest;if(!P){let z=(0,B.nonNullProp)(S,\"url\"),H;!((I=S.body)===null||I===void 0)&&I.bytes?H=Buffer.from((x=S.body)===null||x===void 0?void 0:x.bytes):!((k=S.body)===null||k===void 0)&&k.string&&(H=S.body.string),P=new g.Request(z,{body:H,method:(0,B.nonNullProp)(S,\"method\"),headers:(0,f.fromNullableMapping)(S.nullableHeaders,S.headers)})}A(this,d,P,\"f\"),S.nullableQuery||S.query?this.query=new p.URLSearchParams((0,f.fromNullableMapping)(S.nullableQuery,S.query)):this.query=new URL(c(this,d,\"f\").url).searchParams,this.params=(0,f.fromNullableMapping)(S.nullableParams,S.params)}get url(){return c(this,d,\"f\").url}get method(){return c(this,d,\"f\").method}get headers(){return c(this,d,\"f\").headers}get user(){return c(this,u,\"f\")===void 0&&A(this,u,(0,T.extractHttpUserFromHeaders)(this.headers),\"f\"),c(this,u,\"f\")}get body(){return c(this,d,\"f\").body}get bodyUsed(){return c(this,d,\"f\").bodyUsed}arrayBuffer(){return a(this,void 0,void 0,function*(){return c(this,d,\"f\").arrayBuffer()})}blob(){return a(this,void 0,void 0,function*(){return c(this,d,\"f\").blob()})}formData(){return a(this,void 0,void 0,function*(){return c(this,d,\"f\").formData()})}json(){return a(this,void 0,void 0,function*(){return c(this,d,\"f\").json()})}text(){return a(this,void 0,void 0,function*(){return c(this,d,\"f\").text()})}clone(){let S=structuredClone(c(this,h,\"f\"));return S.undiciRequest=c(this,d,\"f\").clone(),new L(S)}}o.HttpRequest=L,u=new WeakMap,d=new WeakMap,h=new WeakMap;function F(R,S){var I;let x=\"x-forwarded-host\",k=\"x-forwarded-proto\",P=R.headers[x],z=R.headers[k];if(typeof P!=\"string\"||typeof z!=\"string\")throw new m.AzFuncSystemError(`Expected headers \"${x}\" and \"${k}\" to be set.`);let H=`${z}://${P}${(0,B.nonNullProp)(R,\"url\")}`,ue,se=(I=R.method)===null||I===void 0?void 0:I.toLowerCase();se!==\"get\"&&se!==\"head\"&&(ue=R);let{Query:Ce,Headers:qe}=S,Ge=l(S,[\"Query\",\"Headers\"]),Rt,ee=(0,C.fromRpcTypedData)(qe);typeof ee==\"object\"&&(0,B.isDefined)(ee)&&(Rt=ee);let N=new g.Request(H,{body:ue,duplex:\"half\",method:(0,B.nonNullProp)(R,\"method\"),headers:Rt}),M={};for(let[Z,de]of Object.entries(Ge))(0,B.isDefined)(de.string)&&(M[Z]=de.string);return new L({undiciRequest:N,params:M})}o.createStreamRequest=F}),\"./src/http/HttpResponse.ts\":(function(i,o,s){var a=this&&this.__awaiter||function(p,f,C,m){function B(T){return T instanceof C?T:new C(function(L){L(T)})}return new(C||(C=Promise))(function(T,L){function F(I){try{S(m.next(I))}catch(x){L(x)}}function R(I){try{S(m.throw(I))}catch(x){L(x)}}function S(I){I.done?T(I.value):B(I.value).then(F,R)}S((m=m.apply(p,f||[])).next())})},A=this&&this.__classPrivateFieldSet||function(p,f,C,m,B){if(m===\"m\")throw new TypeError(\"Private method is not writable\");if(m===\"a\"&&!B)throw new TypeError(\"Private accessor was defined without a setter\");if(typeof f==\"function\"?p!==f||!B:!f.has(p))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return m===\"a\"?B.call(p,C):B?B.value=C:f.set(p,C),C},c=this&&this.__classPrivateFieldGet||function(p,f,C,m){if(C===\"a\"&&!m)throw new TypeError(\"Private accessor was defined without a getter\");if(typeof f==\"function\"?p!==f||!m:!f.has(p))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return C===\"m\"?m:C===\"a\"?m.call(p):m?m.value:f.get(p)},l,u;Object.defineProperty(o,\"__esModule\",{value:!0}),o.HttpResponse=void 0;let d=s(\"undici\"),h=s(\"./src/utils/nonNull.ts\");class g{constructor(f){var C;if(l.set(this,void 0),u.set(this,void 0),f??(f={}),A(this,u,f,\"f\"),f.undiciResponse)A(this,l,f.undiciResponse,\"f\");else{let m={status:f.status,headers:f.headers};(0,h.isDefined)(f.jsonBody)?A(this,l,d.Response.json(f.jsonBody,m),\"f\"):A(this,l,new d.Response(f.body,m),\"f\")}this.cookies=(C=f.cookies)!==null&&C!==void 0?C:[],this.enableContentNegotiation=!!f.enableContentNegotiation}get status(){return c(this,l,\"f\").status}get headers(){return c(this,l,\"f\").headers}get body(){return c(this,l,\"f\").body}get bodyUsed(){return c(this,l,\"f\").bodyUsed}arrayBuffer(){return a(this,void 0,void 0,function*(){return c(this,l,\"f\").arrayBuffer()})}blob(){return a(this,void 0,void 0,function*(){return c(this,l,\"f\").blob()})}formData(){return a(this,void 0,void 0,function*(){return c(this,l,\"f\").formData()})}json(){return a(this,void 0,void 0,function*(){return c(this,l,\"f\").json()})}text(){return a(this,void 0,void 0,function*(){return c(this,l,\"f\").text()})}clone(){let f=structuredClone(c(this,u,\"f\"));return f.undiciResponse=c(this,l,\"f\").clone(),new g(f)}}o.HttpResponse=g,l=new WeakMap,u=new WeakMap}),\"./src/http/extractHttpUserFromHeaders.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.extractHttpUserFromHeaders=void 0;let a=s(\"./src/utils/nonNull.ts\");function A(c){let l=null,u=c.get(\"x-ms-client-principal\");if(u){let d=JSON.parse(Buffer.from(u,\"base64\").toString(\"utf-8\"));d.identityProvider?l={type:\"StaticWebApps\",id:d.userId,username:d.userDetails,identityProvider:d.identityProvider,claimsPrincipalData:d}:l={type:\"AppService\",id:(0,a.nonNullValue)(c.get(\"x-ms-client-principal-id\"),\"user-id\"),username:(0,a.nonNullValue)(c.get(\"x-ms-client-principal-name\"),\"user-name\"),identityProvider:(0,a.nonNullValue)(c.get(\"x-ms-client-principal-idp\"),\"user-idp\"),claimsPrincipalData:d}}return l}o.extractHttpUserFromHeaders=A}),\"./src/http/httpProxy.ts\":(function(i,o,s){var a=this&&this.__awaiter||function(k,P,z,H){function ue(se){return se instanceof z?se:new z(function(Ce){Ce(se)})}return new(z||(z=Promise))(function(se,Ce){function qe(ee){try{Rt(H.next(ee))}catch(N){Ce(N)}}function Ge(ee){try{Rt(H.throw(ee))}catch(N){Ce(N)}}function Rt(ee){ee.done?se(ee.value):ue(ee.value).then(qe,Ge)}Rt((H=H.apply(k,P||[])).next())})},A=this&&this.__asyncValues||function(k){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var P=k[Symbol.asyncIterator],z;return P?P.call(k):(k=typeof __values==\"function\"?__values(k):k[Symbol.iterator](),z={},H(\"next\"),H(\"throw\"),H(\"return\"),z[Symbol.asyncIterator]=function(){return this},z);function H(se){z[se]=k[se]&&function(Ce){return new Promise(function(qe,Ge){Ce=k[se](Ce),ue(qe,Ge,Ce.done,Ce.value)})}}function ue(se,Ce,qe,Ge){Promise.resolve(Ge).then(function(Rt){se({value:Rt,done:qe})},Ce)}};Object.defineProperty(o,\"__esModule\",{value:!0}),o.setupHttpProxy=o.sendProxyResponse=o.waitForProxyRequest=void 0;let c=s(\"cookie\"),l=s(\"events\"),u=s(\"http\"),d=s(\"net\"),h=s(\"./src/errors.ts\"),g=s(\"./src/utils/nonNull.ts\"),p=s(\"./src/utils/workerSystemLog.ts\"),f={},C={},m=55e3,B=55025,T=new l.EventEmitter;function L(k){return a(this,void 0,void 0,function*(){return new Promise((P,z)=>{let H=f[k];H?(P(H),delete f[k]):T.once(k,()=>{let ue=f[k];ue&&(P(ue),delete f[k])})})})}o.waitForProxyRequest=L;let F=\"x-ms-invocation-id\";function R(k,P){var z,H,ue,se;return a(this,void 0,void 0,function*(){let Ce=(0,g.nonNullProp)(C,k);delete C[k];for(let[ee,N]of P.headers.entries())Ce.setHeader(ee,N);if(Ce.setHeader(F,k),Ce.statusCode=P.status,P.cookies.length>0&&S(P,Ce),P.body)try{for(var qe=!0,Ge=A(P.body.values()),Rt;Rt=yield Ge.next(),z=Rt.done,!z;){se=Rt.value,qe=!1;try{let ee=se;Ce.write(ee)}finally{qe=!0}}}catch(ee){H={error:ee}}finally{try{!qe&&!z&&(ue=Ge.return)&&(yield ue.call(Ge))}finally{if(H)throw H.error}}Ce.end()})}o.sendProxyResponse=R;function S(k,P){let z=k.cookies.map(H=>{let ue;switch(H.sameSite){case\"Lax\":ue=\"lax\";break;case\"None\":ue=\"none\";break;case\"Strict\":ue=\"strict\";break;default:ue=H.sameSite}return(0,c.serialize)(H.name,H.value,{domain:H.domain,path:H.path,expires:typeof H.expires==\"number\"?new Date(H.expires):H.expires,secure:H.secure,httpOnly:H.httpOnly,sameSite:ue,maxAge:H.maxAge})});P.setHeader(\"Set-Cookie\",z)}function I(){return a(this,void 0,void 0,function*(){return new Promise((k,P)=>{let z=u.createServer();z.on(\"request\",(H,ue)=>{let se=H.headers[F];typeof se==\"string\"?(f[se]=H,C[se]=ue,T.emit(se)):(0,p.workerSystemLog)(\"error\",`Http proxy request missing header ${F}`)}),z.on(\"error\",H=>{H=(0,h.ensureErrorType)(H),(0,p.workerSystemLog)(\"error\",`Http proxy error: ${H.stack||H.message}`)}),z.listen(()=>{let H=z.address();H!==null&&typeof H==\"object\"?H.port===0?((0,p.workerSystemLog)(\"debug\",\"Port 0 assigned. Finding open port.\"),x(ue=>{z.close(),z.listen(ue,()=>{(0,p.workerSystemLog)(\"debug\",`Server is now listening on found open port: ${ue}`)}),k(`http://localhost:${ue}/`)})):((0,p.workerSystemLog)(\"debug\",`Auto-assigned port is valid. Port: ${H.port}`),k(`http://localhost:${H.port}/`)):P(new h.AzFuncSystemError(\"Unexpected server address during http proxy setup\"))}),z.on(\"close\",()=>{(0,p.workerSystemLog)(\"information\",\"Http proxy closing\")})})})}o.setupHttpProxy=I;function x(k){let P=d.createServer();function z(H){if(H>B)throw new h.AzFuncSystemError(`No available ports found between ${m} and ${B}. To enable HTTP streaming, please open a port in this range.`);P.once(\"error\",()=>{z(H+1)}),P.once(\"listening\",()=>{let ue=P.address();ue!==null&&typeof ue==\"object\"&&(H=ue.port,P.close(),k(H))}),P.listen(H)}z(m)}}),\"./src/index.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.MySqlChangeOperation=o.SqlChangeOperation=o.Disposable=o.trigger=o.output=o.InvocationContext=o.input=o.HttpResponse=o.HttpRequest=o.PreInvocationContext=o.PostInvocationContext=o.LogHookContext=o.InvocationHookContext=o.HookContext=o.AppTerminateContext=o.AppStartContext=o.app=void 0,o.app=s(\"./src/app.ts\");var a=s(\"./src/hooks/AppStartContext.ts\");Object.defineProperty(o,\"AppStartContext\",{enumerable:!0,get:function(){return a.AppStartContext}});var A=s(\"./src/hooks/AppTerminateContext.ts\");Object.defineProperty(o,\"AppTerminateContext\",{enumerable:!0,get:function(){return A.AppTerminateContext}});var c=s(\"./src/hooks/HookContext.ts\");Object.defineProperty(o,\"HookContext\",{enumerable:!0,get:function(){return c.HookContext}});var l=s(\"./src/hooks/InvocationHookContext.ts\");Object.defineProperty(o,\"InvocationHookContext\",{enumerable:!0,get:function(){return l.InvocationHookContext}});var u=s(\"./src/hooks/LogHookContext.ts\");Object.defineProperty(o,\"LogHookContext\",{enumerable:!0,get:function(){return u.LogHookContext}});var d=s(\"./src/hooks/PostInvocationContext.ts\");Object.defineProperty(o,\"PostInvocationContext\",{enumerable:!0,get:function(){return d.PostInvocationContext}});var h=s(\"./src/hooks/PreInvocationContext.ts\");Object.defineProperty(o,\"PreInvocationContext\",{enumerable:!0,get:function(){return h.PreInvocationContext}});var g=s(\"./src/http/HttpRequest.ts\");Object.defineProperty(o,\"HttpRequest\",{enumerable:!0,get:function(){return g.HttpRequest}});var p=s(\"./src/http/HttpResponse.ts\");Object.defineProperty(o,\"HttpResponse\",{enumerable:!0,get:function(){return p.HttpResponse}}),o.input=s(\"./src/input.ts\");var f=s(\"./src/InvocationContext.ts\");Object.defineProperty(o,\"InvocationContext\",{enumerable:!0,get:function(){return f.InvocationContext}}),o.output=s(\"./src/output.ts\"),o.trigger=s(\"./src/trigger.ts\");var C=s(\"./src/utils/Disposable.ts\");Object.defineProperty(o,\"Disposable\",{enumerable:!0,get:function(){return C.Disposable}});var m;(function(T){T[T.Insert=0]=\"Insert\",T[T.Update=1]=\"Update\",T[T.Delete=2]=\"Delete\"})(m=o.SqlChangeOperation||(o.SqlChangeOperation={}));var B;(function(T){T[T.Update=0]=\"Update\"})(B=o.MySqlChangeOperation||(o.MySqlChangeOperation={}))}),\"./src/input.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.generic=o.webPubSubContext=o.webPubSubConnection=o.mySql=o.sql=o.cosmosDB=o.table=o.storageBlob=void 0;let a=s(\"./src/addBindingName.ts\");function A(C){return f(Object.assign(Object.assign({},C),{type:\"blob\"}))}o.storageBlob=A;function c(C){return f(Object.assign(Object.assign({},C),{type:\"table\"}))}o.table=c;function l(C){return f(Object.assign(Object.assign({},C),{type:\"cosmosDB\"}))}o.cosmosDB=l;function u(C){return f(Object.assign(Object.assign({},C),{type:\"sql\"}))}o.sql=u;function d(C){return f(Object.assign(Object.assign({},C),{type:\"mysql\"}))}o.mySql=d;function h(C){return f(Object.assign(Object.assign({},C),{type:\"webPubSubConnection\"}))}o.webPubSubConnection=h;function g(C){return f(Object.assign(Object.assign({},C),{type:\"webPubSubContext\"}))}o.webPubSubContext=g;function p(C){return f(C)}o.generic=p;function f(C){return(0,a.addBindingName)(C,\"Input\")}}),\"./src/output.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.generic=o.webPubSub=o.mySql=o.sql=o.cosmosDB=o.eventGrid=o.eventHub=o.serviceBusTopic=o.serviceBusQueue=o.storageQueue=o.table=o.storageBlob=o.http=void 0;let a=s(\"./src/addBindingName.ts\");function A(F){return L(Object.assign(Object.assign({},F),{type:\"http\"}))}o.http=A;function c(F){return L(Object.assign(Object.assign({},F),{type:\"blob\"}))}o.storageBlob=c;function l(F){return L(Object.assign(Object.assign({},F),{type:\"table\"}))}o.table=l;function u(F){return L(Object.assign(Object.assign({},F),{type:\"queue\"}))}o.storageQueue=u;function d(F){return L(Object.assign(Object.assign({},F),{type:\"serviceBus\"}))}o.serviceBusQueue=d;function h(F){return L(Object.assign(Object.assign({},F),{type:\"serviceBus\"}))}o.serviceBusTopic=h;function g(F){return L(Object.assign(Object.assign({},F),{type:\"eventHub\"}))}o.eventHub=g;function p(F){return L(Object.assign(Object.assign({},F),{type:\"eventGrid\"}))}o.eventGrid=p;function f(F){return L(Object.assign(Object.assign({},F),{type:\"cosmosDB\"}))}o.cosmosDB=f;function C(F){return L(Object.assign(Object.assign({},F),{type:\"sql\"}))}o.sql=C;function m(F){return L(Object.assign(Object.assign({},F),{type:\"mysql\"}))}o.mySql=m;function B(F){return L(Object.assign(Object.assign({},F),{type:\"webPubSub\"}))}o.webPubSub=B;function T(F){return L(F)}o.generic=T;function L(F){return(0,a.addBindingName)(F,\"Output\")}}),\"./src/setup.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.setup=o.capabilities=o.enableHttpStream=o.lockSetup=void 0;let a=s(\"./src/errors.ts\"),A=s(\"./src/utils/nonNull.ts\"),c=s(\"./src/utils/tryGetCoreApiLazy.ts\"),l=s(\"./src/utils/workerSystemLog.ts\"),u=!1;function d(){u=!0}o.lockSetup=d,o.enableHttpStream=!1,o.capabilities={};function h(g){if(u)throw new a.AzFuncSystemError(\"Setup options can't be changed after app startup has finished.\");if(g.enableHttpStream){let p=(0,c.tryGetCoreApiLazy)();if(p&&!p.log)throw new a.AzFuncSystemError(\"HTTP streaming requires Azure Functions Host v4.28 or higher.\")}if((0,A.isDefined)(g.enableHttpStream)&&(o.enableHttpStream=g.enableHttpStream),g.capabilities)for(let[p,f]of Object.entries(g.capabilities))(0,A.isDefined)(f)&&(f=String(f),(0,l.workerSystemLog)(\"debug\",`Capability ${p} set to ${f}.`),o.capabilities[p]=f);o.enableHttpStream&&(0,l.workerSystemLog)(\"debug\",\"HTTP streaming enabled.\")}o.setup=h}),\"./src/trigger.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.generic=o.mcpTool=o.webPubSub=o.mySql=o.sql=o.warmup=o.cosmosDB=o.eventGrid=o.eventHub=o.serviceBusTopic=o.serviceBusQueue=o.storageQueue=o.storageBlob=o.timer=o.http=void 0;let a=s(\"./src/addBindingName.ts\"),A=s(\"./src/converters/toMcpToolTriggerOptionsToRpc.ts\");function c(I){return S(Object.assign(Object.assign({},I),{authLevel:I.authLevel||\"anonymous\",methods:I.methods||[\"GET\",\"POST\"],type:\"httpTrigger\"}))}o.http=c;function l(I){return S(Object.assign(Object.assign({},I),{type:\"timerTrigger\"}))}o.timer=l;function u(I){return S(Object.assign(Object.assign({},I),{type:\"blobTrigger\"}))}o.storageBlob=u;function d(I){return S(Object.assign(Object.assign({},I),{type:\"queueTrigger\"}))}o.storageQueue=d;function h(I){return S(Object.assign(Object.assign({},I),{type:\"serviceBusTrigger\"}))}o.serviceBusQueue=h;function g(I){return S(Object.assign(Object.assign({},I),{type:\"serviceBusTrigger\"}))}o.serviceBusTopic=g;function p(I){return S(Object.assign(Object.assign({},I),{type:\"eventHubTrigger\"}))}o.eventHub=p;function f(I){return S(Object.assign(Object.assign({},I),{type:\"eventGridTrigger\"}))}o.eventGrid=f;function C(I){return S(Object.assign(Object.assign({},I),{type:\"cosmosDBTrigger\"}))}o.cosmosDB=C;function m(I){return S(Object.assign(Object.assign({},I),{type:\"warmupTrigger\"}))}o.warmup=m;function B(I){return S(Object.assign(Object.assign({},I),{type:\"sqlTrigger\"}))}o.sql=B;function T(I){return S(Object.assign(Object.assign({},I),{type:\"mysqlTrigger\"}))}o.mySql=T;function L(I){return S(Object.assign(Object.assign({},I),{type:\"webPubSubTrigger\"}))}o.webPubSub=L;function F(I){return S(Object.assign(Object.assign({},(0,A.converToMcpToolTriggerOptionsToRpc)(I)),{type:\"mcpToolTrigger\"}))}o.mcpTool=F;function R(I){return S(I)}o.generic=R;function S(I){return(0,a.addBindingName)(I,\"Trigger\")}}),\"./src/utils/Disposable.ts\":(function(i,o){var s=this&&this.__classPrivateFieldSet||function(l,u,d,h,g){if(h===\"m\")throw new TypeError(\"Private method is not writable\");if(h===\"a\"&&!g)throw new TypeError(\"Private accessor was defined without a setter\");if(typeof u==\"function\"?l!==u||!g:!u.has(l))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return h===\"a\"?g.call(l,d):g?g.value=d:u.set(l,d),d},a=this&&this.__classPrivateFieldGet||function(l,u,d,h){if(d===\"a\"&&!h)throw new TypeError(\"Private accessor was defined without a getter\");if(typeof u==\"function\"?l!==u||!h:!u.has(l))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return d===\"m\"?h:d===\"a\"?h.call(l):h?h.value:u.get(l)},A;Object.defineProperty(o,\"__esModule\",{value:!0}),o.Disposable=void 0;class c{static from(...u){let d=u;return new c(function(){if(d){for(let h of d)h&&typeof h.dispose==\"function\"&&h.dispose();d=void 0}})}constructor(u){A.set(this,void 0),s(this,A,u,\"f\")}dispose(){typeof a(this,A,\"f\")==\"function\"&&(a(this,A,\"f\").call(this),s(this,A,void 0,\"f\"))}}o.Disposable=c,A=new WeakMap}),\"./src/utils/fallbackLogHandler.ts\":((i,o)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.fallbackLogHandler=void 0;function s(a,...A){switch(a){case\"trace\":console.trace(...A);break;case\"debug\":console.debug(...A);break;case\"information\":console.info(...A);break;case\"warning\":console.warn(...A);break;case\"critical\":case\"error\":console.error(...A);break;default:console.log(...A)}}o.fallbackLogHandler=s}),\"./src/utils/getRandomHexString.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.getStringHash=o.getRandomHexString=void 0;let a=s(\"crypto\");function A(l=10){return a.randomBytes(Math.ceil(l/2)).toString(\"hex\").slice(0,l)}o.getRandomHexString=A;function c(l,u=10){return a.createHash(\"sha256\").update(l).digest(\"hex\").slice(0,u)}o.getStringHash=c}),\"./src/utils/isTrigger.ts\":((i,o)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.isTimerTrigger=o.isHttpTrigger=o.isTrigger=void 0;function s(c){return!!c&&/trigger$/i.test(c)}o.isTrigger=s;function a(c){return c?.toLowerCase()===\"httptrigger\"}o.isHttpTrigger=a;function A(c){return c?.toLowerCase()===\"timertrigger\"}o.isTimerTrigger=A}),\"./src/utils/nonNull.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.isDefined=o.copyPropIfDefined=o.nonNullValue=o.nonNullProp=void 0;let a=s(\"./src/errors.ts\");function A(d,h){let g=d[h];return c(g,h)}o.nonNullProp=A;function c(d,h){if(d==null)throw new a.AzFuncSystemError(\"Internal error: Expected value to be neither null nor undefined\"+(h?`: ${h}`:\"\"));return d}o.nonNullValue=c;function l(d,h,g){d[g]!==null&&d[g]!==void 0&&(h[g]=d[g])}o.copyPropIfDefined=l;function u(d){return d!=null}o.isDefined=u}),\"./src/utils/tryGetCoreApiLazy.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.tryGetCoreApiLazy=void 0;let a;function A(){if(a===void 0)try{a=s(\"@azure/functions-core\")}catch{a=null}return a}o.tryGetCoreApiLazy=A}),\"./src/utils/workerSystemLog.ts\":((i,o,s)=>{Object.defineProperty(o,\"__esModule\",{value:!0}),o.workerSystemLog=void 0;let a=s(\"util\"),A=s(\"./src/utils/fallbackLogHandler.ts\"),c=s(\"./src/utils/tryGetCoreApiLazy.ts\");function l(u,...d){let h=(0,c.tryGetCoreApiLazy)();h&&h.log?h.log(u,\"system\",(0,a.format)(...d)):(0,A.fallbackLogHandler)(u,...d)}o.workerSystemLog=l}),\"@azure/functions-core\":(i=>{i.exports=require(\"@azure/functions-core\")}),cookie:(i=>{i.exports=P0()}),crypto:(i=>{i.exports=require(\"crypto\")}),events:(i=>{i.exports=require(\"events\")}),http:(i=>{i.exports=require(\"http\")}),net:(i=>{i.exports=require(\"net\")}),undici:(i=>{i.exports=CL()}),url:(i=>{i.exports=require(\"url\")}),util:(i=>{i.exports=require(\"util\")})},e={};function r(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,r),s.exports}var n=r(\"./src/index.ts\");mL.exports=n})()});var Gl=y((YS,TO)=>{\"use strict\";var Dm=require(\"buffer\"),Yi=Dm.Buffer;function SO(t,e){for(var r in t)e[r]=t[r]}Yi.from&&Yi.alloc&&Yi.allocUnsafe&&Yi.allocUnsafeSlow?TO.exports=Dm:(SO(Dm,YS),YS.Buffer=UA);function UA(t,e,r){return Yi(t,e,r)}UA.prototype=Object.create(Yi.prototype);SO(Yi,UA);UA.from=function(t,e,r){if(typeof t==\"number\")throw new TypeError(\"Argument must not be a number\");return Yi(t,e,r)};UA.alloc=function(t,e,r){if(typeof t!=\"number\")throw new TypeError(\"Argument must be a number\");var n=Yi(t);return e!==void 0?typeof r==\"string\"?n.fill(e,r):n.fill(e):n.fill(0),n};UA.allocUnsafe=function(t){if(typeof t!=\"number\")throw new TypeError(\"Argument must be a number\");return Yi(t)};UA.allocUnsafeSlow=function(t){if(typeof t!=\"number\")throw new TypeError(\"Argument must be a number\");return Dm.SlowBuffer(t)}});var VS=y((O2e,bO)=>{\"use strict\";var xm=Gl().Buffer,fX=require(\"stream\"),pX=require(\"util\");function vm(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=xm.alloc(0),this;if(typeof t.pipe==\"function\")return this.buffer=xm.alloc(0),t.pipe(this),this;if(t.length||typeof t==\"object\")return this.buffer=t,this.writable=!1,process.nextTick(function(){this.emit(\"end\",t),this.readable=!1,this.emit(\"close\")}.bind(this)),this;throw new TypeError(\"Unexpected data type (\"+typeof t+\")\")}pX.inherits(vm,fX);vm.prototype.write=function(e){this.buffer=xm.concat([this.buffer,xm.from(e)]),this.emit(\"data\",e)};vm.prototype.end=function(e){e&&this.write(e),this.emit(\"end\",e),this.emit(\"close\"),this.writable=!1,this.readable=!1};bO.exports=vm});var DO=y((U2e,kO)=>{\"use strict\";function JS(t){var e=(t/8|0)+(t%8===0?0:1);return e}var EX={ES256:JS(256),ES384:JS(384),ES512:JS(521)};function CX(t){var e=EX[t];if(e)return e;throw new Error('Unknown algorithm \"'+t+'\"')}kO.exports=CX});var LO=y((_2e,FO)=>{\"use strict\";var Nm=Gl().Buffer,vO=DO(),Pm=128,NO=0,mX=32,yX=16,IX=2,PO=yX|mX|NO<<6,Mm=IX|NO<<6;function BX(t){return t.replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function MO(t){if(Nm.isBuffer(t))return t;if(typeof t==\"string\")return Nm.from(t,\"base64\");throw new TypeError(\"ECDSA signature must be a Base64 string or a Buffer\")}function QX(t,e){t=MO(t);var r=vO(e),n=r+1,i=t.length,o=0;if(t[o++]!==PO)throw new Error('Could not find expected \"seq\"');var s=t[o++];if(s===(Pm|1)&&(s=t[o++]),i-o<s)throw new Error('\"seq\" specified length of \"'+s+'\", only \"'+(i-o)+'\" remaining');if(t[o++]!==Mm)throw new Error('Could not find expected \"int\" for \"r\"');var a=t[o++];if(i-o-2<a)throw new Error('\"r\" specified length of \"'+a+'\", only \"'+(i-o-2)+'\" available');if(n<a)throw new Error('\"r\" specified length of \"'+a+'\", max of \"'+n+'\" is acceptable');var A=o;if(o+=a,t[o++]!==Mm)throw new Error('Could not find expected \"int\" for \"s\"');var c=t[o++];if(i-o!==c)throw new Error('\"s\" specified length of \"'+c+'\", expected \"'+(i-o)+'\"');if(n<c)throw new Error('\"s\" specified length of \"'+c+'\", max of \"'+n+'\" is acceptable');var l=o;if(o+=c,o!==i)throw new Error('Expected to consume entire buffer, but \"'+(i-o)+'\" bytes remain');var u=r-a,d=r-c,h=Nm.allocUnsafe(u+a+d+c);for(o=0;o<u;++o)h[o]=0;t.copy(h,o,A+Math.max(-u,0),A+a),o=r;for(var g=o;o<g+d;++o)h[o]=0;return t.copy(h,o,l+Math.max(-d,0),l+c),h=h.toString(\"base64\"),h=BX(h),h}function xO(t,e,r){for(var n=0;e+n<r&&t[e+n]===0;)++n;var i=t[e+n]>=Pm;return i&&--n,n}function wX(t,e){t=MO(t);var r=vO(e),n=t.length;if(n!==r*2)throw new TypeError('\"'+e+'\" signatures must be \"'+r*2+'\" bytes, saw \"'+n+'\"');var i=xO(t,0,r),o=xO(t,r,t.length),s=r-i,a=r-o,A=2+s+1+1+a,c=A<Pm,l=Nm.allocUnsafe((c?2:3)+A),u=0;return l[u++]=PO,c?l[u++]=A:(l[u++]=Pm|1,l[u++]=A&255),l[u++]=Mm,l[u++]=s,i<0?(l[u++]=0,u+=t.copy(l,u,0,r)):u+=t.copy(l,u,i,r),l[u++]=Mm,l[u++]=a,o<0?(l[u++]=0,t.copy(l,u,r)):t.copy(l,u,r+o),l}FO.exports={derToJose:QX,joseToDer:wX}});var UO=y((H2e,OO)=>{\"use strict\";var ng=require(\"buffer\").Buffer,KS=require(\"buffer\").SlowBuffer;OO.exports=Fm;function Fm(t,e){if(!ng.isBuffer(t)||!ng.isBuffer(e)||t.length!==e.length)return!1;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}Fm.install=function(){ng.prototype.equal=KS.prototype.equal=function(e){return Fm(this,e)}};var RX=ng.prototype.equal,SX=KS.prototype.equal;Fm.restore=function(){ng.prototype.equal=RX,KS.prototype.equal=SX}});var $S=y((q2e,WO)=>{\"use strict\";var Vl=Gl().Buffer,Kn=require(\"crypto\"),HO=LO(),_O=require(\"util\"),TX=`\"%s\" is not a valid algorithm.\n  Supported algorithms are:\n  \"HS256\", \"HS384\", \"HS512\", \"RS256\", \"RS384\", \"RS512\", \"PS256\", \"PS384\", \"PS512\", \"ES256\", \"ES384\", \"ES512\" and \"none\".`,ig=\"secret must be a string or buffer\",Yl=\"key must be a string or a buffer\",bX=\"key must be a string, a buffer or an object\",zS=typeof Kn.createPublicKey==\"function\";zS&&(Yl+=\" or a KeyObject\",ig+=\"or a KeyObject\");function qO(t){if(!Vl.isBuffer(t)&&typeof t!=\"string\"&&(!zS||typeof t!=\"object\"||typeof t.type!=\"string\"||typeof t.asymmetricKeyType!=\"string\"||typeof t.export!=\"function\"))throw ui(Yl)}function GO(t){if(!Vl.isBuffer(t)&&typeof t!=\"string\"&&typeof t!=\"object\")throw ui(bX)}function kX(t){if(!Vl.isBuffer(t)){if(typeof t==\"string\")return t;if(!zS||typeof t!=\"object\"||t.type!==\"secret\"||typeof t.export!=\"function\")throw ui(ig)}}function jS(t){return t.replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function YO(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var r=0;r<e;++r)t+=\"=\";return t.replace(/\\-/g,\"+\").replace(/_/g,\"/\")}function ui(t){var e=[].slice.call(arguments,1),r=_O.format.bind(_O,t).apply(null,e);return new TypeError(r)}function DX(t){return Vl.isBuffer(t)||typeof t==\"string\"}function og(t){return DX(t)||(t=JSON.stringify(t)),t}function VO(t){return function(r,n){kX(n),r=og(r);var i=Kn.createHmac(\"sha\"+t,n),o=(i.update(r),i.digest(\"base64\"));return jS(o)}}var WS,xX=\"timingSafeEqual\"in Kn?function(e,r){return e.byteLength!==r.byteLength?!1:Kn.timingSafeEqual(e,r)}:function(e,r){return WS||(WS=UO()),WS(e,r)};function vX(t){return function(r,n,i){var o=VO(t)(r,i);return xX(Vl.from(n),Vl.from(o))}}function JO(t){return function(r,n){GO(n),r=og(r);var i=Kn.createSign(\"RSA-SHA\"+t),o=(i.update(r),i.sign(n,\"base64\"));return jS(o)}}function KO(t){return function(r,n,i){qO(i),r=og(r),n=YO(n);var o=Kn.createVerify(\"RSA-SHA\"+t);return o.update(r),o.verify(i,n,\"base64\")}}function NX(t){return function(r,n){GO(n),r=og(r);var i=Kn.createSign(\"RSA-SHA\"+t),o=(i.update(r),i.sign({key:n,padding:Kn.constants.RSA_PKCS1_PSS_PADDING,saltLength:Kn.constants.RSA_PSS_SALTLEN_DIGEST},\"base64\"));return jS(o)}}function PX(t){return function(r,n,i){qO(i),r=og(r),n=YO(n);var o=Kn.createVerify(\"RSA-SHA\"+t);return o.update(r),o.verify({key:i,padding:Kn.constants.RSA_PKCS1_PSS_PADDING,saltLength:Kn.constants.RSA_PSS_SALTLEN_DIGEST},n,\"base64\")}}function MX(t){var e=JO(t);return function(){var n=e.apply(null,arguments);return n=HO.derToJose(n,\"ES\"+t),n}}function FX(t){var e=KO(t);return function(n,i,o){i=HO.joseToDer(i,\"ES\"+t).toString(\"base64\");var s=e(n,i,o);return s}}function LX(){return function(){return\"\"}}function OX(){return function(e,r){return r===\"\"}}WO.exports=function(e){var r={hs:VO,rs:JO,ps:NX,es:MX,none:LX},n={hs:vX,rs:KO,ps:PX,es:FX,none:OX},i=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!i)throw ui(TX,e);var o=(i[1]||i[3]).toLowerCase(),s=i[2];return{sign:r[o](s),verify:n[o](s)}}});var XS=y((G2e,zO)=>{\"use strict\";var UX=require(\"buffer\").Buffer;zO.exports=function(e){return typeof e==\"string\"?e:typeof e==\"number\"||UX.isBuffer(e)?e.toString():JSON.stringify(e)}});var tU=y((Y2e,eU)=>{\"use strict\";var _X=Gl().Buffer,jO=VS(),HX=$S(),qX=require(\"stream\"),$O=XS(),ZS=require(\"util\");function XO(t,e){return _X.from(t,e).toString(\"base64\").replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function GX(t,e,r){r=r||\"utf8\";var n=XO($O(t),\"binary\"),i=XO($O(e),r);return ZS.format(\"%s.%s\",n,i)}function ZO(t){var e=t.header,r=t.payload,n=t.secret||t.privateKey,i=t.encoding,o=HX(e.alg),s=GX(e,r,i),a=o.sign(s,n);return ZS.format(\"%s.%s\",s,a)}function Lm(t){var e=t.secret||t.privateKey||t.key,r=new jO(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=r,this.payload=new jO(t.payload),this.secret.once(\"close\",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once(\"close\",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}ZS.inherits(Lm,qX);Lm.prototype.sign=function(){try{var e=ZO({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit(\"done\",e),this.emit(\"data\",e),this.emit(\"end\"),this.readable=!1,e}catch(r){this.readable=!1,this.emit(\"error\",r),this.emit(\"close\")}};Lm.sign=ZO;eU.exports=Lm});var uU=y((V2e,lU)=>{\"use strict\";var nU=Gl().Buffer,rU=VS(),YX=$S(),VX=require(\"stream\"),iU=XS(),JX=require(\"util\"),KX=/^[a-zA-Z0-9\\-_]+?\\.[a-zA-Z0-9\\-_]+?\\.([a-zA-Z0-9\\-_]+)?$/;function WX(t){return Object.prototype.toString.call(t)===\"[object Object]\"}function zX(t){if(WX(t))return t;try{return JSON.parse(t)}catch{return}}function oU(t){var e=t.split(\".\",1)[0];return zX(nU.from(e,\"base64\").toString(\"binary\"))}function jX(t){return t.split(\".\",2).join(\".\")}function sU(t){return t.split(\".\")[2]}function $X(t,e){e=e||\"utf8\";var r=t.split(\".\")[1];return nU.from(r,\"base64\").toString(e)}function aU(t){return KX.test(t)&&!!oU(t)}function AU(t,e,r){if(!e){var n=new Error(\"Missing algorithm parameter for jws.verify\");throw n.code=\"MISSING_ALGORITHM\",n}t=iU(t);var i=sU(t),o=jX(t),s=YX(e);return s.verify(o,i,r)}function cU(t,e){if(e=e||{},t=iU(t),!aU(t))return null;var r=oU(t);if(!r)return null;var n=$X(t);return(r.typ===\"JWT\"||e.json)&&(n=JSON.parse(n,e.encoding)),{header:r,payload:n,signature:sU(t)}}function Jl(t){t=t||{};var e=t.secret||t.publicKey||t.key,r=new rU(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=r,this.signature=new rU(t.signature),this.secret.once(\"close\",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once(\"close\",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}JX.inherits(Jl,VX);Jl.prototype.verify=function(){try{var e=AU(this.signature.buffer,this.algorithm,this.key.buffer),r=cU(this.signature.buffer,this.encoding);return this.emit(\"done\",e,r),this.emit(\"data\",e),this.emit(\"end\"),this.readable=!1,e}catch(n){this.readable=!1,this.emit(\"error\",n),this.emit(\"close\")}};Jl.decode=cU;Jl.isValid=aU;Jl.verify=AU;lU.exports=Jl});var Um=y(Hs=>{\"use strict\";var dU=tU(),Om=uU(),XX=[\"HS256\",\"HS384\",\"HS512\",\"RS256\",\"RS384\",\"RS512\",\"PS256\",\"PS384\",\"PS512\",\"ES256\",\"ES384\",\"ES512\"];Hs.ALGORITHMS=XX;Hs.sign=dU.sign;Hs.verify=Om.verify;Hs.decode=Om.decode;Hs.isValid=Om.isValid;Hs.createSign=function(e){return new dU(e)};Hs.createVerify=function(e){return new Om(e)}});var eT=y((K2e,hU)=>{\"use strict\";var ZX=Um();hU.exports=function(t,e){e=e||{};var r=ZX.decode(t,e);if(!r)return null;var n=r.payload;if(typeof n==\"string\")try{var i=JSON.parse(n);i!==null&&typeof i==\"object\"&&(n=i)}catch{}return e.complete===!0?{header:r.header,payload:n,signature:r.signature}:n}});var sg=y((W2e,gU)=>{\"use strict\";var _m=function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=\"JsonWebTokenError\",this.message=t,e&&(this.inner=e)};_m.prototype=Object.create(Error.prototype);_m.prototype.constructor=_m;gU.exports=_m});var tT=y((z2e,pU)=>{\"use strict\";var fU=sg(),Hm=function(t,e){fU.call(this,t),this.name=\"NotBeforeError\",this.date=e};Hm.prototype=Object.create(fU.prototype);Hm.prototype.constructor=Hm;pU.exports=Hm});var rT=y((j2e,CU)=>{\"use strict\";var EU=sg(),qm=function(t,e){EU.call(this,t),this.name=\"TokenExpiredError\",this.expiredAt=e};qm.prototype=Object.create(EU.prototype);qm.prototype.constructor=qm;CU.exports=qm});var nT=y(($2e,mU)=>{\"use strict\";var eZ=UI();mU.exports=function(t,e){var r=e||Math.floor(Date.now()/1e3);if(typeof t==\"string\"){var n=eZ(t);return typeof n>\"u\"?void 0:Math.floor(r+n/1e3)}else return typeof t==\"number\"?r+t:void 0}});var ag=y((X2e,yU)=>{\"use strict\";var tZ=\"2.0.0\",rZ=Number.MAX_SAFE_INTEGER||9007199254740991,nZ=16,iZ=250,oZ=[\"major\",\"premajor\",\"minor\",\"preminor\",\"patch\",\"prepatch\",\"prerelease\"];yU.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:nZ,MAX_SAFE_BUILD_LENGTH:iZ,MAX_SAFE_INTEGER:rZ,RELEASE_TYPES:oZ,SEMVER_SPEC_VERSION:tZ,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ag=y((Z2e,IU)=>{\"use strict\";var sZ=typeof process==\"object\"&&process.env&&process.env.NODE_DEBUG&&/\\bsemver\\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error(\"SEMVER\",...t):()=>{};IU.exports=sZ});var Kl=y((Vi,BU)=>{\"use strict\";var{MAX_SAFE_COMPONENT_LENGTH:iT,MAX_SAFE_BUILD_LENGTH:aZ,MAX_LENGTH:AZ}=ag(),cZ=Ag();Vi=BU.exports={};var lZ=Vi.re=[],uZ=Vi.safeRe=[],K=Vi.src=[],dZ=Vi.safeSrc=[],W=Vi.t={},hZ=0,oT=\"[a-zA-Z0-9-]\",gZ=[[\"\\\\s\",1],[\"\\\\d\",AZ],[oT,aZ]],fZ=t=>{for(let[e,r]of gZ)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},Ee=(t,e,r)=>{let n=fZ(e),i=hZ++;cZ(t,i,e),W[t]=i,K[i]=e,dZ[i]=n,lZ[i]=new RegExp(e,r?\"g\":void 0),uZ[i]=new RegExp(n,r?\"g\":void 0)};Ee(\"NUMERICIDENTIFIER\",\"0|[1-9]\\\\d*\");Ee(\"NUMERICIDENTIFIERLOOSE\",\"\\\\d+\");Ee(\"NONNUMERICIDENTIFIER\",`\\\\d*[a-zA-Z-]${oT}*`);Ee(\"MAINVERSION\",`(${K[W.NUMERICIDENTIFIER]})\\\\.(${K[W.NUMERICIDENTIFIER]})\\\\.(${K[W.NUMERICIDENTIFIER]})`);Ee(\"MAINVERSIONLOOSE\",`(${K[W.NUMERICIDENTIFIERLOOSE]})\\\\.(${K[W.NUMERICIDENTIFIERLOOSE]})\\\\.(${K[W.NUMERICIDENTIFIERLOOSE]})`);Ee(\"PRERELEASEIDENTIFIER\",`(?:${K[W.NONNUMERICIDENTIFIER]}|${K[W.NUMERICIDENTIFIER]})`);Ee(\"PRERELEASEIDENTIFIERLOOSE\",`(?:${K[W.NONNUMERICIDENTIFIER]}|${K[W.NUMERICIDENTIFIERLOOSE]})`);Ee(\"PRERELEASE\",`(?:-(${K[W.PRERELEASEIDENTIFIER]}(?:\\\\.${K[W.PRERELEASEIDENTIFIER]})*))`);Ee(\"PRERELEASELOOSE\",`(?:-?(${K[W.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${K[W.PRERELEASEIDENTIFIERLOOSE]})*))`);Ee(\"BUILDIDENTIFIER\",`${oT}+`);Ee(\"BUILD\",`(?:\\\\+(${K[W.BUILDIDENTIFIER]}(?:\\\\.${K[W.BUILDIDENTIFIER]})*))`);Ee(\"FULLPLAIN\",`v?${K[W.MAINVERSION]}${K[W.PRERELEASE]}?${K[W.BUILD]}?`);Ee(\"FULL\",`^${K[W.FULLPLAIN]}$`);Ee(\"LOOSEPLAIN\",`[v=\\\\s]*${K[W.MAINVERSIONLOOSE]}${K[W.PRERELEASELOOSE]}?${K[W.BUILD]}?`);Ee(\"LOOSE\",`^${K[W.LOOSEPLAIN]}$`);Ee(\"GTLT\",\"((?:<|>)?=?)\");Ee(\"XRANGEIDENTIFIERLOOSE\",`${K[W.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`);Ee(\"XRANGEIDENTIFIER\",`${K[W.NUMERICIDENTIFIER]}|x|X|\\\\*`);Ee(\"XRANGEPLAIN\",`[v=\\\\s]*(${K[W.XRANGEIDENTIFIER]})(?:\\\\.(${K[W.XRANGEIDENTIFIER]})(?:\\\\.(${K[W.XRANGEIDENTIFIER]})(?:${K[W.PRERELEASE]})?${K[W.BUILD]}?)?)?`);Ee(\"XRANGEPLAINLOOSE\",`[v=\\\\s]*(${K[W.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${K[W.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${K[W.XRANGEIDENTIFIERLOOSE]})(?:${K[W.PRERELEASELOOSE]})?${K[W.BUILD]}?)?)?`);Ee(\"XRANGE\",`^${K[W.GTLT]}\\\\s*${K[W.XRANGEPLAIN]}$`);Ee(\"XRANGELOOSE\",`^${K[W.GTLT]}\\\\s*${K[W.XRANGEPLAINLOOSE]}$`);Ee(\"COERCEPLAIN\",`(^|[^\\\\d])(\\\\d{1,${iT}})(?:\\\\.(\\\\d{1,${iT}}))?(?:\\\\.(\\\\d{1,${iT}}))?`);Ee(\"COERCE\",`${K[W.COERCEPLAIN]}(?:$|[^\\\\d])`);Ee(\"COERCEFULL\",K[W.COERCEPLAIN]+`(?:${K[W.PRERELEASE]})?(?:${K[W.BUILD]})?(?:$|[^\\\\d])`);Ee(\"COERCERTL\",K[W.COERCE],!0);Ee(\"COERCERTLFULL\",K[W.COERCEFULL],!0);Ee(\"LONETILDE\",\"(?:~>?)\");Ee(\"TILDETRIM\",`(\\\\s*)${K[W.LONETILDE]}\\\\s+`,!0);Vi.tildeTrimReplace=\"$1~\";Ee(\"TILDE\",`^${K[W.LONETILDE]}${K[W.XRANGEPLAIN]}$`);Ee(\"TILDELOOSE\",`^${K[W.LONETILDE]}${K[W.XRANGEPLAINLOOSE]}$`);Ee(\"LONECARET\",\"(?:\\\\^)\");Ee(\"CARETTRIM\",`(\\\\s*)${K[W.LONECARET]}\\\\s+`,!0);Vi.caretTrimReplace=\"$1^\";Ee(\"CARET\",`^${K[W.LONECARET]}${K[W.XRANGEPLAIN]}$`);Ee(\"CARETLOOSE\",`^${K[W.LONECARET]}${K[W.XRANGEPLAINLOOSE]}$`);Ee(\"COMPARATORLOOSE\",`^${K[W.GTLT]}\\\\s*(${K[W.LOOSEPLAIN]})$|^$`);Ee(\"COMPARATOR\",`^${K[W.GTLT]}\\\\s*(${K[W.FULLPLAIN]})$|^$`);Ee(\"COMPARATORTRIM\",`(\\\\s*)${K[W.GTLT]}\\\\s*(${K[W.LOOSEPLAIN]}|${K[W.XRANGEPLAIN]})`,!0);Vi.comparatorTrimReplace=\"$1$2$3\";Ee(\"HYPHENRANGE\",`^\\\\s*(${K[W.XRANGEPLAIN]})\\\\s+-\\\\s+(${K[W.XRANGEPLAIN]})\\\\s*$`);Ee(\"HYPHENRANGELOOSE\",`^\\\\s*(${K[W.XRANGEPLAINLOOSE]})\\\\s+-\\\\s+(${K[W.XRANGEPLAINLOOSE]})\\\\s*$`);Ee(\"STAR\",\"(<|>)?=?\\\\s*\\\\*\");Ee(\"GTE0\",\"^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$\");Ee(\"GTE0PRE\",\"^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$\")});var Gm=y((eqe,QU)=>{\"use strict\";var pZ=Object.freeze({loose:!0}),EZ=Object.freeze({}),CZ=t=>t?typeof t!=\"object\"?pZ:t:EZ;QU.exports=CZ});var sT=y((tqe,SU)=>{\"use strict\";var wU=/^[0-9]+$/,RU=(t,e)=>{let r=wU.test(t),n=wU.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},mZ=(t,e)=>RU(e,t);SU.exports={compareIdentifiers:RU,rcompareIdentifiers:mZ}});var hr=y((rqe,bU)=>{\"use strict\";var Ym=Ag(),{MAX_LENGTH:TU,MAX_SAFE_INTEGER:Vm}=ag(),{safeRe:Jm,t:Km}=Kl(),yZ=Gm(),{compareIdentifiers:Wl}=sT(),aT=class t{constructor(e,r){if(r=yZ(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!=\"string\")throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof e}\".`);if(e.length>TU)throw new TypeError(`version is longer than ${TU} characters`);Ym(\"SemVer\",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Jm[Km.LOOSE]:Jm[Km.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Vm||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>Vm||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>Vm||this.patch<0)throw new TypeError(\"Invalid patch version\");n[4]?this.prerelease=n[4].split(\".\").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Vm)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split(\".\"):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(\".\")}`),this.version}toString(){return this.version}compare(e){if(Ym(\"SemVer.compare\",this.version,this.options,e),!(e instanceof t)){if(typeof e==\"string\"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Wl(this.major,e.major)||Wl(this.minor,e.minor)||Wl(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Ym(\"prerelease compare\",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Wl(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Ym(\"build compare\",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Wl(n,i)}while(++r)}inc(e,r,n){if(e.startsWith(\"pre\")){if(!r&&n===!1)throw new Error(\"invalid increment argument: identifier is empty\");if(r){let i=`-${r}`.match(this.options.loose?Jm[Km.PRERELEASELOOSE]:Jm[Km.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",r,n);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",r,n);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",r,n),this.inc(\"pre\",r,n);break;case\"prerelease\":this.prerelease.length===0&&this.inc(\"patch\",r,n),this.inc(\"pre\",r,n);break;case\"release\":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case\"major\":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case\"pre\":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]==\"number\"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(\".\")&&n===!1)throw new Error(\"invalid increment argument: identifier already exists\");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),Wl(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(\".\")}`),this}};bU.exports=aT});var _A=y((nqe,DU)=>{\"use strict\";var kU=hr(),IZ=(t,e,r=!1)=>{if(t instanceof kU)return t;try{return new kU(t,e)}catch(n){if(!r)return null;throw n}};DU.exports=IZ});var vU=y((iqe,xU)=>{\"use strict\";var BZ=_A(),QZ=(t,e)=>{let r=BZ(t,e);return r?r.version:null};xU.exports=QZ});var PU=y((oqe,NU)=>{\"use strict\";var wZ=_A(),RZ=(t,e)=>{let r=wZ(t.trim().replace(/^[=v]+/,\"\"),e);return r?r.version:null};NU.exports=RZ});var LU=y((sqe,FU)=>{\"use strict\";var MU=hr(),SZ=(t,e,r,n,i)=>{typeof r==\"string\"&&(i=n,n=r,r=void 0);try{return new MU(t instanceof MU?t.version:t,r).inc(e,n,i).version}catch{return null}};FU.exports=SZ});var _U=y((aqe,UU)=>{\"use strict\";var OU=_A(),TZ=(t,e)=>{let r=OU(t,null,!0),n=OU(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,s=o?r:n,a=o?n:r,A=!!s.prerelease.length;if(!!a.prerelease.length&&!A){if(!a.patch&&!a.minor)return\"major\";if(a.compareMain(s)===0)return a.minor&&!a.patch?\"minor\":\"patch\"}let l=A?\"pre\":\"\";return r.major!==n.major?l+\"major\":r.minor!==n.minor?l+\"minor\":r.patch!==n.patch?l+\"patch\":\"prerelease\"};UU.exports=TZ});var qU=y((Aqe,HU)=>{\"use strict\";var bZ=hr(),kZ=(t,e)=>new bZ(t,e).major;HU.exports=kZ});var YU=y((cqe,GU)=>{\"use strict\";var DZ=hr(),xZ=(t,e)=>new DZ(t,e).minor;GU.exports=xZ});var JU=y((lqe,VU)=>{\"use strict\";var vZ=hr(),NZ=(t,e)=>new vZ(t,e).patch;VU.exports=NZ});var WU=y((uqe,KU)=>{\"use strict\";var PZ=_A(),MZ=(t,e)=>{let r=PZ(t,e);return r&&r.prerelease.length?r.prerelease:null};KU.exports=MZ});var Wn=y((dqe,jU)=>{\"use strict\";var zU=hr(),FZ=(t,e,r)=>new zU(t,r).compare(new zU(e,r));jU.exports=FZ});var XU=y((hqe,$U)=>{\"use strict\";var LZ=Wn(),OZ=(t,e,r)=>LZ(e,t,r);$U.exports=OZ});var e_=y((gqe,ZU)=>{\"use strict\";var UZ=Wn(),_Z=(t,e)=>UZ(t,e,!0);ZU.exports=_Z});var Wm=y((fqe,r_)=>{\"use strict\";var t_=hr(),HZ=(t,e,r)=>{let n=new t_(t,r),i=new t_(e,r);return n.compare(i)||n.compareBuild(i)};r_.exports=HZ});var i_=y((pqe,n_)=>{\"use strict\";var qZ=Wm(),GZ=(t,e)=>t.sort((r,n)=>qZ(r,n,e));n_.exports=GZ});var s_=y((Eqe,o_)=>{\"use strict\";var YZ=Wm(),VZ=(t,e)=>t.sort((r,n)=>YZ(n,r,e));o_.exports=VZ});var cg=y((Cqe,a_)=>{\"use strict\";var JZ=Wn(),KZ=(t,e,r)=>JZ(t,e,r)>0;a_.exports=KZ});var zm=y((mqe,A_)=>{\"use strict\";var WZ=Wn(),zZ=(t,e,r)=>WZ(t,e,r)<0;A_.exports=zZ});var AT=y((yqe,c_)=>{\"use strict\";var jZ=Wn(),$Z=(t,e,r)=>jZ(t,e,r)===0;c_.exports=$Z});var cT=y((Iqe,l_)=>{\"use strict\";var XZ=Wn(),ZZ=(t,e,r)=>XZ(t,e,r)!==0;l_.exports=ZZ});var jm=y((Bqe,u_)=>{\"use strict\";var e7=Wn(),t7=(t,e,r)=>e7(t,e,r)>=0;u_.exports=t7});var $m=y((Qqe,d_)=>{\"use strict\";var r7=Wn(),n7=(t,e,r)=>r7(t,e,r)<=0;d_.exports=n7});var lT=y((wqe,h_)=>{\"use strict\";var i7=AT(),o7=cT(),s7=cg(),a7=jm(),A7=zm(),c7=$m(),l7=(t,e,r,n)=>{switch(e){case\"===\":return typeof t==\"object\"&&(t=t.version),typeof r==\"object\"&&(r=r.version),t===r;case\"!==\":return typeof t==\"object\"&&(t=t.version),typeof r==\"object\"&&(r=r.version),t!==r;case\"\":case\"=\":case\"==\":return i7(t,r,n);case\"!=\":return o7(t,r,n);case\">\":return s7(t,r,n);case\">=\":return a7(t,r,n);case\"<\":return A7(t,r,n);case\"<=\":return c7(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};h_.exports=l7});var f_=y((Rqe,g_)=>{\"use strict\";var u7=hr(),d7=_A(),{safeRe:Xm,t:Zm}=Kl(),h7=(t,e)=>{if(t instanceof u7)return t;if(typeof t==\"number\"&&(t=String(t)),typeof t!=\"string\")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Xm[Zm.COERCEFULL]:Xm[Zm.COERCE]);else{let A=e.includePrerelease?Xm[Zm.COERCERTLFULL]:Xm[Zm.COERCERTL],c;for(;(c=A.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),A.lastIndex=c.index+c[1].length+c[2].length;A.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||\"0\",o=r[4]||\"0\",s=e.includePrerelease&&r[5]?`-${r[5]}`:\"\",a=e.includePrerelease&&r[6]?`+${r[6]}`:\"\";return d7(`${n}.${i}.${o}${s}${a}`,e)};g_.exports=h7});var E_=y((Sqe,p_)=>{\"use strict\";var uT=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};p_.exports=uT});var zn=y((Tqe,I_)=>{\"use strict\";var g7=/\\s+/g,dT=class t{constructor(e,r){if(r=p7(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof hT)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(g7,\" \"),this.set=this.raw.split(\"||\").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!m_(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Q7(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted=\"\";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+=\"||\");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=\" \"),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&I7)|(this.options.loose&&B7))+\":\"+e,i=C_.get(n);if(i)return i;let o=this.options.loose,s=o?Zr[Mr.HYPHENRANGELOOSE]:Zr[Mr.HYPHENRANGE];e=e.replace(s,N7(this.options.includePrerelease)),dt(\"hyphen replace\",e),e=e.replace(Zr[Mr.COMPARATORTRIM],C7),dt(\"comparator trim\",e),e=e.replace(Zr[Mr.TILDETRIM],m7),dt(\"tilde trim\",e),e=e.replace(Zr[Mr.CARETTRIM],y7),dt(\"caret trim\",e);let a=e.split(\" \").map(u=>w7(u,this.options)).join(\" \").split(/\\s+/).map(u=>v7(u,this.options));o&&(a=a.filter(u=>(dt(\"loose invalid filter\",u,this.options),!!u.match(Zr[Mr.COMPARATORLOOSE])))),dt(\"range list\",a);let A=new Map,c=a.map(u=>new hT(u,this.options));for(let u of c){if(m_(u))return[u];A.set(u.value,u)}A.size>1&&A.has(\"\")&&A.delete(\"\");let l=[...A.values()];return C_.set(n,l),l}intersects(e,r){if(!(e instanceof t))throw new TypeError(\"a Range is required\");return this.set.some(n=>y_(n,r)&&e.set.some(i=>y_(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e==\"string\")try{e=new E7(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(P7(this.set[r],e,this.options))return!0;return!1}};I_.exports=dT;var f7=E_(),C_=new f7,p7=Gm(),hT=lg(),dt=Ag(),E7=hr(),{safeRe:Zr,t:Mr,comparatorTrimReplace:C7,tildeTrimReplace:m7,caretTrimReplace:y7}=Kl(),{FLAG_INCLUDE_PRERELEASE:I7,FLAG_LOOSE:B7}=ag(),m_=t=>t.value===\"<0.0.0-0\",Q7=t=>t.value===\"\",y_=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},w7=(t,e)=>(dt(\"comp\",t,e),t=T7(t,e),dt(\"caret\",t),t=R7(t,e),dt(\"tildes\",t),t=k7(t,e),dt(\"xrange\",t),t=x7(t,e),dt(\"stars\",t),t),Fr=t=>!t||t.toLowerCase()===\"x\"||t===\"*\",R7=(t,e)=>t.trim().split(/\\s+/).map(r=>S7(r,e)).join(\" \"),S7=(t,e)=>{let r=e.loose?Zr[Mr.TILDELOOSE]:Zr[Mr.TILDE];return t.replace(r,(n,i,o,s,a)=>{dt(\"tilde\",t,n,i,o,s,a);let A;return Fr(i)?A=\"\":Fr(o)?A=`>=${i}.0.0 <${+i+1}.0.0-0`:Fr(s)?A=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(dt(\"replaceTilde pr\",a),A=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):A=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,dt(\"tilde return\",A),A})},T7=(t,e)=>t.trim().split(/\\s+/).map(r=>b7(r,e)).join(\" \"),b7=(t,e)=>{dt(\"caret\",t,e);let r=e.loose?Zr[Mr.CARETLOOSE]:Zr[Mr.CARET],n=e.includePrerelease?\"-0\":\"\";return t.replace(r,(i,o,s,a,A)=>{dt(\"caret\",t,i,o,s,a,A);let c;return Fr(o)?c=\"\":Fr(s)?c=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Fr(a)?o===\"0\"?c=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:A?(dt(\"replaceCaret pr\",A),o===\"0\"?s===\"0\"?c=`>=${o}.${s}.${a}-${A} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}-${A} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a}-${A} <${+o+1}.0.0-0`):(dt(\"no pr\"),o===\"0\"?s===\"0\"?c=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),dt(\"caret return\",c),c})},k7=(t,e)=>(dt(\"replaceXRanges\",t,e),t.split(/\\s+/).map(r=>D7(r,e)).join(\" \")),D7=(t,e)=>{t=t.trim();let r=e.loose?Zr[Mr.XRANGELOOSE]:Zr[Mr.XRANGE];return t.replace(r,(n,i,o,s,a,A)=>{dt(\"xRange\",t,n,i,o,s,a,A);let c=Fr(o),l=c||Fr(s),u=l||Fr(a),d=u;return i===\"=\"&&d&&(i=\"\"),A=e.includePrerelease?\"-0\":\"\",c?i===\">\"||i===\"<\"?n=\"<0.0.0-0\":n=\"*\":i&&d?(l&&(s=0),a=0,i===\">\"?(i=\">=\",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i===\"<=\"&&(i=\"<\",l?o=+o+1:s=+s+1),i===\"<\"&&(A=\"-0\"),n=`${i+o}.${s}.${a}${A}`):l?n=`>=${o}.0.0${A} <${+o+1}.0.0-0`:u&&(n=`>=${o}.${s}.0${A} <${o}.${+s+1}.0-0`),dt(\"xRange return\",n),n})},x7=(t,e)=>(dt(\"replaceStars\",t,e),t.trim().replace(Zr[Mr.STAR],\"\")),v7=(t,e)=>(dt(\"replaceGTE0\",t,e),t.trim().replace(Zr[e.includePrerelease?Mr.GTE0PRE:Mr.GTE0],\"\")),N7=t=>(e,r,n,i,o,s,a,A,c,l,u,d)=>(Fr(n)?r=\"\":Fr(i)?r=`>=${n}.0.0${t?\"-0\":\"\"}`:Fr(o)?r=`>=${n}.${i}.0${t?\"-0\":\"\"}`:s?r=`>=${r}`:r=`>=${r}${t?\"-0\":\"\"}`,Fr(c)?A=\"\":Fr(l)?A=`<${+c+1}.0.0-0`:Fr(u)?A=`<${c}.${+l+1}.0-0`:d?A=`<=${c}.${l}.${u}-${d}`:t?A=`<${c}.${l}.${+u+1}-0`:A=`<=${A}`,`${r} ${A}`.trim()),P7=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(dt(t[n].semver),t[n].semver!==hT.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var lg=y((bqe,T_)=>{\"use strict\";var ug=Symbol(\"SemVer ANY\"),pT=class t{static get ANY(){return ug}constructor(e,r){if(r=B_(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\\s+/).join(\" \"),fT(\"comparator\",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ug?this.value=\"\":this.value=this.operator+this.semver.version,fT(\"comp\",this)}parse(e){let r=this.options.loose?Q_[w_.COMPARATORLOOSE]:Q_[w_.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:\"\",this.operator===\"=\"&&(this.operator=\"\"),n[2]?this.semver=new R_(n[2],this.options.loose):this.semver=ug}toString(){return this.value}test(e){if(fT(\"Comparator.test\",e,this.options.loose),this.semver===ug||e===ug)return!0;if(typeof e==\"string\")try{e=new R_(e,this.options)}catch{return!1}return gT(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError(\"a Comparator is required\");return this.operator===\"\"?this.value===\"\"?!0:new S_(e.value,r).test(this.value):e.operator===\"\"?e.value===\"\"?!0:new S_(this.value,r).test(e.semver):(r=B_(r),r.includePrerelease&&(this.value===\"<0.0.0-0\"||e.value===\"<0.0.0-0\")||!r.includePrerelease&&(this.value.startsWith(\"<0.0.0\")||e.value.startsWith(\"<0.0.0\"))?!1:!!(this.operator.startsWith(\">\")&&e.operator.startsWith(\">\")||this.operator.startsWith(\"<\")&&e.operator.startsWith(\"<\")||this.semver.version===e.semver.version&&this.operator.includes(\"=\")&&e.operator.includes(\"=\")||gT(this.semver,\"<\",e.semver,r)&&this.operator.startsWith(\">\")&&e.operator.startsWith(\"<\")||gT(this.semver,\">\",e.semver,r)&&this.operator.startsWith(\"<\")&&e.operator.startsWith(\">\")))}};T_.exports=pT;var B_=Gm(),{safeRe:Q_,t:w_}=Kl(),gT=lT(),fT=Ag(),R_=hr(),S_=zn()});var dg=y((kqe,b_)=>{\"use strict\";var M7=zn(),F7=(t,e,r)=>{try{e=new M7(e,r)}catch{return!1}return e.test(t)};b_.exports=F7});var D_=y((Dqe,k_)=>{\"use strict\";var L7=zn(),O7=(t,e)=>new L7(t,e).set.map(r=>r.map(n=>n.value).join(\" \").trim().split(\" \"));k_.exports=O7});var v_=y((xqe,x_)=>{\"use strict\";var U7=hr(),_7=zn(),H7=(t,e,r)=>{let n=null,i=null,o=null;try{o=new _7(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new U7(n,r))}),n};x_.exports=H7});var P_=y((vqe,N_)=>{\"use strict\";var q7=hr(),G7=zn(),Y7=(t,e,r)=>{let n=null,i=null,o=null;try{o=new G7(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new q7(n,r))}),n};N_.exports=Y7});var L_=y((Nqe,F_)=>{\"use strict\";var ET=hr(),V7=zn(),M_=cg(),J7=(t,e)=>{t=new V7(t,e);let r=new ET(\"0.0.0\");if(t.test(r)||(r=new ET(\"0.0.0-0\"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let a=new ET(s.semver.version);switch(s.operator){case\">\":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case\"\":case\">=\":(!o||M_(a,o))&&(o=a);break;case\"<\":case\"<=\":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||M_(r,o))&&(r=o)}return r&&t.test(r)?r:null};F_.exports=J7});var U_=y((Pqe,O_)=>{\"use strict\";var K7=zn(),W7=(t,e)=>{try{return new K7(t,e).range||\"*\"}catch{return null}};O_.exports=W7});var ey=y((Mqe,G_)=>{\"use strict\";var z7=hr(),q_=lg(),{ANY:j7}=q_,$7=zn(),X7=dg(),__=cg(),H_=zm(),Z7=$m(),eee=jm(),tee=(t,e,r,n)=>{t=new z7(t,n),e=new $7(e,n);let i,o,s,a,A;switch(r){case\">\":i=__,o=Z7,s=H_,a=\">\",A=\">=\";break;case\"<\":i=H_,o=eee,s=__,a=\"<\",A=\"<=\";break;default:throw new TypeError('Must provide a hilo val of \"<\" or \">\"')}if(X7(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let l=e.set[c],u=null,d=null;if(l.forEach(h=>{h.semver===j7&&(h=new q_(\">=0.0.0\")),u=u||h,d=d||h,i(h.semver,u.semver,n)?u=h:s(h.semver,d.semver,n)&&(d=h)}),u.operator===a||u.operator===A||(!d.operator||d.operator===a)&&o(t,d.semver))return!1;if(d.operator===A&&s(t,d.semver))return!1}return!0};G_.exports=tee});var V_=y((Fqe,Y_)=>{\"use strict\";var ree=ey(),nee=(t,e,r)=>ree(t,e,\">\",r);Y_.exports=nee});var K_=y((Lqe,J_)=>{\"use strict\";var iee=ey(),oee=(t,e,r)=>iee(t,e,\"<\",r);J_.exports=oee});var j_=y((Oqe,z_)=>{\"use strict\";var W_=zn(),see=(t,e,r)=>(t=new W_(t,r),e=new W_(e,r),t.intersects(e,r));z_.exports=see});var X_=y((Uqe,$_)=>{\"use strict\";var aee=dg(),Aee=Wn();$_.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((l,u)=>Aee(l,u,r));for(let l of s)aee(l,e,r)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,u]of n)l===u?a.push(l):!u&&l===s[0]?a.push(\"*\"):u?l===s[0]?a.push(`<=${u}`):a.push(`${l} - ${u}`):a.push(`>=${l}`);let A=a.join(\" || \"),c=typeof e.raw==\"string\"?e.raw:String(e);return A.length<c.length?A:e}});var iH=y((_qe,nH)=>{\"use strict\";var Z_=zn(),mT=lg(),{ANY:CT}=mT,hg=dg(),yT=Wn(),cee=(t,e,r={})=>{if(t===e)return!0;t=new Z_(t,r),e=new Z_(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=uee(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},lee=[new mT(\">=0.0.0-0\")],eH=[new mT(\">=0.0.0\")],uee=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===CT){if(e.length===1&&e[0].semver===CT)return!0;r.includePrerelease?t=lee:t=eH}if(e.length===1&&e[0].semver===CT){if(r.includePrerelease)return!0;e=eH}let n=new Set,i,o;for(let h of t)h.operator===\">\"||h.operator===\">=\"?i=tH(i,h,r):h.operator===\"<\"||h.operator===\"<=\"?o=rH(o,h,r):n.add(h.semver);if(n.size>1)return null;let s;if(i&&o){if(s=yT(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==\">=\"||o.operator!==\"<=\"))return null}for(let h of n){if(i&&!hg(h,String(i),r)||o&&!hg(h,String(o),r))return null;for(let g of e)if(!hg(h,String(g),r))return!1;return!0}let a,A,c,l,u=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;u&&u.prerelease.length===1&&o.operator===\"<\"&&u.prerelease[0]===0&&(u=!1);for(let h of e){if(l=l||h.operator===\">\"||h.operator===\">=\",c=c||h.operator===\"<\"||h.operator===\"<=\",i){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator===\">\"||h.operator===\">=\"){if(a=tH(i,h,r),a===h&&a!==i)return!1}else if(i.operator===\">=\"&&!hg(i.semver,String(h),r))return!1}if(o){if(u&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===u.major&&h.semver.minor===u.minor&&h.semver.patch===u.patch&&(u=!1),h.operator===\"<\"||h.operator===\"<=\"){if(A=rH(o,h,r),A===h&&A!==o)return!1}else if(o.operator===\"<=\"&&!hg(o.semver,String(h),r))return!1}if(!h.operator&&(o||i)&&s!==0)return!1}return!(i&&c&&!o&&s!==0||o&&l&&!i&&s!==0||d||u)},tH=(t,e,r)=>{if(!t)return e;let n=yT(t.semver,e.semver,r);return n>0?t:n<0||e.operator===\">\"&&t.operator===\">=\"?e:t},rH=(t,e,r)=>{if(!t)return e;let n=yT(t.semver,e.semver,r);return n<0?t:n>0||e.operator===\"<\"&&t.operator===\"<=\"?e:t};nH.exports=cee});var ty=y((Hqe,aH)=>{\"use strict\";var IT=Kl(),oH=ag(),dee=hr(),sH=sT(),hee=_A(),gee=vU(),fee=PU(),pee=LU(),Eee=_U(),Cee=qU(),mee=YU(),yee=JU(),Iee=WU(),Bee=Wn(),Qee=XU(),wee=e_(),Ree=Wm(),See=i_(),Tee=s_(),bee=cg(),kee=zm(),Dee=AT(),xee=cT(),vee=jm(),Nee=$m(),Pee=lT(),Mee=f_(),Fee=lg(),Lee=zn(),Oee=dg(),Uee=D_(),_ee=v_(),Hee=P_(),qee=L_(),Gee=U_(),Yee=ey(),Vee=V_(),Jee=K_(),Kee=j_(),Wee=X_(),zee=iH();aH.exports={parse:hee,valid:gee,clean:fee,inc:pee,diff:Eee,major:Cee,minor:mee,patch:yee,prerelease:Iee,compare:Bee,rcompare:Qee,compareLoose:wee,compareBuild:Ree,sort:See,rsort:Tee,gt:bee,lt:kee,eq:Dee,neq:xee,gte:vee,lte:Nee,cmp:Pee,coerce:Mee,Comparator:Fee,Range:Lee,satisfies:Oee,toComparators:Uee,maxSatisfying:_ee,minSatisfying:Hee,minVersion:qee,validRange:Gee,outside:Yee,gtr:Vee,ltr:Jee,intersects:Kee,simplifyRange:Wee,subset:zee,SemVer:dee,re:IT.re,src:IT.src,tokens:IT.t,SEMVER_SPEC_VERSION:oH.SEMVER_SPEC_VERSION,RELEASE_TYPES:oH.RELEASE_TYPES,compareIdentifiers:sH.compareIdentifiers,rcompareIdentifiers:sH.rcompareIdentifiers}});var cH=y((qqe,AH)=>{\"use strict\";var jee=ty();AH.exports=jee.satisfies(process.version,\">=15.7.0\")});var uH=y((Gqe,lH)=>{\"use strict\";var $ee=ty();lH.exports=$ee.satisfies(process.version,\">=16.9.0\")});var BT=y((Yqe,dH)=>{\"use strict\";var Xee=cH(),Zee=uH(),ete={ec:[\"ES256\",\"ES384\",\"ES512\"],rsa:[\"RS256\",\"PS256\",\"RS384\",\"PS384\",\"RS512\",\"PS512\"],\"rsa-pss\":[\"PS256\",\"PS384\",\"PS512\"]},tte={ES256:\"prime256v1\",ES384:\"secp384r1\",ES512:\"secp521r1\"};dH.exports=function(t,e){if(!t||!e)return;let r=e.asymmetricKeyType;if(!r)return;let n=ete[r];if(!n)throw new Error(`Unknown key type \"${r}\".`);if(!n.includes(t))throw new Error(`\"alg\" parameter for \"${r}\" key type must be one of: ${n.join(\", \")}.`);if(Xee)switch(r){case\"ec\":let i=e.asymmetricKeyDetails.namedCurve,o=tte[t];if(i!==o)throw new Error(`\"alg\" parameter \"${t}\" requires curve \"${o}\".`);break;case\"rsa-pss\":if(Zee){let s=parseInt(t.slice(-3),10),{hashAlgorithm:a,mgf1HashAlgorithm:A,saltLength:c}=e.asymmetricKeyDetails;if(a!==`sha${s}`||A!==a)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of \"alg\" ${t}.`);if(c!==void 0&&c>s>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of \"alg\" ${t}.`)}break}}});var QT=y((Vqe,hH)=>{\"use strict\";var rte=ty();hH.exports=rte.satisfies(process.version,\"^6.12.0 || >=8.0.0\")});var pH=y((Jqe,fH)=>{\"use strict\";var ot=sg(),nte=tT(),gH=rT(),ite=eT(),ote=nT(),ste=BT(),ate=QT(),Ate=Um(),{KeyObject:cte,createSecretKey:lte,createPublicKey:ute}=require(\"crypto\"),wT=[\"RS256\",\"RS384\",\"RS512\"],dte=[\"ES256\",\"ES384\",\"ES512\"],RT=[\"RS256\",\"RS384\",\"RS512\"],hte=[\"HS256\",\"HS384\",\"HS512\"];ate&&(wT.splice(wT.length,0,\"PS256\",\"PS384\",\"PS512\"),RT.splice(RT.length,0,\"PS256\",\"PS384\",\"PS512\"));fH.exports=function(t,e,r,n){typeof r==\"function\"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let i;if(n?i=n:i=function(l,u){if(l)throw l;return u},r.clockTimestamp&&typeof r.clockTimestamp!=\"number\")return i(new ot(\"clockTimestamp must be a number\"));if(r.nonce!==void 0&&(typeof r.nonce!=\"string\"||r.nonce.trim()===\"\"))return i(new ot(\"nonce must be a non-empty string\"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!=\"boolean\")return i(new ot(\"allowInvalidAsymmetricKeyTypes must be a boolean\"));let o=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return i(new ot(\"jwt must be provided\"));if(typeof t!=\"string\")return i(new ot(\"jwt must be a string\"));let s=t.split(\".\");if(s.length!==3)return i(new ot(\"jwt malformed\"));let a;try{a=ite(t,{complete:!0})}catch(l){return i(l)}if(!a)return i(new ot(\"invalid token\"));let A=a.header,c;if(typeof e==\"function\"){if(!n)return i(new ot(\"verify must be called asynchronous if secret or public key is provided as a callback\"));c=e}else c=function(l,u){return u(null,e)};return c(A,function(l,u){if(l)return i(new ot(\"error in secret or public key callback: \"+l.message));let d=s[2].trim()!==\"\";if(!d&&u)return i(new ot(\"jwt signature is required\"));if(d&&!u)return i(new ot(\"secret or public key must be provided\"));if(!d&&!r.algorithms)return i(new ot('please specify \"none\" in \"algorithms\" to verify unsigned tokens'));if(u!=null&&!(u instanceof cte))try{u=ute(u)}catch{try{u=lte(typeof u==\"string\"?Buffer.from(u):u)}catch{return i(new ot(\"secretOrPublicKey is not valid key material\"))}}if(r.algorithms||(u.type===\"secret\"?r.algorithms=hte:[\"rsa\",\"rsa-pss\"].includes(u.asymmetricKeyType)?r.algorithms=RT:u.asymmetricKeyType===\"ec\"?r.algorithms=dte:r.algorithms=wT),r.algorithms.indexOf(a.header.alg)===-1)return i(new ot(\"invalid algorithm\"));if(A.alg.startsWith(\"HS\")&&u.type!==\"secret\")return i(new ot(`secretOrPublicKey must be a symmetric key when using ${A.alg}`));if(/^(?:RS|PS|ES)/.test(A.alg)&&u.type!==\"public\")return i(new ot(`secretOrPublicKey must be an asymmetric key when using ${A.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{ste(A.alg,u)}catch(p){return i(p)}let h;try{h=Ate.verify(t,a.header.alg,u)}catch(p){return i(p)}if(!h)return i(new ot(\"invalid signature\"));let g=a.payload;if(typeof g.nbf<\"u\"&&!r.ignoreNotBefore){if(typeof g.nbf!=\"number\")return i(new ot(\"invalid nbf value\"));if(g.nbf>o+(r.clockTolerance||0))return i(new nte(\"jwt not active\",new Date(g.nbf*1e3)))}if(typeof g.exp<\"u\"&&!r.ignoreExpiration){if(typeof g.exp!=\"number\")return i(new ot(\"invalid exp value\"));if(o>=g.exp+(r.clockTolerance||0))return i(new gH(\"jwt expired\",new Date(g.exp*1e3)))}if(r.audience){let p=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(g.aud)?g.aud:[g.aud]).some(function(m){return p.some(function(B){return B instanceof RegExp?B.test(m):B===m})}))return i(new ot(\"jwt audience invalid. expected: \"+p.join(\" or \")))}if(r.issuer&&(typeof r.issuer==\"string\"&&g.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(g.iss)===-1))return i(new ot(\"jwt issuer invalid. expected: \"+r.issuer));if(r.subject&&g.sub!==r.subject)return i(new ot(\"jwt subject invalid. expected: \"+r.subject));if(r.jwtid&&g.jti!==r.jwtid)return i(new ot(\"jwt jwtid invalid. expected: \"+r.jwtid));if(r.nonce&&g.nonce!==r.nonce)return i(new ot(\"jwt nonce invalid. expected: \"+r.nonce));if(r.maxAge){if(typeof g.iat!=\"number\")return i(new ot(\"iat required when maxAge is specified\"));let p=ote(r.maxAge,g.iat);if(typeof p>\"u\")return i(new ot('\"maxAge\" should be a number of seconds or string representing a timespan eg: \"1d\", \"20h\", 60'));if(o>=p+(r.clockTolerance||0))return i(new gH(\"maxAge exceeded\",new Date(p*1e3)))}if(r.complete===!0){let p=a.signature;return i(null,{header:A,payload:g,signature:p})}return i(null,g)})}});var BH=y((Kqe,IH)=>{\"use strict\";var EH=1/0,mH=9007199254740991,gte=17976931348623157e292,CH=NaN,fte=\"[object Arguments]\",pte=\"[object Function]\",Ete=\"[object GeneratorFunction]\",Cte=\"[object String]\",mte=\"[object Symbol]\",yte=/^\\s+|\\s+$/g,Ite=/^[-+]0x[0-9a-f]+$/i,Bte=/^0b[01]+$/i,Qte=/^0o[0-7]+$/i,wte=/^(?:0|[1-9]\\d*)$/,Rte=parseInt;function Ste(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Tte(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function bte(t,e,r){if(e!==e)return Tte(t,kte,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function kte(t){return t!==t}function Dte(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function xte(t,e){return Ste(e,function(r){return t[r]})}function vte(t,e){return function(r){return t(e(r))}}var ry=Object.prototype,TT=ry.hasOwnProperty,ny=ry.toString,Nte=ry.propertyIsEnumerable,Pte=vte(Object.keys,Object),Mte=Math.max;function Fte(t,e){var r=yH(t)||Hte(t)?Dte(t.length,String):[],n=r.length,i=!!n;for(var o in t)(e||TT.call(t,o))&&!(i&&(o==\"length\"||Ote(o,n)))&&r.push(o);return r}function Lte(t){if(!Ute(t))return Pte(t);var e=[];for(var r in Object(t))TT.call(t,r)&&r!=\"constructor\"&&e.push(r);return e}function Ote(t,e){return e=e??mH,!!e&&(typeof t==\"number\"||wte.test(t))&&t>-1&&t%1==0&&t<e}function Ute(t){var e=t&&t.constructor,r=typeof e==\"function\"&&e.prototype||ry;return t===r}function _te(t,e,r,n){t=bT(t)?t:$te(t),r=r&&!n?Wte(r):0;var i=t.length;return r<0&&(r=Mte(i+r,0)),Vte(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&bte(t,e,r)>-1}function Hte(t){return qte(t)&&TT.call(t,\"callee\")&&(!Nte.call(t,\"callee\")||ny.call(t)==fte)}var yH=Array.isArray;function bT(t){return t!=null&&Yte(t.length)&&!Gte(t)}function qte(t){return kT(t)&&bT(t)}function Gte(t){var e=ST(t)?ny.call(t):\"\";return e==pte||e==Ete}function Yte(t){return typeof t==\"number\"&&t>-1&&t%1==0&&t<=mH}function ST(t){var e=typeof t;return!!t&&(e==\"object\"||e==\"function\")}function kT(t){return!!t&&typeof t==\"object\"}function Vte(t){return typeof t==\"string\"||!yH(t)&&kT(t)&&ny.call(t)==Cte}function Jte(t){return typeof t==\"symbol\"||kT(t)&&ny.call(t)==mte}function Kte(t){if(!t)return t===0?t:0;if(t=zte(t),t===EH||t===-EH){var e=t<0?-1:1;return e*gte}return t===t?t:0}function Wte(t){var e=Kte(t),r=e%1;return e===e?r?e-r:e:0}function zte(t){if(typeof t==\"number\")return t;if(Jte(t))return CH;if(ST(t)){var e=typeof t.valueOf==\"function\"?t.valueOf():t;t=ST(e)?e+\"\":e}if(typeof t!=\"string\")return t===0?t:+t;t=t.replace(yte,\"\");var r=Bte.test(t);return r||Qte.test(t)?Rte(t.slice(2),r?2:8):Ite.test(t)?CH:+t}function jte(t){return bT(t)?Fte(t):Lte(t)}function $te(t){return t?xte(t,jte(t)):[]}IH.exports=_te});var wH=y((Wqe,QH)=>{\"use strict\";var Xte=\"[object Boolean]\",Zte=Object.prototype,ere=Zte.toString;function tre(t){return t===!0||t===!1||rre(t)&&ere.call(t)==Xte}function rre(t){return!!t&&typeof t==\"object\"}QH.exports=tre});var kH=y((zqe,bH)=>{\"use strict\";var RH=1/0,nre=17976931348623157e292,SH=NaN,ire=\"[object Symbol]\",ore=/^\\s+|\\s+$/g,sre=/^[-+]0x[0-9a-f]+$/i,are=/^0b[01]+$/i,Are=/^0o[0-7]+$/i,cre=parseInt,lre=Object.prototype,ure=lre.toString;function dre(t){return typeof t==\"number\"&&t==pre(t)}function TH(t){var e=typeof t;return!!t&&(e==\"object\"||e==\"function\")}function hre(t){return!!t&&typeof t==\"object\"}function gre(t){return typeof t==\"symbol\"||hre(t)&&ure.call(t)==ire}function fre(t){if(!t)return t===0?t:0;if(t=Ere(t),t===RH||t===-RH){var e=t<0?-1:1;return e*nre}return t===t?t:0}function pre(t){var e=fre(t),r=e%1;return e===e?r?e-r:e:0}function Ere(t){if(typeof t==\"number\")return t;if(gre(t))return SH;if(TH(t)){var e=typeof t.valueOf==\"function\"?t.valueOf():t;t=TH(e)?e+\"\":e}if(typeof t!=\"string\")return t===0?t:+t;t=t.replace(ore,\"\");var r=are.test(t);return r||Are.test(t)?cre(t.slice(2),r?2:8):sre.test(t)?SH:+t}bH.exports=dre});var xH=y((jqe,DH)=>{\"use strict\";var Cre=\"[object Number]\",mre=Object.prototype,yre=mre.toString;function Ire(t){return!!t&&typeof t==\"object\"}function Bre(t){return typeof t==\"number\"||Ire(t)&&yre.call(t)==Cre}DH.exports=Bre});var MH=y(($qe,PH)=>{\"use strict\";var Qre=\"[object Object]\";function wre(t){var e=!1;if(t!=null&&typeof t.toString!=\"function\")try{e=!!(t+\"\")}catch{}return e}function Rre(t,e){return function(r){return t(e(r))}}var Sre=Function.prototype,vH=Object.prototype,NH=Sre.toString,Tre=vH.hasOwnProperty,bre=NH.call(Object),kre=vH.toString,Dre=Rre(Object.getPrototypeOf,Object);function xre(t){return!!t&&typeof t==\"object\"}function vre(t){if(!xre(t)||kre.call(t)!=Qre||wre(t))return!1;var e=Dre(t);if(e===null)return!0;var r=Tre.call(e,\"constructor\")&&e.constructor;return typeof r==\"function\"&&r instanceof r&&NH.call(r)==bre}PH.exports=vre});var LH=y((Xqe,FH)=>{\"use strict\";var Nre=\"[object String]\",Pre=Object.prototype,Mre=Pre.toString,Fre=Array.isArray;function Lre(t){return!!t&&typeof t==\"object\"}function Ore(t){return typeof t==\"string\"||!Fre(t)&&Lre(t)&&Mre.call(t)==Nre}FH.exports=Ore});var qH=y((Zqe,HH)=>{\"use strict\";var Ure=\"Expected a function\",OH=1/0,_re=17976931348623157e292,UH=NaN,Hre=\"[object Symbol]\",qre=/^\\s+|\\s+$/g,Gre=/^[-+]0x[0-9a-f]+$/i,Yre=/^0b[01]+$/i,Vre=/^0o[0-7]+$/i,Jre=parseInt,Kre=Object.prototype,Wre=Kre.toString;function zre(t,e){var r;if(typeof e!=\"function\")throw new TypeError(Ure);return t=ene(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}function jre(t){return zre(2,t)}function _H(t){var e=typeof t;return!!t&&(e==\"object\"||e==\"function\")}function $re(t){return!!t&&typeof t==\"object\"}function Xre(t){return typeof t==\"symbol\"||$re(t)&&Wre.call(t)==Hre}function Zre(t){if(!t)return t===0?t:0;if(t=tne(t),t===OH||t===-OH){var e=t<0?-1:1;return e*_re}return t===t?t:0}function ene(t){var e=Zre(t),r=e%1;return e===e?r?e-r:e:0}function tne(t){if(typeof t==\"number\")return t;if(Xre(t))return UH;if(_H(t)){var e=typeof t.valueOf==\"function\"?t.valueOf():t;t=_H(e)?e+\"\":e}if(typeof t!=\"string\")return t===0?t:+t;t=t.replace(qre,\"\");var r=Yre.test(t);return r||Vre.test(t)?Jre(t.slice(2),r?2:8):Gre.test(t)?UH:+t}HH.exports=jre});var $H=y((eGe,jH)=>{\"use strict\";var GH=nT(),rne=QT(),nne=BT(),YH=Um(),ine=BH(),iy=wH(),VH=kH(),DT=xH(),KH=MH(),qs=LH(),one=qH(),{KeyObject:sne,createSecretKey:ane,createPrivateKey:Ane}=require(\"crypto\"),WH=[\"RS256\",\"RS384\",\"RS512\",\"ES256\",\"ES384\",\"ES512\",\"HS256\",\"HS384\",\"HS512\",\"none\"];rne&&WH.splice(3,0,\"PS256\",\"PS384\",\"PS512\");var cne={expiresIn:{isValid:function(t){return VH(t)||qs(t)&&t},message:'\"expiresIn\" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(t){return VH(t)||qs(t)&&t},message:'\"notBefore\" should be a number of seconds or string representing a timespan'},audience:{isValid:function(t){return qs(t)||Array.isArray(t)},message:'\"audience\" must be a string or array'},algorithm:{isValid:ine.bind(null,WH),message:'\"algorithm\" must be a valid string enum value'},header:{isValid:KH,message:'\"header\" must be an object'},encoding:{isValid:qs,message:'\"encoding\" must be a string'},issuer:{isValid:qs,message:'\"issuer\" must be a string'},subject:{isValid:qs,message:'\"subject\" must be a string'},jwtid:{isValid:qs,message:'\"jwtid\" must be a string'},noTimestamp:{isValid:iy,message:'\"noTimestamp\" must be a boolean'},keyid:{isValid:qs,message:'\"keyid\" must be a string'},mutatePayload:{isValid:iy,message:'\"mutatePayload\" must be a boolean'},allowInsecureKeySizes:{isValid:iy,message:'\"allowInsecureKeySizes\" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:iy,message:'\"allowInvalidAsymmetricKeyTypes\" must be a boolean'}},lne={iat:{isValid:DT,message:'\"iat\" should be a number of seconds'},exp:{isValid:DT,message:'\"exp\" should be a number of seconds'},nbf:{isValid:DT,message:'\"nbf\" should be a number of seconds'}};function zH(t,e,r,n){if(!KH(r))throw new Error('Expected \"'+n+'\" to be a plain object.');Object.keys(r).forEach(function(i){let o=t[i];if(!o){if(!e)throw new Error('\"'+i+'\" is not allowed in \"'+n+'\"');return}if(!o.isValid(r[i]))throw new Error(o.message)})}function une(t){return zH(cne,!1,t,\"options\")}function dne(t){return zH(lne,!0,t,\"payload\")}var JH={audience:\"aud\",issuer:\"iss\",subject:\"sub\",jwtid:\"jti\"},hne=[\"expiresIn\",\"notBefore\",\"noTimestamp\",\"audience\",\"issuer\",\"subject\",\"jwtid\"];jH.exports=function(t,e,r,n){typeof r==\"function\"?(n=r,r={}):r=r||{};let i=typeof t==\"object\"&&!Buffer.isBuffer(t),o=Object.assign({alg:r.algorithm||\"HS256\",typ:i?\"JWT\":void 0,kid:r.keyid},r.header);function s(c){if(n)return n(c);throw c}if(!e&&r.algorithm!==\"none\")return s(new Error(\"secretOrPrivateKey must have a value\"));if(e!=null&&!(e instanceof sne))try{e=Ane(e)}catch{try{e=ane(typeof e==\"string\"?Buffer.from(e):e)}catch{return s(new Error(\"secretOrPrivateKey is not valid key material\"))}}if(o.alg.startsWith(\"HS\")&&e.type!==\"secret\")return s(new Error(`secretOrPrivateKey must be a symmetric key when using ${o.alg}`));if(/^(?:RS|PS|ES)/.test(o.alg)){if(e.type!==\"private\")return s(new Error(`secretOrPrivateKey must be an asymmetric key when using ${o.alg}`));if(!r.allowInsecureKeySizes&&!o.alg.startsWith(\"ES\")&&e.asymmetricKeyDetails!==void 0&&e.asymmetricKeyDetails.modulusLength<2048)return s(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${o.alg}`))}if(typeof t>\"u\")return s(new Error(\"payload is required\"));if(i){try{dne(t)}catch(c){return s(c)}r.mutatePayload||(t=Object.assign({},t))}else{let c=hne.filter(function(l){return typeof r[l]<\"u\"});if(c.length>0)return s(new Error(\"invalid \"+c.join(\",\")+\" option for \"+typeof t+\" payload\"))}if(typeof t.exp<\"u\"&&typeof r.expiresIn<\"u\")return s(new Error('Bad \"options.expiresIn\" option the payload already has an \"exp\" property.'));if(typeof t.nbf<\"u\"&&typeof r.notBefore<\"u\")return s(new Error('Bad \"options.notBefore\" option the payload already has an \"nbf\" property.'));try{une(r)}catch(c){return s(c)}if(!r.allowInvalidAsymmetricKeyTypes)try{nne(o.alg,e)}catch(c){return s(c)}let a=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:i&&(t.iat=a),typeof r.notBefore<\"u\"){try{t.nbf=GH(r.notBefore,a)}catch(c){return s(c)}if(typeof t.nbf>\"u\")return s(new Error('\"notBefore\" should be a number of seconds or string representing a timespan eg: \"1d\", \"20h\", 60'))}if(typeof r.expiresIn<\"u\"&&typeof t==\"object\"){try{t.exp=GH(r.expiresIn,a)}catch(c){return s(c)}if(typeof t.exp>\"u\")return s(new Error('\"expiresIn\" should be a number of seconds or string representing a timespan eg: \"1d\", \"20h\", 60'))}Object.keys(JH).forEach(function(c){let l=JH[c];if(typeof r[c]<\"u\"){if(typeof t[l]<\"u\")return s(new Error('Bad \"options.'+c+'\" option. The payload already has an \"'+l+'\" property.'));t[l]=r[c]}});let A=r.encoding||\"utf8\";if(typeof n==\"function\")n=n&&one(n),YH.createSign({header:o,privateKey:e,payload:t,encoding:A}).once(\"error\",n).once(\"done\",function(c){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(o.alg)&&c.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${o.alg}`));n(null,c)});else{let c=YH.sign({header:o,payload:t,secret:e,encoding:A});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(o.alg)&&c.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${o.alg}`);return c}}});var ZH=y((tGe,XH)=>{\"use strict\";XH.exports={decode:eT(),verify:pH(),sign:$H(),JsonWebTokenError:sg(),NotBeforeError:tT(),TokenExpiredError:rT()}});var h2=y(Ey=>{\"use strict\";Object.defineProperty(Ey,\"__esModule\",{value:!0});Ey.state=void 0;Ey.state={operationRequestMap:new WeakMap}});function sie(){try{return GT.default.statSync(\"/.dockerenv\"),!0}catch{return!1}}function aie(){try{return GT.default.readFileSync(\"/proc/self/cgroup\",\"utf8\").includes(\"docker\")}catch{return!1}}function YT(){return qT===void 0&&(qT=sie()||aie()),qT}var GT,qT,b2=$n(()=>{\"use strict\";GT=Ae(require(\"node:fs\"),1)});function ru(){return VT===void 0&&(VT=Aie()||YT()),VT}var k2,VT,Aie,JT=$n(()=>{\"use strict\";k2=Ae(require(\"node:fs\"),1);b2();Aie=()=>{try{return k2.default.statSync(\"/run/.containerenv\"),!0}catch{return!1}}});var KT,x2,v2,D2,Ks,WT=$n(()=>{\"use strict\";KT=Ae(require(\"node:process\"),1),x2=Ae(require(\"node:os\"),1),v2=Ae(require(\"node:fs\"),1);JT();D2=()=>{if(KT.default.platform!==\"linux\")return!1;if(x2.default.release().toLowerCase().includes(\"microsoft\"))return!ru();try{return v2.default.readFileSync(\"/proc/version\",\"utf8\").toLowerCase().includes(\"microsoft\")?!ru():!1}catch{return!1}},Ks=KT.default.env.__IS_WSL_TEST__?D2:D2()});var zT,Sg,cie,lie,jT,N2=$n(()=>{\"use strict\";zT=Ae(require(\"node:process\"),1),Sg=Ae(require(\"node:fs/promises\"),1);WT();WT();cie=(()=>{let t=\"/mnt/\",e;return async function(){if(e)return e;let r=\"/etc/wsl.conf\",n=!1;try{await Sg.default.access(r,Sg.constants.F_OK),n=!0}catch{}if(!n)return t;let i=await Sg.default.readFile(r,{encoding:\"utf8\"}),o=/(?<!#.*)root\\s*=\\s*(?<mountPoint>.*)/g.exec(i);return o?(e=o.groups.mountPoint.trim(),e=e.endsWith(\"/\")?e:`${e}/`,e):t}})(),lie=async()=>`${await cie()}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`,jT=async()=>Ks?lie():`${zT.default.env.SYSTEMROOT||zT.default.env.windir||String.raw`C:\\Windows`}\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe`});function Ws(t,e,r){let n=i=>Object.defineProperty(t,e,{value:i,enumerable:!0,writable:!0});return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),t}var P2=$n(()=>{\"use strict\"});async function $T(){if(F2.default.platform!==\"darwin\")throw new Error(\"macOS only\");let{stdout:t}=await uie(\"defaults\",[\"read\",\"com.apple.LaunchServices/com.apple.launchservices.secure\",\"LSHandlers\"]);return/LSHandlerRoleAll = \"(?!-)(?<id>[^\"]+?)\";\\s+?LSHandlerURLScheme = (?:http|https);/.exec(t)?.groups.id??\"com.apple.Safari\"}var M2,F2,L2,uie,O2=$n(()=>{\"use strict\";M2=require(\"node:util\"),F2=Ae(require(\"node:process\"),1),L2=require(\"node:child_process\"),uie=(0,M2.promisify)(L2.execFile)});async function H2(t,{humanReadableOutput:e=!0,signal:r}={}){if(U2.default.platform!==\"darwin\")throw new Error(\"macOS only\");let n=e?[]:[\"-ss\"],i={};r&&(i.signal=r);let{stdout:o}=await die(\"osascript\",[\"-e\",t,n],i);return o.trim()}var U2,_2,XT,die,q2=$n(()=>{\"use strict\";U2=Ae(require(\"node:process\"),1),_2=require(\"node:util\"),XT=require(\"node:child_process\"),die=(0,_2.promisify)(XT.execFile)});async function ZT(t){return H2(`tell application \"Finder\" to set app_path to application file id \"${t}\" as string\ntell application \"System Events\" to get value of property list item \"CFBundleName\" of property list file (app_path & \":Contents:Info.plist\")`)}var G2=$n(()=>{\"use strict\";q2()});async function eb(t=hie){let{stdout:e}=await t(\"reg\",[\"QUERY\",\" HKEY_CURRENT_USER\\\\Software\\\\Microsoft\\\\Windows\\\\Shell\\\\Associations\\\\UrlAssociations\\\\http\\\\UserChoice\",\"/v\",\"ProgId\"]),r=/ProgId\\s*REG_SZ\\s*(?<id>\\S+)/.exec(e);if(!r)throw new my(`Cannot find Windows browser in stdout: ${JSON.stringify(e)}`);let{id:n}=r.groups,i=gie[n];if(!i)throw new my(`Unknown browser ID: ${n}`);return i}var Y2,V2,hie,gie,my,J2=$n(()=>{\"use strict\";Y2=require(\"node:util\"),V2=require(\"node:child_process\"),hie=(0,Y2.promisify)(V2.execFile),gie={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:\"Edge\",id:\"com.microsoft.edge.old\"},MSEdgeDHTML:{name:\"Edge\",id:\"com.microsoft.edge\"},MSEdgeHTM:{name:\"Edge\",id:\"com.microsoft.edge\"},\"IE.HTTP\":{name:\"Internet Explorer\",id:\"com.microsoft.ie\"},FirefoxURL:{name:\"Firefox\",id:\"org.mozilla.firefox\"},ChromeHTML:{name:\"Chrome\",id:\"com.google.chrome\"},BraveHTML:{name:\"Brave\",id:\"com.brave.Browser\"},BraveBHTML:{name:\"Brave Beta\",id:\"com.brave.Browser.beta\"},BraveSSHTM:{name:\"Brave Nightly\",id:\"com.brave.Browser.nightly\"}},my=class extends Error{}});async function tb(){if(yy.default.platform===\"darwin\"){let t=await $T();return{name:await ZT(t),id:t}}if(yy.default.platform===\"linux\"){let{stdout:t}=await fie(\"xdg-mime\",[\"query\",\"default\",\"x-scheme-handler/http\"]),e=t.trim();return{name:pie(e.replace(/.desktop$/,\"\").replace(\"-\",\" \")),id:e}}if(yy.default.platform===\"win32\")return eb();throw new Error(\"Only macOS, Linux, and Windows are supported\")}var K2,yy,W2,fie,pie,z2=$n(()=>{\"use strict\";K2=require(\"node:util\"),yy=Ae(require(\"node:process\"),1),W2=require(\"node:child_process\");O2();G2();J2();fie=(0,K2.promisify)(W2.execFile),pie=t=>t.toLowerCase().replaceAll(/(?:^|\\s|-)\\S/g,e=>e.toUpperCase())});var rq={};fr(rq,{apps:()=>zs,default:()=>Iie,openApp:()=>yie});async function Cie(){let t=await jT(),e=String.raw`(Get-ItemProperty -Path \"HKCU:\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice\").ProgId`,r=ib.Buffer.from(e,\"utf16le\").toString(\"base64\"),{stdout:n}=await Eie(t,[\"-NoProfile\",\"-NonInteractive\",\"-ExecutionPolicy\",\"Bypass\",\"-EncodedCommand\",r],{encoding:\"utf8\"}),i=n.trim(),o={ChromeHTML:\"com.google.chrome\",BraveHTML:\"com.brave.Browser\",MSEdgeHTM:\"com.microsoft.edge\",FirefoxURL:\"org.mozilla.firefox\"};return o[i]?{id:o[i]}:{}}function Z2(t){if(typeof t==\"string\"||Array.isArray(t))return t;let{[$2]:e}=t;if(!e)throw new Error(`${$2} is not supported`);return e}function By({[nu]:t},{wsl:e}){if(e&&Ks)return Z2(e);if(!t)throw new Error(`${nu} is not supported`);return Z2(t)}var nb,ib,ob,eq,tq,sb,Iy,Bie,Eie,rb,j2,nu,$2,X2,Tg,mie,yie,zs,Iie,nq=$n(()=>{\"use strict\";nb=Ae(require(\"node:process\"),1),ib=require(\"node:buffer\"),ob=Ae(require(\"node:path\"),1),eq=require(\"node:url\"),tq=require(\"node:util\"),sb=Ae(require(\"node:child_process\"),1),Iy=Ae(require(\"node:fs/promises\"),1);N2();P2();z2();JT();Bie={},Eie=(0,tq.promisify)(sb.default.execFile),rb=ob.default.dirname((0,eq.fileURLToPath)(Bie.url)),j2=ob.default.join(rb,\"xdg-open\"),{platform:nu,arch:$2}=nb.default;X2=async(t,e)=>{let r;for(let n of t)try{return await e(n)}catch(i){r=i}throw r},Tg=async t=>{if(t={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...t},Array.isArray(t.app))return X2(t.app,a=>Tg({...t,app:a}));let{name:e,arguments:r=[]}=t.app??{};if(r=[...r],Array.isArray(e))return X2(e,a=>Tg({...t,app:{name:a,arguments:r}}));if(e===\"browser\"||e===\"browserPrivate\"){let a={\"com.google.chrome\":\"chrome\",\"google-chrome.desktop\":\"chrome\",\"com.brave.Browser\":\"brave\",\"org.mozilla.firefox\":\"firefox\",\"firefox.desktop\":\"firefox\",\"com.microsoft.msedge\":\"edge\",\"com.microsoft.edge\":\"edge\",\"com.microsoft.edgemac\":\"edge\",\"microsoft-edge.desktop\":\"edge\"},A={chrome:\"--incognito\",brave:\"--incognito\",firefox:\"--private-window\",edge:\"--inPrivate\"},c=Ks?await Cie():await tb();if(c.id in a){let l=a[c.id];return e===\"browserPrivate\"&&r.push(A[l]),Tg({...t,app:{name:zs[l],arguments:r}})}throw new Error(`${c.name} is not supported as a default browser`)}let n,i=[],o={};if(nu===\"darwin\")n=\"open\",t.wait&&i.push(\"--wait-apps\"),t.background&&i.push(\"--background\"),t.newInstance&&i.push(\"--new\"),e&&i.push(\"-a\",e);else if(nu===\"win32\"||Ks&&!ru()&&!e){n=await jT(),i.push(\"-NoProfile\",\"-NonInteractive\",\"-ExecutionPolicy\",\"Bypass\",\"-EncodedCommand\"),Ks||(o.windowsVerbatimArguments=!0);let a=[\"Start\"];t.wait&&a.push(\"-Wait\"),e?(a.push(`\"\\`\"${e}\\`\"\"`),t.target&&r.push(t.target)):t.target&&a.push(`\"${t.target}\"`),r.length>0&&(r=r.map(A=>`\"\\`\"${A}\\`\"\"`),a.push(\"-ArgumentList\",r.join(\",\"))),t.target=ib.Buffer.from(a.join(\" \"),\"utf16le\").toString(\"base64\")}else{if(e)n=e;else{let a=!rb||rb===\"/\",A=!1;try{await Iy.default.access(j2,Iy.constants.X_OK),A=!0}catch{}n=nb.default.versions.electron??(nu===\"android\"||a||!A)?\"xdg-open\":j2}r.length>0&&i.push(...r),t.wait||(o.stdio=\"ignore\",o.detached=!0)}nu===\"darwin\"&&r.length>0&&i.push(\"--args\",...r),t.target&&i.push(t.target);let s=sb.default.spawn(n,i,o);return t.wait?new Promise((a,A)=>{s.once(\"error\",A),s.once(\"close\",c=>{if(!t.allowNonzeroExitCode&&c>0){A(new Error(`Exited with code ${c}`));return}a(s)})}):(s.unref(),s)},mie=(t,e)=>{if(typeof t!=\"string\")throw new TypeError(\"Expected a `target`\");return Tg({...e,target:t})},yie=(t,e)=>{if(typeof t!=\"string\"&&!Array.isArray(t))throw new TypeError(\"Expected a valid `name`\");let{arguments:r=[]}=e??{};if(r!=null&&!Array.isArray(r))throw new TypeError(\"Expected `appArguments` as Array type\");return Tg({...e,app:{name:t,arguments:r}})};zs={};Ws(zs,\"chrome\",()=>By({darwin:\"google chrome\",win32:\"chrome\",linux:[\"google-chrome\",\"google-chrome-stable\",\"chromium\"]},{wsl:{ia32:\"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe\",x64:[\"/mnt/c/Program Files/Google/Chrome/Application/chrome.exe\",\"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe\"]}}));Ws(zs,\"brave\",()=>By({darwin:\"brave browser\",win32:\"brave\",linux:[\"brave-browser\",\"brave\"]},{wsl:{ia32:\"/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe\",x64:[\"/mnt/c/Program Files/BraveSoftware/Brave-Browser/Application/brave.exe\",\"/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe\"]}}));Ws(zs,\"firefox\",()=>By({darwin:\"firefox\",win32:String.raw`C:\\Program Files\\Mozilla Firefox\\firefox.exe`,linux:\"firefox\"},{wsl:\"/mnt/c/Program Files/Mozilla Firefox/firefox.exe\"}));Ws(zs,\"edge\",()=>By({darwin:\"microsoft edge\",win32:\"msedge\",linux:[\"microsoft-edge\",\"microsoft-edge-dev\"]},{wsl:\"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe\"}));Ws(zs,\"browser\",()=>\"browser\");Ws(zs,\"browserPrivate\",()=>\"browserPrivate\");Iie=mie});var JA=\"/_partitionKey\";var E={HttpHeaders:{Authorization:\"authorization\",ETag:\"etag\",MethodOverride:\"X-HTTP-Method\",Slug:\"Slug\",ContentType:\"Content-Type\",LastModified:\"Last-Modified\",ContentEncoding:\"Content-Encoding\",CharacterSet:\"CharacterSet\",UserAgent:\"User-Agent\",CustomUserAgent:\"x-ms-useragent\",IfModifiedSince:\"If-Modified-Since\",IfMatch:\"If-Match\",IfNoneMatch:\"If-None-Match\",ContentLength:\"Content-Length\",AcceptEncoding:\"Accept-Encoding\",KeepAlive:\"Keep-Alive\",CacheControl:\"Cache-Control\",TransferEncoding:\"Transfer-Encoding\",ContentLanguage:\"Content-Language\",ContentLocation:\"Content-Location\",ContentMd5:\"Content-Md5\",ContentRange:\"Content-Range\",Accept:\"Accept\",AcceptCharset:\"Accept-Charset\",AcceptLanguage:\"Accept-Language\",IfRange:\"If-Range\",IfUnmodifiedSince:\"If-Unmodified-Since\",MaxForwards:\"Max-Forwards\",ProxyAuthorization:\"Proxy-Authorization\",AcceptRanges:\"Accept-Ranges\",ProxyAuthenticate:\"Proxy-Authenticate\",RetryAfter:\"Retry-After\",SetCookie:\"Set-Cookie\",WwwAuthenticate:\"Www-Authenticate\",Origin:\"Origin\",Host:\"Host\",AccessControlAllowOrigin:\"Access-Control-Allow-Origin\",AccessControlAllowHeaders:\"Access-Control-Allow-Headers\",KeyValueEncodingFormat:\"application/x-www-form-urlencoded\",WrapAssertionFormat:\"wrap_assertion_format\",WrapAssertion:\"wrap_assertion\",WrapScope:\"wrap_scope\",SimpleToken:\"SWT\",HttpDate:\"date\",Prefer:\"Prefer\",Location:\"Location\",Referer:\"referer\",A_IM:\"A-IM\",PreferReturnMinimal:\"return=minimal\",Query:\"x-ms-documentdb-query\",IsQuery:\"x-ms-documentdb-isquery\",IsQueryPlan:\"x-ms-cosmos-is-query-plan-request\",SupportedQueryFeatures:\"x-ms-cosmos-supported-query-features\",QueryVersion:\"x-ms-cosmos-query-version\",Continuation:\"x-ms-continuation\",ContinuationToken:\"x-ms-continuation-token\",PageSize:\"x-ms-max-item-count\",ItemCount:\"x-ms-item-count\",ChangeFeedWireFormatVersion:\"x-ms-cosmos-changefeed-wire-format-version\",ActivityId:\"x-ms-activity-id\",CorrelatedActivityId:\"x-ms-cosmos-correlated-activityid\",PreTriggerInclude:\"x-ms-documentdb-pre-trigger-include\",PreTriggerExclude:\"x-ms-documentdb-pre-trigger-exclude\",PostTriggerInclude:\"x-ms-documentdb-post-trigger-include\",PostTriggerExclude:\"x-ms-documentdb-post-trigger-exclude\",IndexingDirective:\"x-ms-indexing-directive\",SessionToken:\"x-ms-session-token\",ConsistencyLevel:\"x-ms-consistency-level\",XDate:\"x-ms-date\",CollectionPartitionInfo:\"x-ms-collection-partition-info\",CollectionServiceInfo:\"x-ms-collection-service-info\",RetryAfterInMilliseconds:\"x-ms-retry-after-ms\",RetryAfterInMs:\"x-ms-retry-after-ms\",IsFeedUnfiltered:\"x-ms-is-feed-unfiltered\",ResourceTokenExpiry:\"x-ms-documentdb-expiry-seconds\",EnableScanInQuery:\"x-ms-documentdb-query-enable-scan\",EmitVerboseTracesInQuery:\"x-ms-documentdb-query-emit-traces\",EnableCrossPartitionQuery:\"x-ms-documentdb-query-enablecrosspartition\",ParallelizeCrossPartitionQuery:\"x-ms-documentdb-query-parallelizecrosspartitionquery\",ResponseContinuationTokenLimitInKB:\"x-ms-documentdb-responsecontinuationtokenlimitinkb\",SDKSupportedCapabilities:\"x-ms-cosmos-sdk-supportedcapabilities\",PopulateQueryMetrics:\"x-ms-documentdb-populatequerymetrics\",QueryMetrics:\"x-ms-documentdb-query-metrics\",PopulateIndexMetrics:\"x-ms-cosmos-populateindexmetrics-V2\",IndexUtilization:\"x-ms-cosmos-index-utilization\",Version:\"x-ms-version\",OwnerFullName:\"x-ms-alt-content-path\",OwnerId:\"x-ms-content-path\",PartitionKey:\"x-ms-documentdb-partitionkey\",PartitionKeyRangeID:\"x-ms-documentdb-partitionkeyrangeid\",StartEpk:\"x-ms-start-epk\",EndEpk:\"x-ms-end-epk\",ReadFeedKeyType:\"x-ms-read-key-type\",MaxEntityCount:\"x-ms-root-entity-max-count\",CurrentEntityCount:\"x-ms-root-entity-current-count\",CollectionQuotaInMb:\"x-ms-collection-quota-mb\",CollectionCurrentUsageInMb:\"x-ms-collection-usage-mb\",MaxMediaStorageUsageInMB:\"x-ms-max-media-storage-usage-mb\",CurrentMediaStorageUsageInMB:\"x-ms-media-storage-usage-mb\",RequestCharge:\"x-ms-request-charge\",PopulateQuotaInfo:\"x-ms-documentdb-populatequotainfo\",MaxResourceQuota:\"x-ms-resource-quota\",OfferType:\"x-ms-offer-type\",OfferThroughput:\"x-ms-offer-throughput\",AutoscaleSettings:\"x-ms-cosmos-offer-autopilot-settings\",DisableRUPerMinuteUsage:\"x-ms-documentdb-disable-ru-per-minute-usage\",IsRUPerMinuteUsed:\"x-ms-documentdb-is-ru-per-minute-used\",OfferIsRUPerMinuteThroughputEnabled:\"x-ms-offer-is-ru-per-minute-throughput-enabled\",IndexTransformationProgress:\"x-ms-documentdb-collection-index-transformation-progress\",LazyIndexingProgress:\"x-ms-documentdb-collection-lazy-indexing-progress\",IsUpsert:\"x-ms-documentdb-is-upsert\",SubStatus:\"x-ms-substatus\",EnableScriptLogging:\"x-ms-documentdb-script-enable-logging\",ScriptLogResults:\"x-ms-documentdb-script-log-results\",ALLOW_MULTIPLE_WRITES:\"x-ms-cosmos-allow-tentative-writes\",IsBatchRequest:\"x-ms-cosmos-is-batch-request\",IsBatchAtomic:\"x-ms-cosmos-batch-atomic\",BatchContinueOnError:\"x-ms-cosmos-batch-continue-on-error\",DedicatedGatewayPerRequestCacheStaleness:\"x-ms-dedicatedgateway-max-age\",DedicatedGatewayPerRequestBypassCache:\"x-ms-dedicatedgateway-bypass-cache\",ForceRefresh:\"x-ms-force-refresh\",PriorityLevel:\"x-ms-cosmos-priority-level\",ThroughputBucket:\"x-ms-cosmos-throughput-bucket\",IsClientEncryptedHeader:\"x-ms-cosmos-is-client-encrypted\",IntendedCollectionHeader:\"x-ms-cosmos-intended-collection-rid\",DatabaseRidHeader:\"x-ms-cosmos-database-rid\",AllowCachedReadsHeader:\"x-ms-cosmos-allow-cachedreads\"},ThrottledRequestMaxRetryAttemptCount:9,ThrottledRequestMaxWaitTimeInSeconds:30,ThrottledRequestFixedRetryIntervalInMs:0,WritableLocations:\"writableLocations\",ReadableLocations:\"readableLocations\",LocationUnavailableExpirationTimeInMs:3e5,StalePartitionUnavailabilityRefreshIntervalInMs:6e4,AllowedPartitionUnavailabilityDurationInMs:3e5,ReadRequestFailureCountThreshold:10,WriteRequestFailureCountThreshold:5,ConsecutiveFailureCountResetIntervalInMS:6e4,ENABLE_MULTIPLE_WRITABLE_LOCATIONS:\"enableMultipleWriteLocations\",EnablePerPartitionFailover:\"enablePerPartitionFailoverBehavior\",DefaultUnavailableLocationExpirationTimeMS:3e5,ThrottleRetryCount:\"x-ms-throttle-retry-count\",ThrottleRetryWaitTimeInMs:\"x-ms-throttle-retry-wait-time-ms\",CurrentVersion:\"2020-07-15\",AzureNamespace:\"Azure.Cosmos\",AzurePackageName:\"@azure/cosmos\",SDKName:\"azure-cosmos-js\",SDKVersion:\"4.6.0\",CosmosDbDiagnosticLevelEnvVarName:\"AZURE_COSMOSDB_DIAGNOSTICS_LEVEL\",DefaultMaxBulkRequestBodySizeInBytes:220201,MaxBulkOperationsCount:100,BulkMaxDegreeOfConcurrency:20,Encryption:{DiagnosticsDecryptOperation:\"Decrypt\",DiagnosticsDuration:\"Duration in milliseconds\",DiagnosticsEncryptionDiagnostics:\"EncryptionDiagnostics\",DiagnosticsEncryptOperation:\"Encrypt\",DiagnosticsPropertiesEncryptedCount:\"Properties Encrypted Count\",DiagnosticsPropertiesDecryptedCount:\"Properties Decrypted Count\",DiagnosticsStartTime:\"Start time\"},Quota:{CollectionSize:\"collectionSize\"},Path:{Root:\"/\",DatabasesPathSegment:\"dbs\",CollectionsPathSegment:\"colls\",UsersPathSegment:\"users\",DocumentsPathSegment:\"docs\",PermissionsPathSegment:\"permissions\",StoredProceduresPathSegment:\"sprocs\",TriggersPathSegment:\"triggers\",UserDefinedFunctionsPathSegment:\"udfs\",ConflictsPathSegment:\"conflicts\",AttachmentsPathSegment:\"attachments\",PartitionKeyRangesPathSegment:\"pkranges\",SchemasPathSegment:\"schemas\",OffersPathSegment:\"offers\",TopologyPathSegment:\"topology\",DatabaseAccountPathSegment:\"databaseaccount\"},PartitionKeyRange:{MinInclusive:\"minInclusive\",MaxExclusive:\"maxExclusive\",Id:\"id\"},QueryRangeConstants:{MinInclusive:\"minInclusive\",MaxExclusive:\"maxExclusive\",min:\"min\"},EffectiveParitionKeyConstants:{MinimumInclusiveEffectivePartitionKey:\"\",MaximumExclusiveEffectivePartitionKey:\"FF\"},EffectivePartitionKeyConstants:{MinimumInclusiveEffectivePartitionKey:\"\",MaximumExclusiveEffectivePartitionKey:\"FF\"},AllVersionsAndDeletesChangeFeedWireFormatVersion:\"2021-09-15\",ChangeFeedIfNoneMatchStartFromNowHeader:\"*\",DefaultEncryptionCacheTimeToLiveInSeconds:7200,EncryptionCacheRefreshIntervalInMs:6e4,RequestTimeoutForReadsInMs:2e3},Bb=\"https://cosmos.azure.com/.default\",Py=\"type=aad&ver=1.0&sig=\",Qb=\"AADSTS500011\",Q;(function(t){t.none=\"\",t.database=\"dbs\",t.offer=\"offers\",t.user=\"users\",t.permission=\"permissions\",t.container=\"colls\",t.conflicts=\"conflicts\",t.sproc=\"sprocs\",t.udf=\"udfs\",t.trigger=\"triggers\",t.item=\"docs\",t.pkranges=\"pkranges\",t.partitionkey=\"partitionKey\",t.clientencryptionkey=\"clientencryptionkeys\"})(Q||(Q={}));var ht;(function(t){t.get=\"GET\",t.patch=\"PATCH\",t.post=\"POST\",t.put=\"PUT\",t.delete=\"DELETE\"})(ht||(ht={}));var X;(function(t){t.Create=\"create\",t.Replace=\"replace\",t.Upsert=\"upsert\",t.Delete=\"delete\",t.Read=\"read\",t.Query=\"query\",t.Execute=\"execute\",t.Batch=\"batch\",t.Patch=\"patch\"})(X||(X={}));var vy;(function(t){t.PrimaryMaster=\"PRIMARY_MASTER\",t.SecondaryMaster=\"SECONDARY_MASTER\",t.PrimaryReadOnly=\"PRIMARY_READONLY\",t.SecondaryReadOnly=\"SECONDARY_READONLY\"})(vy||(vy={}));var mb;(function(t){t.Item=\"ITEM\",t.StoredProcedure=\"STORED_PROCEDURE\",t.UserDefinedFunction=\"USER_DEFINED_FUNCTION\",t.Trigger=\"TRIGGER\"})(mb||(mb={}));var yb;(function(t){t[t.ScopeAccountReadValue=1]=\"ScopeAccountReadValue\",t[t.ScopeAccountListDatabasesValue=2]=\"ScopeAccountListDatabasesValue\",t[t.ScopeDatabaseReadValue=4]=\"ScopeDatabaseReadValue\",t[t.ScopeDatabaseReadOfferValue=8]=\"ScopeDatabaseReadOfferValue\",t[t.ScopeDatabaseListContainerValue=16]=\"ScopeDatabaseListContainerValue\",t[t.ScopeContainerReadValue=32]=\"ScopeContainerReadValue\",t[t.ScopeContainerReadOfferValue=64]=\"ScopeContainerReadOfferValue\",t[t.ScopeAccountCreateDatabasesValue=1]=\"ScopeAccountCreateDatabasesValue\",t[t.ScopeAccountDeleteDatabasesValue=2]=\"ScopeAccountDeleteDatabasesValue\",t[t.ScopeDatabaseDeleteValue=4]=\"ScopeDatabaseDeleteValue\",t[t.ScopeDatabaseReplaceOfferValue=8]=\"ScopeDatabaseReplaceOfferValue\",t[t.ScopeDatabaseCreateContainerValue=16]=\"ScopeDatabaseCreateContainerValue\",t[t.ScopeDatabaseDeleteContainerValue=32]=\"ScopeDatabaseDeleteContainerValue\",t[t.ScopeContainerReplaceValue=64]=\"ScopeContainerReplaceValue\",t[t.ScopeContainerDeleteValue=128]=\"ScopeContainerDeleteValue\",t[t.ScopeContainerReplaceOfferValue=256]=\"ScopeContainerReplaceOfferValue\",t[t.ScopeAccountReadAllAccessValue=65535]=\"ScopeAccountReadAllAccessValue\",t[t.ScopeDatabaseReadAllAccessValue=124]=\"ScopeDatabaseReadAllAccessValue\",t[t.ScopeContainersReadAllAccessValue=96]=\"ScopeContainersReadAllAccessValue\",t[t.ScopeAccountWriteAllAccessValue=65535]=\"ScopeAccountWriteAllAccessValue\",t[t.ScopeDatabaseWriteAllAccessValue=508]=\"ScopeDatabaseWriteAllAccessValue\",t[t.ScopeContainersWriteAllAccessValue=448]=\"ScopeContainersWriteAllAccessValue\",t[t.ScopeContainerExecuteQueriesValue=1]=\"ScopeContainerExecuteQueriesValue\",t[t.ScopeContainerReadFeedsValue=2]=\"ScopeContainerReadFeedsValue\",t[t.ScopeContainerReadStoredProceduresValue=4]=\"ScopeContainerReadStoredProceduresValue\",t[t.ScopeContainerReadUserDefinedFunctionsValue=8]=\"ScopeContainerReadUserDefinedFunctionsValue\",t[t.ScopeContainerReadTriggersValue=16]=\"ScopeContainerReadTriggersValue\",t[t.ScopeContainerReadConflictsValue=32]=\"ScopeContainerReadConflictsValue\",t[t.ScopeItemReadValue=64]=\"ScopeItemReadValue\",t[t.ScopeStoredProcedureReadValue=128]=\"ScopeStoredProcedureReadValue\",t[t.ScopeUserDefinedFunctionReadValue=256]=\"ScopeUserDefinedFunctionReadValue\",t[t.ScopeTriggerReadValue=512]=\"ScopeTriggerReadValue\",t[t.ScopeContainerCreateItemsValue=1]=\"ScopeContainerCreateItemsValue\",t[t.ScopeContainerReplaceItemsValue=2]=\"ScopeContainerReplaceItemsValue\",t[t.ScopeContainerUpsertItemsValue=4]=\"ScopeContainerUpsertItemsValue\",t[t.ScopeContainerDeleteItemsValue=8]=\"ScopeContainerDeleteItemsValue\",t[t.ScopeContainerCreateStoredProceduresValue=16]=\"ScopeContainerCreateStoredProceduresValue\",t[t.ScopeContainerReplaceStoredProceduresValue=32]=\"ScopeContainerReplaceStoredProceduresValue\",t[t.ScopeContainerDeleteStoredProceduresValue=64]=\"ScopeContainerDeleteStoredProceduresValue\",t[t.ScopeContainerExecuteStoredProceduresValue=128]=\"ScopeContainerExecuteStoredProceduresValue\",t[t.ScopeContainerCreateTriggersValue=256]=\"ScopeContainerCreateTriggersValue\",t[t.ScopeContainerReplaceTriggersValue=512]=\"ScopeContainerReplaceTriggersValue\",t[t.ScopeContainerDeleteTriggersValue=1024]=\"ScopeContainerDeleteTriggersValue\",t[t.ScopeContainerCreateUserDefinedFunctionsValue=2048]=\"ScopeContainerCreateUserDefinedFunctionsValue\",t[t.ScopeContainerReplaceUserDefinedFunctionsValue=4096]=\"ScopeContainerReplaceUserDefinedFunctionsValue\",t[t.ScopeContainerDeleteUserDefinedFunctionSValue=8192]=\"ScopeContainerDeleteUserDefinedFunctionSValue\",t[t.ScopeContainerDeleteCONFLICTSValue=16384]=\"ScopeContainerDeleteCONFLICTSValue\",t[t.ScopeItemReplaceValue=65536]=\"ScopeItemReplaceValue\",t[t.ScopeItemUpsertValue=131072]=\"ScopeItemUpsertValue\",t[t.ScopeItemDeleteValue=262144]=\"ScopeItemDeleteValue\",t[t.ScopeStoredProcedureReplaceValue=1048576]=\"ScopeStoredProcedureReplaceValue\",t[t.ScopeStoredProcedureDeleteValue=2097152]=\"ScopeStoredProcedureDeleteValue\",t[t.ScopeStoredProcedureExecuteValue=4194304]=\"ScopeStoredProcedureExecuteValue\",t[t.ScopeUserDefinedFunctionReplaceValue=8388608]=\"ScopeUserDefinedFunctionReplaceValue\",t[t.ScopeUserDefinedFunctionDeleteValue=16777216]=\"ScopeUserDefinedFunctionDeleteValue\",t[t.ScopeTriggerReplaceValue=33554432]=\"ScopeTriggerReplaceValue\",t[t.ScopeTriggerDeleteValue=67108864]=\"ScopeTriggerDeleteValue\",t[t.ScopeContainerReadAllAccessValue=4294967295]=\"ScopeContainerReadAllAccessValue\",t[t.ScopeItemReadAllAccessValue=65]=\"ScopeItemReadAllAccessValue\",t[t.ScopeContainerWriteAllAccessValue=4294967295]=\"ScopeContainerWriteAllAccessValue\",t[t.ScopeItemWriteAllAccessValue=458767]=\"ScopeItemWriteAllAccessValue\",t[t.NoneValue=0]=\"NoneValue\"})(yb||(yb={}));var _g;(function(t){t[t.ContainerCreateItems=1]=\"ContainerCreateItems\",t[t.ContainerReplaceItems=2]=\"ContainerReplaceItems\",t[t.ContainerUpsertItems=4]=\"ContainerUpsertItems\",t[t.ContainerDeleteItems=128]=\"ContainerDeleteItems\",t[t.ContainerExecuteQueries=1]=\"ContainerExecuteQueries\",t[t.ContainerReadFeeds=2]=\"ContainerReadFeeds\",t[t.ContainerCreateStoreProcedure=16]=\"ContainerCreateStoreProcedure\",t[t.ContainerReadStoreProcedure=4]=\"ContainerReadStoreProcedure\",t[t.ContainerReplaceStoreProcedure=32]=\"ContainerReplaceStoreProcedure\",t[t.ContainerDeleteStoreProcedure=64]=\"ContainerDeleteStoreProcedure\",t[t.ContainerCreateTriggers=256]=\"ContainerCreateTriggers\",t[t.ContainerReadTriggers=16]=\"ContainerReadTriggers\",t[t.ContainerReplaceTriggers=512]=\"ContainerReplaceTriggers\",t[t.ContainerDeleteTriggers=1024]=\"ContainerDeleteTriggers\",t[t.ContainerCreateUserDefinedFunctions=2048]=\"ContainerCreateUserDefinedFunctions\",t[t.ContainerReadUserDefinedFunctions=8]=\"ContainerReadUserDefinedFunctions\",t[t.ContainerReplaceUserDefinedFunctions=4096]=\"ContainerReplaceUserDefinedFunctions\",t[t.ContainerDeleteUserDefinedFunctions=8192]=\"ContainerDeleteUserDefinedFunctions\",t[t.ContainerExecuteStoredProcedure=128]=\"ContainerExecuteStoredProcedure\",t[t.ContainerReadConflicts=32]=\"ContainerReadConflicts\",t[t.ContainerDeleteConflicts=16384]=\"ContainerDeleteConflicts\",t[t.ContainerReadAny=64]=\"ContainerReadAny\",t[t.ContainerFullAccess=4294967295]=\"ContainerFullAccess\",t[t.ItemReadAny=65536]=\"ItemReadAny\",t[t.ItemFullAccess=65]=\"ItemFullAccess\",t[t.ItemRead=64]=\"ItemRead\",t[t.ItemReplace=65536]=\"ItemReplace\",t[t.ItemUpsert=131072]=\"ItemUpsert\",t[t.ItemDelete=262144]=\"ItemDelete\",t[t.StoreProcedureRead=128]=\"StoreProcedureRead\",t[t.StoreProcedureReplace=1048576]=\"StoreProcedureReplace\",t[t.StoreProcedureDelete=2097152]=\"StoreProcedureDelete\",t[t.StoreProcedureExecute=4194304]=\"StoreProcedureExecute\",t[t.UserDefinedFuntionRead=256]=\"UserDefinedFuntionRead\",t[t.UserDefinedFuntionReplace=8388608]=\"UserDefinedFuntionReplace\",t[t.UserDefinedFuntionDelete=16777216]=\"UserDefinedFuntionDelete\",t[t.TriggerRead=512]=\"TriggerRead\",t[t.TriggerReplace=33554432]=\"TriggerReplace\",t[t.TriggerDelete=67108864]=\"TriggerDelete\"})(_g||(_g={}));var KA;(function(t){t.NonValueAggregate=\"NonValueAggregate\",t.Aggregate=\"Aggregate\",t.Distinct=\"Distinct\",t.MultipleOrderBy=\"MultipleOrderBy\",t.OffsetAndLimit=\"OffsetAndLimit\",t.OrderBy=\"OrderBy\",t.Top=\"Top\",t.CompositeAggregate=\"CompositeAggregate\",t.GroupBy=\"GroupBy\",t.MultipleAggregates=\"MultipleAggregates\",t.NonStreamingOrderBy=\"NonStreamingOrderBy\",t.ListAndSetAggregate=\"ListAndSetAggregate\",t.CountIf=\"CountIf\",t.HybridSearch=\"HybridSearch\",t.WeightedRankFusion=\"WeightedRankFusion\",t.HybridSearchSkipOrderByRewrite=\"HybridSearchSkipOrderByRewrite\"})(KA||(KA={}));var Hg;(function(t){t[t.PartitionMerge=1]=\"PartitionMerge\"})(Hg||(Hg={}));var Ib;(function(t){t[t.Available=0]=\"Available\",t[t.Unavailable=1]=\"Unavailable\"})(Ib||(Ib={}));var Ny;(function(t){t[t.PerPartitionAutomaticFailover=1]=\"PerPartitionAutomaticFailover\",t[t.PerPartitionCircuitBreaker=2]=\"PerPartitionCircuitBreaker\"})(Ny||(Ny={}));var Zs=class{serialize(e){let r=e?1:0,n=Buffer.alloc(8);return n.writeBigInt64LE(BigInt(r),0),n}deserialize(e){if(!e||e.length<1)throw new Error(\"Invalid byte array for deserialization\");return!!e[0]}};var ea=class{deserialize(e){if(!e||e.length<8)throw new Error(\"Invalid byte array for deserialization\");return Number(e.readBigInt64LE(0))}serialize(e){let r=BigInt(e),n=Buffer.alloc(8);return n.writeBigInt64LE(r,0),n}};var ta=class{deserialize(e){if(!e||e.length<8)throw new Error(\"Invalid byte array for deserialization\");return e.readDoubleLE(0)}serialize(e){if(!Number.isFinite(e))throw new Error(\"Value is out of range\");let r=Buffer.alloc(8);return r.writeDoubleLE(e,0),r}};var qo=class t{static characterEncoding=\"utf-8\";deserialize(e){return e.toString(t.characterEncoding)}serialize(e){return Buffer.from(e,t.characterEncoding)}};var ji;(function(t){t.DETERMINISTIC=\"Deterministic\",t.RANDOMIZED=\"Randomized\"})(ji||(ji={}));var Ct;(function(t){t[t.Null=1]=\"Null\",t[t.Boolean=2]=\"Boolean\",t[t.Double=3]=\"Double\",t[t.Long=4]=\"Long\",t[t.String=5]=\"String\"})(Ct||(Ct={}));var v=class extends Error{code;substatus;body;headers;activityId;retryAfterInMs;retryAfterInMilliseconds;diagnostics;requestCharge};var wb=new RegExp(\"^[/]+\"),Rb=new RegExp(\"[/]+$\"),xq=new RegExp(\"[/\\\\\\\\?#]\"),vq=new RegExp(\"[/\\\\\\\\#]\");function Sb(t){return JSON.stringify(t).replace(/[\\u007F-\\uFFFF]/g,e=>\"\\\\u\"+(\"0000\"+e.charCodeAt(0).toString(16)).slice(-4))}function My(t){if(t.length===0)return{type:void 0,objectBody:void 0};t[t.length-1]!==\"/\"&&(t=t+\"/\"),t[0]!==\"/\"&&(t=\"/\"+t);let e=t.split(\"/\"),r,n;return e.length%2===0?(r=e[e.length-2],n=e[e.length-3]):(r=e[e.length-3],n=e[e.length-2]),{type:n,objectBody:{id:r,self:t}}}function zt(t){return t===X.Read||t===X.Query}function ra(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}function qg(t){return t.split(\"/\").slice(0,4).join(\"/\")}function Gg(t,e){return na(t)+e}function na(t){return t.replace(wb,\"\").replace(Rb,\"\")}function Tb(t){let e=[],r=0,n=()=>{throw new Error(\"Path \"+t+\" is invalid at index \"+r)},i=()=>{let s=t[r],a=++r;for(;a=t.indexOf(s,a),a===-1&&n(),t[a-1]===\"\\\\\";)++a;let A=t.substr(r,a-r);return r=a+1,A},o=()=>{let s=t.indexOf(\"/\",r),a=null;return s===-1?(a=t.substr(r),r=t.length):(a=t.substr(r,s-r),r=s),a=a.trim(),a};for(;r<t.length&&(t[r]!==\"/\"&&n(),++r!==t.length);)t[r]==='\"'||t[r]===\"'\"?e.push(i()):e.push(o());return e}function Fe(t,e){if(t.id){if(typeof t.id!=\"string\")return e.message=\"Id must be a string.\",!1;if(t.id.indexOf(\"/\")!==-1||t.id.indexOf(\"\\\\\")!==-1||t.id.indexOf(\"?\")!==-1||t.id.indexOf(\"#\")!==-1)return e.message=\"Id contains illegal chars.\",!1;if(t.id[t.id.length-1]===\" \")return e.message=\"Id ends with a space.\",!1}return!0}function au(t,e){if(t.id){if(typeof t.id!=\"string\")return e.message=\"Id must be a string.\",!1;if(t.id.indexOf(\"/\")!==-1||t.id.indexOf(\"\\\\\")!==-1||t.id.indexOf(\"#\")!==-1)return e.message=\"Id contains illegal chars.\",!1}return!0}function Y(t){return t=na(t),t}function _(t,e){return t=na(t),e?\"/\"+encodeURI(t)+\"/\"+e:\"/\"+encodeURI(t)}function bb(t){return!t||/^\\s*$/.test(t)}function xn(t){if(typeof t!=\"string\")throw new Error(\"invalid input: input is not string\");return t.replace(wb,\"\").replace(Rb,\"\")}function Go(t){if(typeof t!=\"string\"||bb(t))throw new Error(\"Resource ID must be a string and cannot be undefined, null or empty\");if(xq.test(t))throw new Error(\"Illegal characters ['/', '\\\\', '#', '?'] cannot be used in Resource ID\");return!0}function kb(t){if(typeof t!=\"string\"||bb(t))throw new Error(\"Resource ID must be a string and cannot be undefined, null or empty\");if(vq.test(t))throw new Error(\"Illegal characters ['/', '\\\\', '#'] cannot be used in Resource ID\");return!0}function Db(t){if(!t||typeof t!=\"string\")return null;let r=xn(t).split(\"/\");return r.length%2!==0?null:r[r.length-1]}function Fy(t){let e=t.split(\";\"),{AccountEndpoint:r,AccountKey:n}=e.reduce((i,o)=>{let[s,...a]=o.split(\"=\");return i[s]=a.join(\"=\"),i},{});if(!r||!n)throw new Error(\"Could not parse the provided connection string\");return{endpoint:r,key:n}}function Ur(t){return JSON.parse(JSON.stringify(t,(e,r)=>{if(typeof r==\"bigint\")throw new Error(\"BigInt type is not supported\");return r}))}function xb(t){switch(t){case Ct.Long:return new ea;case Ct.Double:return new ta;case Ct.String:return new qo;case Ct.Boolean:return new Zs;default:throw new Error(\"Invalid or Unsupported data type passed.\")}}function WA(t){let e=t.indexOf(\"/\",t.indexOf(\"/\")+1);return e===-1?t:t.substring(0,e)}function vb(t,e){if(e){if(e===Ct.Long)return[Ct.Long,new ea];if(e===Ct.Double)return[Ct.Double,new ta];if(e===Ct.String)return[Ct.String,new qo];if(e===Ct.Boolean)return[Ct.Boolean,new Zs];throw new Error(\"Invalid or Unsupported data type passed.\")}else switch(typeof t){case\"boolean\":return[Ct.Boolean,new Zs];case\"string\":return[Ct.String,new qo];case\"object\":if(t.constructor===Date)return[Ct.String,new qo];throw new Error(\"Invalid or Unsupported data type passed.\");case\"number\":return Number.isInteger(t)?[Ct.Long,new ea]:[Ct.Double,new ta];default:throw new Error(\"Invalid or Unsupported data type passed.\")}}function Nb(t,e){let r=t.policyFormatVersion;if(r<1||r>2)throw new v(\"Supported versions of client encryption policy are 1 and 2.\");let n=new Set;for(let A of t.includedPaths){if(n.has(A.path))throw new v(`Duplicate path found: ${A.path} in client encryption policy.`);if(A.path===void 0||A.path===null||A.path===\"\"||A.path===\"/\")throw new v(\"Path needs to be defined in ClientEncryptionIncludedPath.\");if(A.clientEncryptionKeyId===void 0||A.clientEncryptionKeyId===null||A.clientEncryptionKeyId===\"\"||typeof A.clientEncryptionKeyId!=\"string\")throw new v(\"ClientEncryptionKeyId needs to be defined as string type in ClientEncryptionIncludedPath.\");if(A.path[0]!==\"/\")throw new v(\"Path in ClientEncryptionIncludedPath must start with '/'.\");if(A.path.split(\"/\").filter(l=>l.length>0).length>1)throw new v(\"Only top-level paths are currently supported for encryption\");n.add(A.path)}let i=t.includedPaths,o=e.paths.map(WA),s=!1,a=!1;for(let A of i){if(A.path===\"/id\"&&(a=!0,A.encryptionType!==ji.DETERMINISTIC))throw new v(\"The '/id' property must be encrypted using Deterministic encryption.\");if(o.includes(A.path)&&(s=!0,A.encryptionType!==ji.DETERMINISTIC))throw new v(`Path: ${A.path} which is part of the partition key has to be encrypted with Deterministic type Encryption.`)}if((s||a)&&t.policyFormatVersion===1)throw new v(\"Encryption of partition key or id is only supported with policy format version 2.\")}function Pb(t){return t===Q.item}var V={Ok:200,Created:201,Accepted:202,NoContent:204,MultiStatus:207,NotModified:304,BadRequest:400,Unauthorized:401,Forbidden:403,NotFound:404,MethodNotAllowed:405,RequestTimeout:408,Conflict:409,Gone:410,PreconditionFailed:412,RequestEntityTooLarge:413,FailedDependency:424,TooManyRequests:429,RetryWith:449,InternalServerError:500,ServiceUnavailable:503,ENOTFOUND:\"ENOTFOUND\",OperationPaused:1200,OperationCancelled:1201},rt={Unknown:0,CrossPartitionQueryNotServable:1004,IncorrectContainerRidSubstatus:1024,PartitionKeyMismatch:1001,PartitionKeyRangeGone:1002,CompletingSplit:1007,CompletingPartitionMigration:1008,NameCacheIsStale:1e3,ReadSessionNotAvailable:1002,WriteForbidden:3,DatabaseAccountNotFound:1008,ResponseSizeExceeded:3402};function Yg(t){return t=xn(t),Go(t),E.Path.DatabasesPathSegment+\"/\"+t}function zA(t,e){return e=xn(e),Go(e),Yg(t)+\"/\"+E.Path.CollectionsPathSegment+\"/\"+e}function Ly(t,e){return e=xn(e),Go(e),Yg(t)+\"/\"+E.Path.UsersPathSegment+\"/\"+e}function Mb(t,e,r){return r=xn(r),kb(r),zA(t,e)+\"/\"+E.Path.DocumentsPathSegment+\"/\"+r}function Fb(t,e,r){return r=xn(r),Go(r),Ly(t,e)+\"/\"+E.Path.PermissionsPathSegment+\"/\"+r}function Lb(t,e,r){return r=xn(r),Go(r),zA(t,e)+\"/\"+E.Path.StoredProceduresPathSegment+\"/\"+r}function Ob(t,e,r){return r=xn(r),Go(r),zA(t,e)+\"/\"+E.Path.TriggersPathSegment+\"/\"+r}function Ub(t,e,r){return r=xn(r),Go(r),zA(t,e)+\"/\"+E.Path.UserDefinedFunctionsPathSegment+\"/\"+r}var _b=require(\"node:crypto\");async function Oy(t,e){return(0,_b.createHmac)(\"sha256\",Buffer.from(t,\"base64\")).update(e).digest(\"base64\")}async function Hb(t,e,r=Q.none,n=\"\",i=new Date){if(t.startsWith(\"type=sas&\"))return{[E.HttpHeaders.Authorization]:encodeURIComponent(t),[E.HttpHeaders.XDate]:i.toUTCString()};let o=await Nq(t,e,r,n,i);return{[E.HttpHeaders.Authorization]:o,[E.HttpHeaders.XDate]:i.toUTCString()}}async function Nq(t,e,r,n=\"\",i=new Date){let o=\"master\",a=e.toLowerCase()+`\n`+r.toLowerCase()+`\n`+n+`\n`+i.toUTCString().toLowerCase()+`\n\n`,A=await Oy(t,a);return encodeURIComponent(\"type=\"+o+\"&ver=1.0&sig=\"+A)}async function qb(t,e,r,n,i,o){if(t.permissionFeed){t.resourceTokens={};for(let s of t.permissionFeed){let a=Db(s.resource);if(!a)throw new Error(`authorization error: ${a}                           is an invalid resourceId in permissionFeed`);t.resourceTokens[a]=s._token}}t.key?await Gb(e,n,i,o,t.key):t.resourceTokens?o[E.HttpHeaders.Authorization]=encodeURIComponent(Pq(t.resourceTokens,r,n)):t.tokenProvider&&(o[E.HttpHeaders.Authorization]=encodeURIComponent(await t.tokenProvider({verb:e,path:r,resourceId:n,resourceType:i,headers:o})))}async function Gb(t,e,r,n,i){r===Q.offer&&(e=e&&e.toLowerCase()),n=Object.assign(n,await Hb(i,t,r,e))}function Pq(t,e,r){if(t&&Object.keys(t).length>0){if(!e&&!r)return t[Object.keys(t)[0]];if(r&&t[r])return t[r];if(!e||e.length<4)return null;e=xn(e);let n=e&&e.split(\"/\")||[];if(n.length===6){let o=n.slice(0,4).map(decodeURIComponent).join(\"/\");if(t[o])return t[o]}let i=n.length%2===0?n.length-1:n.length-2;for(;i>0;i-=2){let o=decodeURI(n[i]);if(t[o])return t[o]}}return null}var Yb=require(\"node:os\"),Vb=Ae(require(\"node:util\"),1),Jb=Ae(require(\"node:process\"),1);function Kb(t,...e){Jb.default.stderr.write(`${Vb.default.format(t,...e)}${Yb.EOL}`)}var Wb=typeof process<\"u\"&&process.env&&process.env.DEBUG||void 0,jb,Uy=[],_y=[],Vg=[];Wb&&Hy(Wb);var $b=Object.assign(t=>Xb(t),{enable:Hy,enabled:qy,disable:Mq,log:Kb});function Hy(t){jb=t,Uy=[],_y=[];let e=t.split(\",\").map(r=>r.trim());for(let r of e)r.startsWith(\"-\")?_y.push(r.substring(1)):Uy.push(r);for(let r of Vg)r.enabled=qy(r.namespace)}function qy(t){if(t.endsWith(\"*\"))return!0;for(let e of _y)if(zb(t,e))return!1;for(let e of Uy)if(zb(t,e))return!0;return!1}function zb(t,e){if(e.indexOf(\"*\")===-1)return t===e;let r=e;if(e.indexOf(\"**\")!==-1){let d=[],h=\"\";for(let g of e)g===\"*\"&&h===\"*\"||(h=g,d.push(g));r=d.join(\"\")}let n=0,i=0,o=r.length,s=t.length,a=-1,A=-1;for(;n<s&&i<o;)if(r[i]===\"*\"){if(a=i,i++,i===o)return!0;for(;t[n]!==r[i];)if(n++,n===s)return!1;A=n,n++,i++;continue}else if(r[i]===t[n])i++,n++;else if(a>=0){if(i=a+1,n=A+1,n===s)return!1;for(;t[n]!==r[i];)if(n++,n===s)return!1;A=n,n++,i++;continue}else return!1;let c=n===t.length,l=i===r.length,u=i===r.length-1&&r[i]===\"*\";return c&&(l||u)}function Mq(){let t=jb||\"\";return Hy(\"\"),t}function Xb(t){let e=Object.assign(r,{enabled:qy(t),destroy:Fq,log:$b.log,namespace:t,extend:Lq});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return Vg.push(e),e}function Fq(){let t=Vg.indexOf(this);return t>=0?(Vg.splice(t,1),!0):!1}function Lq(t){let e=Xb(`${this.namespace}:${t}`);return e.log=this.log,e}var jA=$b;var Gy=[\"verbose\",\"info\",\"warning\",\"error\"],Zb={verbose:400,info:300,warning:200,error:100};function ek(t,e){e.log=(...r)=>{t.log(...r)}}function tk(t){return Gy.includes(t)}function Jg(t){let e=new Set,r=typeof process<\"u\"&&process.env&&process.env[t.logLevelEnvVarName]||void 0,n,i=jA(t.namespace);i.log=(...l)=>{jA.log(...l)};function o(l){if(l&&!tk(l))throw new Error(`Unknown log level '${l}'. Acceptable values: ${Gy.join(\",\")}`);n=l;let u=[];for(let d of e)s(d)&&u.push(d.namespace);jA.enable(u.join(\",\"))}r&&(tk(r)?o(r):console.error(`${t.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${Gy.join(\", \")}.`));function s(l){return!!(n&&Zb[l.level]<=Zb[n])}function a(l,u){let d=Object.assign(l.extend(u),{level:u});if(ek(l,d),s(d)){let h=jA.disable();jA.enable(h+\",\"+d.namespace)}return e.add(d),d}function A(){return n}function c(l){let u=i.extend(l);return ek(i,u),{error:a(u,\"error\"),warning:a(u,\"warning\"),info:a(u,\"info\"),verbose:a(u,\"verbose\")}}return{setLogLevel:o,getLogLevel:A,createClientLogger:c,logger:i}}var rk=Jg({logLevelEnvVarName:\"TYPESPEC_RUNTIME_LOG_LEVEL\",namespace:\"typeSpecRuntime\"}),Oq=rk.logger;function Au(t){return rk.createClientLogger(t)}var Yy=Jg({logLevelEnvVarName:\"AZURE_LOG_LEVEL\",namespace:\"azure\"}),Yoe=Yy.logger;function Kg(){return Yy.getLogLevel()}function ve(t){return Yy.createClientLogger(t)}var cu;(function(t){t[t.Gateway=0]=\"Gateway\"})(cu||(cu={}));var Vy=Object.freeze({connectionMode:cu.Gateway,requestTimeout:6e4,enableEndpointDiscovery:!0,preferredLocations:[],retryOptions:{maxRetryAttemptCount:E.ThrottledRequestMaxRetryAttemptCount,fixedRetryIntervalInMilliseconds:E.ThrottledRequestFixedRetryIntervalInMs,maxWaitTimeInSeconds:E.ThrottledRequestMaxWaitTimeInSeconds},useMultipleWriteLocations:!0,endpointRefreshRateInMs:3e5,enableBackgroundEndpointRefreshing:!0,enablePartitionLevelFailover:!0,enablePartitionLevelCircuitBreaker:!0});var ia;(function(t){t.Strong=\"Strong\",t.BoundedStaleness=\"BoundedStaleness\",t.Session=\"Session\",t.Eventual=\"Eventual\",t.ConsistentPrefix=\"ConsistentPrefix\"})(ia||(ia={}));var lu=class{writableLocations=[];readableLocations=[];get DatabasesLink(){return this.databasesLink}databasesLink;get MediaLink(){return this.mediaLink}mediaLink;get MaxMediaStorageUsageInMB(){return this.maxMediaStorageUsageInMB}maxMediaStorageUsageInMB;get CurrentMediaStorageUsageInMB(){return this.currentMediaStorageUsageInMB}currentMediaStorageUsageInMB;get ConsistencyPolicy(){return this.consistencyPolicy}consistencyPolicy;enableMultipleWritableLocations;enablePerPartitionFailover=!1;constructor(e,r){this.databasesLink=\"/dbs/\",this.mediaLink=\"/media/\",this.maxMediaStorageUsageInMB=r[E.HttpHeaders.MaxMediaStorageUsageInMB],this.currentMediaStorageUsageInMB=r[E.HttpHeaders.CurrentMediaStorageUsageInMB],this.consistencyPolicy=e.userConsistencyPolicy?e.userConsistencyPolicy.defaultConsistencyLevel:ia.Session,e[E.WritableLocations]&&e.id!==\"localhost\"&&(this.writableLocations=e[E.WritableLocations]),e[E.ReadableLocations]&&e.id!==\"localhost\"&&(this.readableLocations=e[E.ReadableLocations]),e[E.ENABLE_MULTIPLE_WRITABLE_LOCATIONS]?this.enableMultipleWritableLocations=e[E.ENABLE_MULTIPLE_WRITABLE_LOCATIONS]===!0||e[E.ENABLE_MULTIPLE_WRITABLE_LOCATIONS]===\"true\":this.enableMultipleWritableLocations=!1,e[E.EnablePerPartitionFailover]&&(this.enablePerPartitionFailover=e[E.EnablePerPartitionFailover]===!0||e[E.EnablePerPartitionFailover]===\"true\")}};var Jy;(function(t){t.Number=\"Number\",t.String=\"String\",t.Point=\"Point\",t.LineString=\"LineString\",t.Polygon=\"Polygon\",t.MultiPolygon=\"MultiPolygon\"})(Jy||(Jy={}));var Ky;(function(t){t.consistent=\"consistent\",t.lazy=\"lazy\",t.none=\"none\"})(Ky||(Ky={}));var Wy;(function(t){t.LineString=\"LineString\",t.MultiPolygon=\"MultiPolygon\",t.Point=\"Point\",t.Polygon=\"Polygon\"})(Wy||(Wy={}));var zy;(function(t){t.Flat=\"flat\",t.DiskANN=\"diskANN\",t.QuantizedFlat=\"quantizedFlat\"})(zy||(zy={}));var jy;(function(t){t.Range=\"Range\",t.Spatial=\"Spatial\"})(jy||(jy={}));var Xn={};function Dt(t){return Array.isArray(t)?t.map(e=>e===void 0?Xn:e):[t]}var uu;(function(t){t[t.V1=1]=\"V1\",t[t.V2=2]=\"V2\"})(uu||(uu={}));var $i;(function(t){t.Hash=\"Hash\",t.MultiHash=\"MultiHash\"})($i||($i={}));var $y;(function(t){t.None=\"none\",t.Read=\"read\",t.All=\"all\"})($y||($y={}));var Xy;(function(t){t.High=\"High\",t.Low=\"Low\"})(Xy||(Xy={}));var Zy;(function(t){t.All=\"all\",t.Create=\"create\",t.Update=\"update\",t.Delete=\"delete\",t.Replace=\"replace\"})(Zy||(Zy={}));var eI;(function(t){t.Pre=\"pre\",t.Post=\"post\"})(eI||(eI={}));var tI;(function(t){t.Javascript=\"Javascript\"})(tI||(tI={}));var rI;(function(t){t.Geography=\"Geography\",t.Geometry=\"Geometry\"})(rI||(rI={}));var nI;(function(t){t.Float32=\"float32\",t.UInt8=\"uint8\",t.Int8=\"int8\"})(nI||(nI={}));var iI;(function(t){t.Euclidean=\"euclidean\",t.Cosine=\"cosine\",t.DotProduct=\"dotproduct\"})(iI||(iI={}));async function rn(t,e){return(await e.readPartitionKeyDefinition(t)).resource}async function vn(t,e,r,n,i,o){let s;if(n){let a=o??await rn(t,i);a&&e&&e.length>0&&(s=await r.getPartitionKeyRangeIdFromPartitionKey(i.url,e,a,t))}return s}var oI=ve(\"extractPartitionKey\");function Xi(t,e){if(!e||!e.paths||e.paths.length<=0){oI.error(\"Unexpected Partition Key Definition Found.\");return}if(e.paths.length===1&&e.paths[0]===JA){let n=nk(JA,t);if(n===void 0){if(e.systemKey===!0)return[];oI.warning(\"Unsupported PartitionKey found.\");return}else if((n===null||n===Xn)&&e.systemKey===!0)return[];return[n]}if(e.systemKey===!0)return[];let r=[];return e.paths.forEach(n=>{let i=nk(n,t);if(i===void 0){oI.warning(\"Unsupported PartitionKey found.\");return}r.push(i)}),r}function nk(t,e){let r=Tb(t);for(let n of r)if(typeof e==\"object\"&&e!==null&&n in e)e=e[n];else{e=void 0;break}if(typeof e==\"string\"||typeof e==\"number\"||typeof e==\"boolean\")return e;if(e===null)return null;if(e===void 0||JSON.stringify(e)===JSON.stringify(Xn))return Xn}function oa(t){return t?.systemKey?[]:t?.paths.map(()=>Xn)}async function sa(t,e,r){if(r===void 0){let n=await rn(t,e);r=oa(n)}return Dt(r)}function Zi(t,e){if(t!==void 0)return t;throw new Error(e||\"Unexpected 'undefined' value encountered\")}function du(t){return Uq(t)||_q(t)||Hq(t)}function Uq(t){return typeof t==\"string\"||typeof t==\"boolean\"||typeof t==\"number\"}function _q(t){return t!==void 0&&JSON.stringify(t)===JSON.stringify(Xn)}function Hq(t){return t===null}function sI(t){return du(t)||Array.isArray(t)}function ik(t,e){return e&&e.paths&&e.kind===$i.MultiHash&&Array.isArray(t)&&t.length<e.paths.length}var Ne=class{resource;headers;statusCode;diagnostics;substatus;constructor(e,r,n,i,o){this.resource=e,this.headers=r,this.statusCode=n,this.diagnostics=i,this.substatus=o}get requestCharge(){return Number(this.headers[E.HttpHeaders.RequestCharge])||0}get activityId(){return this.headers[E.HttpHeaders.ActivityId]}get etag(){return this.headers[E.HttpHeaders.ETag]}};var eo=class t{requestCharge;constructor(e){this.requestCharge=e}add(...e){let r=this.requestCharge;for(let n of e){if(n==null)throw new Error(\"clientSideMetrics has null or undefined item(s)\");r+=n.requestCharge}return new t(r)}static zero=new t(0);static createFromArray(...e){if(e==null)throw new Error(\"clientSideMetricsArray is null or undefined item(s)\");return this.zero.add(...e)}};var Be={RetrievedDocumentCount:\"retrievedDocumentCount\",RetrievedDocumentSize:\"retrievedDocumentSize\",OutputDocumentCount:\"outputDocumentCount\",OutputDocumentSize:\"outputDocumentSize\",IndexHitRatio:\"indexUtilizationRatio\",IndexHitDocumentCount:\"indexHitDocumentCount\",TotalQueryExecutionTimeInMs:\"totalExecutionTimeInMs\",QueryCompileTimeInMs:\"queryCompileTimeInMs\",LogicalPlanBuildTimeInMs:\"queryLogicalPlanBuildTimeInMs\",PhysicalPlanBuildTimeInMs:\"queryPhysicalPlanBuildTimeInMs\",QueryOptimizationTimeInMs:\"queryOptimizationTimeInMs\",IndexLookupTimeInMs:\"indexLookupTimeInMs\",DocumentLoadTimeInMs:\"documentLoadTimeInMs\",VMExecutionTimeInMs:\"VMExecutionTimeInMs\",DocumentWriteTimeInMs:\"writeOutputTimeInMs\",QueryEngineTimes:\"queryEngineTimes\",SystemFunctionExecuteTimeInMs:\"systemFunctionExecuteTimeInMs\",UserDefinedFunctionExecutionTimeInMs:\"userFunctionExecuteTimeInMs\",RetrievedDocumentCountText:\"Retrieved Document Count\",RetrievedDocumentSizeText:\"Retrieved Document Size\",OutputDocumentCountText:\"Output Document Count\",OutputDocumentSizeText:\"Output Document Size\",IndexUtilizationText:\"Index Utilization\",TotalQueryExecutionTimeText:\"Total Query Execution Time\",QueryPreparationTimesText:\"Query Preparation Times\",QueryCompileTimeText:\"Query Compilation Time\",LogicalPlanBuildTimeText:\"Logical Plan Build Time\",PhysicalPlanBuildTimeText:\"Physical Plan Build Time\",QueryOptimizationTimeText:\"Query Optimization Time\",QueryEngineTimesText:\"Query Engine Times\",IndexLookupTimeText:\"Index Lookup Time\",DocumentLoadTimeText:\"Document Load Time\",WriteOutputTimeText:\"Document Write Time\",RuntimeExecutionTimesText:\"Runtime Execution Times\",TotalExecutionTimeText:\"Query Engine Execution Time\",SystemFunctionExecuteTimeText:\"System Function Execution Time\",UserDefinedFunctionExecutionTimeText:\"User-defined Function Execution Time\",ClientSideQueryMetricsText:\"Client Side Metrics\",RetriesText:\"Retry Count\",RequestChargeText:\"Request Charge\",FetchExecutionRangesText:\"Partition Execution Timeline\",SchedulingMetricsText:\"Scheduling Metrics\"};var qq=16666666666666667e-25,aI=6e8*60,Gq=1/aI,ak=aI*24,Yq=1/ak,Ak=1e3,ck=Ak*60,lk=ck*60,Vq=lk*24,ok=Number.MAX_SAFE_INTEGER/1e4,sk=Number.MIN_SAFE_INTEGER/1e4,$e=class t{_ticks;constructor(e,r,n,i,o){if(!Number.isInteger(e))throw new Error(\"days is not an integer\");if(!Number.isInteger(r))throw new Error(\"hours is not an integer\");if(!Number.isInteger(n))throw new Error(\"minutes is not an integer\");if(!Number.isInteger(i))throw new Error(\"seconds is not an integer\");if(!Number.isInteger(o))throw new Error(\"milliseconds is not an integer\");let s=(e*3600*24+r*3600+n*60+i)*1e3+o;if(s>ok||s<sk)throw new Error(\"Total number of milliseconds was either too large or too small\");this._ticks=s*1e4}add(e){if(t.additionDoesOverflow(this._ticks,e._ticks))throw new Error(\"Adding the two timestamps causes an overflow.\");let r=this._ticks+e._ticks;return t.fromTicks(r)}subtract(e){if(t.subtractionDoesUnderflow(this._ticks,e._ticks))throw new Error(\"Subtracting the two timestamps causes an underflow.\");let r=this._ticks-e._ticks;return t.fromTicks(r)}compareTo(e){if(e==null)return 1;if(!t.isTimeSpan(e))throw new Error(\"Argument must be a TimeSpan object\");return t.compare(this,e)}duration(){return t.fromTicks(this._ticks>=0?this._ticks:-this._ticks)}equals(e){return t.isTimeSpan(e)?this._ticks===e._ticks:!1}negate(){return t.fromTicks(-this._ticks)}days(){return Math.floor(this._ticks/ak)}hours(){return Math.floor(this._ticks/aI)}milliseconds(){return Math.floor(this._ticks/1e4)}seconds(){return Math.floor(this._ticks/1e7)}ticks(){return this._ticks}totalDays(){return this._ticks*Yq}totalHours(){return this._ticks*Gq}totalMilliseconds(){return this._ticks*1e-4}totalMinutes(){return this._ticks*qq}totalSeconds(){return this._ticks*1e-7}static fromTicks(e){let r=new t(0,0,0,0,0);return r._ticks=e,r}static zero=new t(0,0,0,0,0);static maxValue=t.fromTicks(Number.MAX_SAFE_INTEGER);static minValue=t.fromTicks(Number.MIN_SAFE_INTEGER);static isTimeSpan(e){return e._ticks}static additionDoesOverflow(e,r){let n=e+r;return e!==n-r||r!==n-e}static subtractionDoesUnderflow(e,r){let n=e-r;return e!==n+r||r!==e-n}static compare(e,r){return e._ticks>r._ticks?1:e._ticks<r._ticks?-1:0}static interval(e,r){if(isNaN(e))throw new Error(\"value must be a number\");let n=e*r;if(n>ok||n<sk)throw new Error(\"timespan too long\");return t.fromTicks(Math.floor(n*1e4))}static fromMilliseconds(e){return t.interval(e,1)}static fromSeconds(e){return t.interval(e,Ak)}static fromMinutes(e){return t.interval(e,ck)}static fromHours(e){return t.interval(e,lk)}static fromDays(e){return t.interval(e,Vq)}};function XA(t){if(t==null)throw new Error(\"delimitedString is null or undefined\");let e={},r=t.split(\";\");for(let n of r){let i=n.split(\"=\");if(i.length!==2)throw new Error(\"recieved a malformed delimited string\");let o=i[0],s=parseFloat(i[1]);e[o]=s}return e}function Yt(t,e){return e in t?$e.fromMilliseconds(t[e]):$e.zero}var aa=class t{queryCompilationTime;logicalPlanBuildTime;physicalPlanBuildTime;queryOptimizationTime;constructor(e,r,n,i){this.queryCompilationTime=e,this.logicalPlanBuildTime=r,this.physicalPlanBuildTime=n,this.queryOptimizationTime=i}add(...e){let r=this.queryCompilationTime,n=this.logicalPlanBuildTime,i=this.physicalPlanBuildTime,o=this.queryOptimizationTime;for(let s of e){if(s==null)throw new Error(\"queryPreparationTimesArray has null or undefined item(s)\");r=r.add(s.queryCompilationTime),n=n.add(s.logicalPlanBuildTime),i=i.add(s.physicalPlanBuildTime),o=o.add(s.queryOptimizationTime)}return new t(r,n,i,o)}toDelimitedString(){return`${Be.QueryCompileTimeInMs}=${this.queryCompilationTime.totalMilliseconds()};${Be.LogicalPlanBuildTimeInMs}=${this.logicalPlanBuildTime.totalMilliseconds()};${Be.PhysicalPlanBuildTimeInMs}=${this.physicalPlanBuildTime.totalMilliseconds()};${Be.QueryOptimizationTimeInMs}=${this.queryOptimizationTime.totalMilliseconds()}`}static zero=new t($e.zero,$e.zero,$e.zero,$e.zero);static createFromArray(e){if(e==null)throw new Error(\"queryPreparationTimesArray is null or undefined item(s)\");return t.zero.add(...e)}static createFromDelimitedString(e){let r=XA(e);return new t(Yt(r,Be.QueryCompileTimeInMs),Yt(r,Be.LogicalPlanBuildTimeInMs),Yt(r,Be.PhysicalPlanBuildTimeInMs),Yt(r,Be.QueryOptimizationTimeInMs))}};var Aa=class t{queryEngineExecutionTime;systemFunctionExecutionTime;userDefinedFunctionExecutionTime;constructor(e,r,n){this.queryEngineExecutionTime=e,this.systemFunctionExecutionTime=r,this.userDefinedFunctionExecutionTime=n}add(...e){let r=this.queryEngineExecutionTime,n=this.systemFunctionExecutionTime,i=this.userDefinedFunctionExecutionTime;for(let o of e){if(o==null)throw new Error(\"runtimeExecutionTimes has null or undefined item(s)\");r=r.add(o.queryEngineExecutionTime),n=n.add(o.systemFunctionExecutionTime),i=i.add(o.userDefinedFunctionExecutionTime)}return new t(r,n,i)}toDelimitedString(){return`${Be.SystemFunctionExecuteTimeInMs}=${this.systemFunctionExecutionTime.totalMilliseconds()};${Be.UserDefinedFunctionExecutionTimeInMs}=${this.userDefinedFunctionExecutionTime.totalMilliseconds()}`}static zero=new t($e.zero,$e.zero,$e.zero);static createFromArray(e){if(e==null)throw new Error(\"runtimeExecutionTimesArray is null or undefined item(s)\");return t.zero.add(...e)}static createFromDelimitedString(e){let r=XA(e),n=Yt(r,Be.VMExecutionTimeInMs),i=Yt(r,Be.IndexLookupTimeInMs),o=Yt(r,Be.DocumentLoadTimeInMs),s=Yt(r,Be.DocumentWriteTimeInMs),a=$e.zero;return a=a.add(n),a=a.subtract(i),a=a.subtract(o),a=a.subtract(s),new t(a,Yt(r,Be.SystemFunctionExecuteTimeInMs),Yt(r,Be.UserDefinedFunctionExecutionTimeInMs))}};var Yo=class t{retrievedDocumentCount;retrievedDocumentSize;outputDocumentCount;outputDocumentSize;indexHitDocumentCount;totalQueryExecutionTime;queryPreparationTimes;indexLookupTime;documentLoadTime;vmExecutionTime;runtimeExecutionTimes;documentWriteTime;clientSideMetrics;constructor(e,r,n,i,o,s,a,A,c,l,u,d,h){this.retrievedDocumentCount=e,this.retrievedDocumentSize=r,this.outputDocumentCount=n,this.outputDocumentSize=i,this.indexHitDocumentCount=o,this.totalQueryExecutionTime=s,this.queryPreparationTimes=a,this.indexLookupTime=A,this.documentLoadTime=c,this.vmExecutionTime=l,this.runtimeExecutionTimes=u,this.documentWriteTime=d,this.clientSideMetrics=h}get indexHitRatio(){return this.retrievedDocumentCount===0?1:this.indexHitDocumentCount/this.retrievedDocumentCount}add(e){let r=0,n=0,i=0,o=0,s=0,a=$e.zero,A=[],c=$e.zero,l=$e.zero,u=$e.zero,d=[],h=$e.zero,g=[];e.push(this);for(let p of e)p&&(r+=p.retrievedDocumentCount,n+=p.retrievedDocumentSize,i+=p.outputDocumentCount,o+=p.outputDocumentSize,s+=p.indexHitDocumentCount,a=a.add(p.totalQueryExecutionTime),A.push(p.queryPreparationTimes),c=c.add(p.indexLookupTime),l=l.add(p.documentLoadTime),u=u.add(p.vmExecutionTime),d.push(p.runtimeExecutionTimes),h=h.add(p.documentWriteTime),g.push(p.clientSideMetrics));return new t(r,n,i,o,s,a,aa.createFromArray(A),c,l,u,Aa.createFromArray(d),h,eo.createFromArray(...g))}toDelimitedString(){return Be.RetrievedDocumentCount+\"=\"+this.retrievedDocumentCount+\";\"+Be.RetrievedDocumentSize+\"=\"+this.retrievedDocumentSize+\";\"+Be.OutputDocumentCount+\"=\"+this.outputDocumentCount+\";\"+Be.OutputDocumentSize+\"=\"+this.outputDocumentSize+\";\"+Be.IndexHitRatio+\"=\"+this.indexHitRatio+\";\"+Be.TotalQueryExecutionTimeInMs+\"=\"+this.totalQueryExecutionTime.totalMilliseconds()+\";\"+this.queryPreparationTimes.toDelimitedString()+\";\"+Be.IndexLookupTimeInMs+\"=\"+this.indexLookupTime.totalMilliseconds()+\";\"+Be.DocumentLoadTimeInMs+\"=\"+this.documentLoadTime.totalMilliseconds()+\";\"+Be.VMExecutionTimeInMs+\"=\"+this.vmExecutionTime.totalMilliseconds()+\";\"+this.runtimeExecutionTimes.toDelimitedString()+\";\"+Be.DocumentWriteTimeInMs+\"=\"+this.documentWriteTime.totalMilliseconds()}static zero=new t(0,0,0,0,0,$e.zero,aa.zero,$e.zero,$e.zero,$e.zero,Aa.zero,$e.zero,eo.zero);static createFromArray(e){if(!e)throw new Error(\"queryMetricsArray is null or undefined item(s)\");return t.zero.add(e)}static createFromDelimitedString(e,r){let n=XA(e),i=n[Be.IndexHitRatio]||0,o=n[Be.RetrievedDocumentCount]||0,s=i*o,a=n[Be.OutputDocumentCount]||0,A=n[Be.OutputDocumentSize]||0,c=n[Be.RetrievedDocumentSize]||0,l=Yt(n,Be.TotalQueryExecutionTimeInMs);return new t(o,c,a,A,s,l,aa.createFromDelimitedString(e),Yt(n,Be.IndexLookupTimeInMs),Yt(n,Be.DocumentLoadTimeInMs),Yt(n,Be.VMExecutionTimeInMs),Aa.createFromDelimitedString(e),Yt(n,Be.DocumentWriteTimeInMs),r||eo.zero)}};function AI(t){if(typeof t==\"number\")return t;if(typeof t==\"string\")return parseFloat(t);if(t){let e=t[E.HttpHeaders.RequestCharge];return e?parseFloat(e):0}else return 0}function me(){let t={};return t[E.HttpHeaders.RequestCharge]=0,t[E.HttpHeaders.QueryMetrics]={},t}function mt(t,e){if(t[E.HttpHeaders.RequestCharge]===void 0&&(t[E.HttpHeaders.RequestCharge]=0),t[E.HttpHeaders.QueryMetrics]===void 0&&(t[E.HttpHeaders.QueryMetrics]=Yo.zero),!!e){if(t[E.HttpHeaders.RequestCharge]+=AI(e),e[E.HttpHeaders.IsRUPerMinuteUsed]&&(t[E.HttpHeaders.IsRUPerMinuteUsed]=e[E.HttpHeaders.IsRUPerMinuteUsed]),E.HttpHeaders.QueryMetrics in e){let r=t[E.HttpHeaders.QueryMetrics],n=e[E.HttpHeaders.QueryMetrics];for(let i in n)if(r[i]){let o=r[i].add([n[i]]);r[i]=o}else r[i]=n[i]}E.HttpHeaders.IndexUtilization in e&&(t[E.HttpHeaders.IndexUtilization]=e[E.HttpHeaders.IndexUtilization]),E.HttpHeaders.CorrelatedActivityId in e&&(t[E.HttpHeaders.CorrelatedActivityId]=e[E.HttpHeaders.CorrelatedActivityId])}}function uk(t){try{if(!t||t===\"\")return\"{}\";let e=decodeURIComponent(t),r=JSON.parse(e);return JSON.stringify(r)}catch(e){console.error(\"Error parsing JSON file:\",e.message)}}var ca=class{resources;headers;hasMoreResults;diagnostics;constructor(e,r,n,i){this.resources=e,this.headers=r,this.hasMoreResults=n,this.diagnostics=i}get continuation(){return this.continuationToken}get continuationToken(){return this.headers[E.HttpHeaders.Continuation]}get queryMetrics(){return this.headers[E.HttpHeaders.QueryMetrics]}get requestCharge(){return AI(this.headers)}get activityId(){return this.headers[E.HttpHeaders.ActivityId]}get correlatedActivityId(){return this.headers[E.HttpHeaders.CorrelatedActivityId]}get indexMetrics(){return uk(this.headers[E.HttpHeaders.IndexUtilization])}};var Vo=\"TimeoutError\",hu=class extends Error{code=Vo;constructor(e=\"Timeout Error\"){super(e),this.name=Vo}};var dk=ve(\"cosmosdb\");var to=class{minInclusive;maxExclusive;continuationToken;epkMinHeader;epkMaxHeader;constructor(e,r,n,i,o){this.minInclusive=e,this.maxExclusive=r,this.continuationToken=n,this.epkMinHeader=i,this.epkMaxHeader=o}};var ro=class{result;count;statusCode;diagnostics;subStatusCode;constructor(e,r,n,i,o,s){this.result=e,this.count=r,this.statusCode=n,this.diagnostics=o,this.subStatusCode=s,this.headers=i}get requestCharge(){let e=this.headers[E.HttpHeaders.RequestCharge];return e?parseInt(e,10):null}get activityId(){return this.headers[E.HttpHeaders.ActivityId]}get continuationToken(){return this.headers[E.HttpHeaders.ContinuationToken]}get sessionToken(){return this.headers[E.HttpHeaders.SessionToken]}headers};var St=class t{min;max;isMinInclusive;isMaxInclusive;constructor(e,r,n,i){this.min=e,this.max=r,this.isMinInclusive=n,this.isMaxInclusive=i}overlaps(e){let r=this,n=e;return r===void 0||n===void 0||r.isEmpty()||n.isEmpty()?!1:r.min<=n.max||n.min<=r.max?!(r.min===n.max&&!(r.isMinInclusive&&n.isMaxInclusive)||n.min===r.max&&!(n.isMinInclusive&&r.isMaxInclusive)):!1}isFullRange(){return this.min===E.EffectivePartitionKeyConstants.MinimumInclusiveEffectivePartitionKey&&this.max===E.EffectivePartitionKeyConstants.MaximumExclusiveEffectivePartitionKey&&this.isMinInclusive===!0&&this.isMaxInclusive===!1}isEmpty(){return!(this.isMinInclusive&&this.isMaxInclusive)&&this.min===this.max}static parsePartitionKeyRange(e){return new t(e[E.PartitionKeyRange.MinInclusive],e[E.PartitionKeyRange.MaxExclusive],!0,!1)}static parseFromDict(e){return new t(e.min,e.max,e.isMinInclusive,e.isMaxInclusive)}};var Wg=class{orderedPartitionKeyRanges;orderedRanges;orderedPartitionInfo;constructor(e,r){this.orderedPartitionKeyRanges=e,this.orderedRanges=e.map(n=>new St(n[E.PartitionKeyRange.MinInclusive],n[E.PartitionKeyRange.MaxExclusive],!0,!1)),this.orderedPartitionInfo=r}getOrderedParitionKeyRanges(){return this.orderedPartitionKeyRanges}getOverlappingRanges(e){let r=Array.isArray(e)?e:[e],n={};for(let o of r){if(o.isEmpty())continue;if(o.isFullRange())return this.orderedPartitionKeyRanges;let s=this.orderedRanges.findIndex(A=>{if(o.min>A.min&&o.min<A.max||o.min===A.min||o.min===A.max)return!0});if(s<0)throw new Error(\"error in collection routing map, queried value is less than the start range.\");let a;for(let A=this.orderedRanges.length-1;A>=0;A--){let c=this.orderedRanges[A];if(o.max>c.min&&o.max<c.max){a=A;break}if(o.max===c.min){a=A;break}if(o.max===c.max){a=A;break}}if(a>this.orderedRanges.length)throw new Error(\"error in collection routing map, queried value is greater than the end range.\");for(let A=s;A<a+1;A++)o.overlaps(this.orderedRanges[A])&&(n[this.orderedPartitionKeyRanges[A][E.PartitionKeyRange.MinInclusive]]=this.orderedPartitionKeyRanges[A])}return Object.keys(n).map(o=>n[o]).sort((o,s)=>o[E.PartitionKeyRange.MinInclusive].localeCompare(s[E.PartitionKeyRange.MinInclusive]))}};var la=class{clientSideRequestStatistics;diagnosticNode;clientConfig;constructor(e,r,n){this.clientSideRequestStatistics=e,this.diagnosticNode=r,this.clientConfig=n}},_r;(function(t){t.PartitionKeyRangeLookUp=\"PARTITION_KEY_RANGE_LOOK_UP\",t.DatabaseAccountLookUp=\"DATABASE_ACCOUNT_LOOK_UP\",t.QueryPlanLookUp=\"QUERY_PLAN_LOOK_UP\",t.DatabaseLookUp=\"DATABASE_LOOK_UP\",t.ContainerLookUp=\"CONTAINER_LOOK_UP\"})(_r||(_r={}));function cI(t){return t.parent?cI(t.parent):t}function xt(){return Date.now()}function ZA(t,e){let r=setInterval(()=>{(async()=>await t())()},e);return r.unref&&typeof r.unref==\"function\"&&r.unref(),r}var zg=class{requestStartTimeUTCinMs;failedAttempts=[];metadataLookups=[];gatewayStatistics=[];locationEndpointsContacted=new Set;encryptionDiagnostics;constructor(){this.requestStartTimeUTCinMs=xt()}recordFailedAttempt(e,r){let n={attemptNumber:r,startTimeUTCInMs:e.startTimeUTCInMs,durationInMs:e.durationInMs,statusCode:e.statusCode,substatusCode:e.subStatusCode,requestPayloadLengthInBytes:e.requestPayloadLengthInBytes,responsePayloadLengthInBytes:e.responsePayloadLengthInBytes,activityId:e.activityId,operationType:e.operationType,resourceType:e.resourceType};this.failedAttempts.push(n)}recordNetworkCall(e){this.gatewayStatistics.push(e)}recordEncryptionDiagnostics(e){let{encryptContent:r,decryptContent:n}=e,i=r[E.Encryption.DiagnosticsDuration]??0,o=n[E.Encryption.DiagnosticsDuration]??0;e.processingDurationInMs=i+o,this.encryptionDiagnostics=e}mergeDiagnostics(e,r){e.locationEndpointsContacted.forEach(n=>this.locationEndpointsContacted.add(n)),e.gatewayStatistics.forEach(n=>this.metadataLookups.push({activityId:n.activityId,requestPayloadLengthInBytes:n.requestPayloadLengthInBytes,responsePayloadLengthInBytes:n.responsePayloadLengthInBytes,startTimeUTCInMs:n.startTimeUTCInMs,operationType:n.operationType,resourceType:n.resourceType,durationInMs:n.durationInMs,metaDataType:r}))}mergeBulkDiagnostics(e){e.locationEndpointsContacted.forEach(r=>this.locationEndpointsContacted.add(r)),e.gatewayStatistics.forEach(r=>this.gatewayStatistics.push(r)),e.metadataLookups.forEach(r=>this.metadataLookups.push(r)),e.failedAttempts.forEach(r=>this.failedAttempts.push(r)),this.encryptionDiagnostics?e.encryptionDiagnostics&&(this.encryptionDiagnostics.decryptContent=e.encryptionDiagnostics.decryptContent,this.encryptionDiagnostics.processingDurationInMs=(this.encryptionDiagnostics.processingDurationInMs||0)+(e.encryptionDiagnostics.processingDurationInMs||0)):this.encryptionDiagnostics=e.encryptionDiagnostics}getClientSideStats(e=xt()){return{requestStartTimeUTCInMs:this.requestStartTimeUTCinMs,requestDurationInMs:e-this.requestStartTimeUTCinMs,totalRequestPayloadLengthInBytes:this.getTotalRequestPayloadLength(),totalResponsePayloadLengthInBytes:this.getTotalResponsePayloadLength(),locationEndpointsContacted:[...this.locationEndpointsContacted.values()],metadataDiagnostics:{metadataLookups:[...this.metadataLookups]},retryDiagnostics:{failedAttempts:[...this.failedAttempts]},gatewayStatistics:this.gatewayStatistics,encryptionDiagnostics:this.encryptionDiagnostics}}getTotalRequestPayloadLength(){let e=0;return this.gatewayStatistics.forEach(r=>e+=r.requestPayloadLengthInBytes),this.metadataLookups.forEach(r=>e+=r.requestPayloadLengthInBytes),this.failedAttempts.forEach(r=>e+=r.requestPayloadLengthInBytes),e}getTotalResponsePayloadLength(){let e=0;return this.gatewayStatistics.forEach(r=>e+=r.responsePayloadLengthInBytes),this.metadataLookups.forEach(r=>e+=r.responsePayloadLengthInBytes),this.failedAttempts.forEach(r=>e+=r.responsePayloadLengthInBytes),e}recordEndpointResolution(e){this.locationEndpointsContacted.add(e)}};var gt;(function(t){t.info=\"info\",t.debug=\"debug\",t.debugUnsafe=\"debug-unsafe\"})(gt||(gt={}));var hk=[gt.info,gt.debug,gt.debugUnsafe];function no(t,e){let r=hk.indexOf(t),n=hk.indexOf(e);return r===-1||n===-1?!1:r<=n}function gu(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function fu(t,e){let r=e.retryDelayInMs*Math.pow(2,t),n=Math.min(e.maxRetryDelayInMs,r);return{retryAfterInMs:n/2+gu(0,n/2)}}function ec(t){return typeof t==\"object\"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}function ua(t){if(ec(t)){let e=typeof t.name==\"string\",r=typeof t.message==\"string\";return e&&r}return!1}var gk=require(\"node:crypto\"),Jq=typeof globalThis?.crypto?.randomUUID==\"function\"?globalThis.crypto.randomUUID.bind(globalThis.crypto):gk.randomUUID;function da(){return Jq()}var fk=typeof window<\"u\"&&typeof window.document<\"u\",pk=typeof self==\"object\"&&typeof self?.importScripts==\"function\"&&(self.constructor?.name===\"DedicatedWorkerGlobalScope\"||self.constructor?.name===\"ServiceWorkerGlobalScope\"||self.constructor?.name===\"SharedWorkerGlobalScope\"),Ek=typeof Deno<\"u\"&&typeof Deno.version<\"u\"&&typeof Deno.version.deno<\"u\",Ck=typeof Bun<\"u\"&&typeof Bun.version<\"u\",Jo=typeof globalThis.process<\"u\"&&!!globalThis.process.version&&!!globalThis.process.versions?.node;var mk=typeof navigator<\"u\"&&navigator?.product===\"ReactNative\";function Hr(t,e){return Buffer.from(t,e)}var lI=\"REDACTED\",Kq=[\"x-ms-client-request-id\",\"x-ms-return-client-request-id\",\"x-ms-useragent\",\"x-ms-correlation-request-id\",\"x-ms-request-id\",\"client-request-id\",\"ms-cv\",\"return-client-request-id\",\"traceparent\",\"Access-Control-Allow-Credentials\",\"Access-Control-Allow-Headers\",\"Access-Control-Allow-Methods\",\"Access-Control-Allow-Origin\",\"Access-Control-Expose-Headers\",\"Access-Control-Max-Age\",\"Access-Control-Request-Headers\",\"Access-Control-Request-Method\",\"Origin\",\"Accept\",\"Accept-Encoding\",\"Cache-Control\",\"Connection\",\"Content-Length\",\"Content-Type\",\"Date\",\"ETag\",\"Expires\",\"If-Match\",\"If-Modified-Since\",\"If-None-Match\",\"If-Unmodified-Since\",\"Last-Modified\",\"Pragma\",\"Request-Id\",\"Retry-After\",\"Server\",\"Transfer-Encoding\",\"User-Agent\",\"WWW-Authenticate\"],Wq=[\"api-version\"],Zn=class{allowedHeaderNames;allowedQueryParameters;constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:r=[]}={}){e=Kq.concat(e),r=Wq.concat(r),this.allowedHeaderNames=new Set(e.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(r.map(n=>n.toLowerCase()))}sanitize(e){let r=new Set;return JSON.stringify(e,(n,i)=>{if(i instanceof Error)return{...i,name:i.name,message:i.message};if(n===\"headers\")return this.sanitizeHeaders(i);if(n===\"url\")return this.sanitizeUrl(i);if(n===\"query\")return this.sanitizeQuery(i);if(n===\"body\")return;if(n===\"response\")return;if(n===\"operationSpec\")return;if(Array.isArray(i)||ec(i)){if(r.has(i))return\"[Circular]\";r.add(i)}return i},2)}sanitizeUrl(e){if(typeof e!=\"string\"||e===null||e===\"\")return e;let r=new URL(e);if(!r.search)return e;for(let[n]of r.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||r.searchParams.set(n,lI);return r.toString()}sanitizeHeaders(e){let r={};for(let n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?r[n]=e[n]:r[n]=lI;return r}sanitizeQuery(e){if(typeof e!=\"object\"||e===null)return e;let r={};for(let n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?r[n]=e[n]:r[n]=lI;return r}};var pu=class extends Error{constructor(e){super(e),this.name=\"AbortError\"}};function dI(t,e){let{cleanupBeforeAbort:r,abortSignal:n,abortErrorMsg:i}=e??{};return new Promise((o,s)=>{function a(){s(new pu(i??\"The operation was aborted.\"))}function A(){n?.removeEventListener(\"abort\",c)}function c(){r?.(),A(),a()}if(n?.aborted)return a();try{t(l=>{A(),o(l)},l=>{A(),s(l)})}catch(l){s(l)}n?.addEventListener(\"abort\",c)})}var Zq=\"The delay was aborted.\";function tc(t,e){let r,{abortSignal:n,abortErrorMsg:i}=e??{};return dI(o=>{r=setTimeout(o,t)},{cleanupBeforeAbort:()=>clearTimeout(r),abortSignal:n,abortErrorMsg:i??Zq})}function rc(t){if(ua(t))return t.message;{let e;try{typeof t==\"object\"&&t?e=JSON.stringify(t):e=String(t)}catch{e=\"[unable to stringify input]\"}return`Unknown error ${e}`}}function yk(t,e){return fu(t,e)}function jg(t){return ua(t)}function pr(){return da()}var $g=Jo,nc=Jo;var jt=class t{id;nodeType;parent;children;data;startTimeUTCInMs;durationInMs;diagnosticLevel;diagnosticCtx;encryptionDiagnostics;constructor(e,r,n,i={},o=xt(),s=new zg){this.id=pr(),this.nodeType=r,this.startTimeUTCInMs=o,this.data=i,this.children=[],this.durationInMs=0,this.parent=n,this.diagnosticCtx=s,this.diagnosticLevel=e,this.encryptionDiagnostics={encryptContent:{},decryptContent:{},processingDurationInMs:0}}addLog(e){this.data.log||(this.data.log=[]),this.data.log.push(e)}sanitizeHeaders(e){return e}updateTimestamp(e=xt()){this.durationInMs=e-this.startTimeUTCInMs}recordSuccessfulNetworkCall(e,r,n,i,o){let a={activityId:n.headers.toJSON()[E.HttpHeaders.ActivityId],correlateActivityId:r.headers[E.HttpHeaders.CorrelatedActivityId],startTimeUTCInMs:e,durationInMs:xt()-e,statusCode:n.status,subStatusCode:i,requestPayloadLengthInBytes:Ik(r),responsePayloadLengthInBytes:eG(n),operationType:r.operationType,resourceType:r.resourceType,partitionKeyRangeId:r.partitionKeyRangeId},A={OperationType:a.operationType,resourceType:a.resourceType,requestPayloadLengthInBytes:a.requestPayloadLengthInBytes};no(gt.debugUnsafe,this.diagnosticLevel)&&(A={...A,headers:this.sanitizeHeaders(r.headers),requestBody:r.body,responseBody:n.bodyAsText,url:o}),this.addData({requestPayloadLengthInBytes:a.requestPayloadLengthInBytes,responsePayloadLengthInBytes:a.responsePayloadLengthInBytes,startTimeUTCInMs:a.startTimeUTCInMs,durationInMs:a.durationInMs,requestData:A}),this.diagnosticCtx.recordNetworkCall(a)}recordFailedNetworkCall(e,r,n,i,o,s){this.addData({failedAttempty:!0});let a=Ik(r);this.diagnosticCtx.recordFailedAttempt({activityId:s[E.HttpHeaders.ActivityId],correlatedActivityId:r.headers[E.HttpHeaders.CorrelatedActivityId],startTimeUTCInMs:e,durationInMs:xt()-e,statusCode:i,subStatusCode:o,requestPayloadLengthInBytes:a,responsePayloadLengthInBytes:0,operationType:r.operationType,resourceType:r.resourceType},n);let A={OperationType:r.operationType,resourceType:r.resourceType,requestPayloadLengthInBytes:a};no(gt.debugUnsafe,this.diagnosticLevel)&&(A={...A,headers:this.sanitizeHeaders(r.headers),requestBody:r.body,url:Gg(r.endpoint,r.path)}),this.addData({failedAttempty:!0,requestData:A})}recordEndpointResolution(e){this.addData({selectedLocation:e}),this.diagnosticCtx.recordEndpointResolution(e)}addData(e,r,n=this.diagnosticLevel){n!==gt.info&&(this.data={...this.data,...e},r&&this.addLog(r))}addChildNode(e,r,n){return this.diagnosticCtx.mergeDiagnostics(e.diagnosticCtx,n),no(r,this.diagnosticLevel)&&(e.parent=this,this.children.push(e)),e}addBulkChildNode(e,r){return this.diagnosticCtx.mergeBulkDiagnostics(e.diagnosticCtx),no(r,this.diagnosticLevel)&&(e.parent=this,this.children.push(e)),e}initializeChildNode(e,r,n={}){if(no(r,this.diagnosticLevel)){let i=new t(this.diagnosticLevel,e,this,n,xt(),this.diagnosticCtx);return this.children.push(i),i}else return this}recordQueryResult(e,r){if(no(r,this.diagnosticLevel)){let n=this.data.queryRecordsRead??0;Array.isArray(e)&&(this.data.queryRecordsRead=n+e.length)}}beginEncryptionDiagnostics(e){let r=xt();switch(e){case E.Encryption.DiagnosticsEncryptOperation:this.encryptionDiagnostics.encryptContent[E.Encryption.DiagnosticsStartTime]=r;break;case E.Encryption.DiagnosticsDecryptOperation:this.encryptionDiagnostics.decryptContent[E.Encryption.DiagnosticsStartTime]=r;break;default:throw new v(\"Invalid operation type for encryption diagnostics\")}}endEncryptionDiagnostics(e,r){let n=xt(),i=0;switch(e){case E.Encryption.DiagnosticsEncryptOperation:i=n-this.encryptionDiagnostics.encryptContent[E.Encryption.DiagnosticsStartTime],this.encryptionDiagnostics.encryptContent[E.Encryption.DiagnosticsDuration]=i,r!==void 0&&(this.encryptionDiagnostics.encryptContent[E.Encryption.DiagnosticsPropertiesEncryptedCount]=r);break;case E.Encryption.DiagnosticsDecryptOperation:i=n-this.encryptionDiagnostics.decryptContent[E.Encryption.DiagnosticsStartTime],this.encryptionDiagnostics.decryptContent[E.Encryption.DiagnosticsDuration]=i,r!==void 0&&(this.encryptionDiagnostics.decryptContent[E.Encryption.DiagnosticsPropertiesDecryptedCount]=r);break;default:throw new v(\"Invalid operation type for encryption diagnostics\")}this.diagnosticCtx.recordEncryptionDiagnostics(this.encryptionDiagnostics)}toDiagnosticNode(){return{id:this.id,nodeType:this.nodeType,children:this.children.map(e=>e.toDiagnosticNode()),data:this.data,startTimeUTCInMs:this.startTimeUTCInMs,durationInMs:this.durationInMs}}toDiagnostic(e){let r=cI(this),n=no(gt.debug,this.diagnosticLevel)?r.toDiagnosticNode():void 0,i=no(gt.debug,this.diagnosticLevel)?e:void 0;return new la(this.diagnosticCtx.getClientSideStats(),n,i)}},_e;(function(t){t.CLIENT_REQUEST_NODE=\"CLIENT_REQUEST_NODE\",t.METADATA_REQUEST_NODE=\"METADATA_REQUEST_NODE\",t.HTTP_REQUEST=\"HTTP_REQUEST\",t.BATCH_REQUEST=\"BATCH_REQUEST\",t.PARALLEL_QUERY_NODE=\"PARALLEL_QUERY_NODE\",t.DEFAULT_QUERY_NODE=\"DEFAULT_QUERY_NODE\",t.QUERY_REPAIR_NODE=\"QUERY_REPAIR_NODE\",t.BACKGROUND_REFRESH_THREAD=\"BACKGROUND_REFRESH_THREAD\",t.REQUEST_ATTEMPTS=\"REQUEST_ATTEMPTS\"})(_e||(_e={}));function eG(t){return t?.bodyAsText?.length||0}function Ik(t){return t.body?t.body.length:0}function G(){return new la({requestDurationInMs:0,requestStartTimeUTCInMs:xt(),totalRequestPayloadLengthInBytes:0,totalResponsePayloadLengthInBytes:0,locationEndpointsContacted:[],retryDiagnostics:{failedAttempts:[]},metadataDiagnostics:{metadataLookups:[]},gatewayStatistics:[]},{id:pr(),nodeType:_e.CLIENT_REQUEST_NODE,children:[],data:{},startTimeUTCInMs:xt(),durationInMs:0})}async function fi(t,e,r,n={}){let i=e.initializeChildNode(r,gt.debug,n);try{let o=await t(i);return i.updateTimestamp(),o}catch(o){throw i.addData({failure:!0}),i.updateTimestamp(),o}}async function ei(t,e,r){let n=new jt(e.diagnosticLevel,_e.METADATA_REQUEST_NODE,null);try{let i=await t(n);return e.addChildNode(n,gt.debug,r),i}catch(i){throw e.addChildNode(n,gt.debug,r),i}}async function O(t,e,r=_e.CLIENT_REQUEST_NODE){let n=new jt(e.diagnosticLevel,r,null);try{let i=await t(n);n.updateTimestamp();let o=n.toDiagnostic(e.getClientConfig());return typeof i==\"object\"&&i!==null&&(i.diagnostics=o),e.recordDiagnostics(o),i}catch(i){n.updateTimestamp(),n.addData({failure:!0});let o=n.toDiagnostic(e.getClientConfig());throw i.diagnostics=o,e.recordDiagnostics(o),i}}function tG(t,e){let r=t[0][E.PartitionKeyRange.MinInclusive],n=e[0][E.PartitionKeyRange.MinInclusive];return r>n?1:r<n?-1:0}function Bk(t){let e={},r={},n=[];for(let s of t)e[s[0][E.PartitionKeyRange.Id]]=s,r[s[1]]=s[0],n.push(s);n=n.sort(tG);let i=n.map(s=>s[0]),o=n.map(s=>s[1]);if(rG(i))return new Wg(i,o)}function rG(t){let e=!1;if(t.length>0){let r=t[0],n=t[t.length-1];e=r[E.PartitionKeyRange.MinInclusive]===E.EffectivePartitionKeyConstants.MinimumInclusiveEffectivePartitionKey,e=e&&n[E.PartitionKeyRange.MaxExclusive]===E.EffectivePartitionKeyConstants.MaximumExclusiveEffectivePartitionKey;for(let i=1;i<t.length;i++){let o=t[i-1],s=t[i];if(e=e&&o[E.PartitionKeyRange.MaxExclusive]===s[E.PartitionKeyRange.MinInclusive],!e){if(o[E.PartitionKeyRange.MaxExclusive]>s[E.PartitionKeyRange.MinInclusive])throw Error(\"Ranges overlap\");break}}}return e}function xe(t){let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=parseInt(t.substr(r,2),16);return e}function ha(t){return Array.from(t).map(e=>(\"00\"+e.toString(16)).slice(-2)).join(\"\")}function Er(t){let e=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var Ve={Undefined:\"00\",Null:\"01\",False:\"02\",True:\"03\",MinNumber:\"04\",Number:\"05\",MaxNumber:\"06\",MinString:\"07\",String:\"08\",MaxString:\"09\",Int64:\"0a\",Int32:\"0b\",Int16:\"0c\",Int8:\"0d\",Uint64:\"0e\",Uint32:\"0f\",Uint16:\"10\",Uint8:\"11\",Binary:\"12\",Guid:\"13\",Float:\"14\",Infinity:\"FF\"};function gI(t){let e=nG(t),r=xe(Ve.Number),n=e>>BigInt(56)&BigInt(255);r=Er([r,xe(n.toString(16).padStart(2,\"0\"))]),e=e<<BigInt(8)&BigInt(\"0xffffffffffffffff\");let i=BigInt(0),o=!0;do{if(o)o=!1;else{let c=i.toString(16).padStart(2,\"0\");c!==\"00\"&&(r=Er([r,xe(c)]))}i=e>>BigInt(56)&BigInt(255)|BigInt(1),e=e<<BigInt(7)&BigInt(\"0xffffffffffffffff\")}while(e!==BigInt(0));let a=(i&BigInt(254)).toString(16).padStart(2,\"0\");return a!==\"00\"&&(r=Er([r,xe(a)])),r}function nG(t){let e=Qk(t),r=BigInt(\"0x8000000000000000\");return r>e?e^r:~e+BigInt(1)}function Qk(t){let e=new ArrayBuffer(8);return new DataView(e).setFloat64(0,t),BigInt(\"0x\"+iG(new Uint8Array(e)))}function iG(t){return Array.from(t).map(e=>e.toString(16).padStart(2,\"0\")).join(\"\")}function Xg(t){let e=new Uint8Array(8),r=Qk(t);for(let n=0;n<8;n++)e[n]=Number(r>>BigInt(n*8)&BigInt(255));return e}function Xe(t,e){return(t&65535)*e+(((t>>>16)*e&65535)<<16)}function Cr(t,e){return t<<e|t>>>32-e}function Eu(t){return t^=t>>>16,t=Xe(t,2246822507),t^=t>>>13,t=Xe(t,3266489909),t^=t>>>16,t}function Ko(t,e){t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535],e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535];let r=[0,0,0,0];return r[3]+=t[3]+e[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=t[2]+e[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=t[1]+e[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=t[0]+e[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function Nn(t,e){t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535],e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535];let r=[0,0,0,0];return r[3]+=t[3]*e[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=t[2]*e[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=t[3]*e[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=t[1]*e[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=t[2]*e[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=t[3]*e[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function ic(t,e){return e%=64,e===32?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])}function nn(t,e){return e%=64,e===0?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]}function ft(t,e){return[t[0]^e[0],t[1]^e[1]]}function wk(t){return t=ft(t,[0,t[0]>>>1]),t=Nn(t,[4283543511,3981806797]),t=ft(t,[0,t[0]>>>1]),t=Nn(t,[3301882366,444984403]),t=ft(t,[0,t[0]>>>1]),t}function oG(t,e){e=e||0;let r=t.length%4,n=t.length-r,i=e,o=0,s=3432918353,a=461845907,A=0;for(let c=0;c<n;c=c+4)o=t[c]|t[c+1]<<8|t[c+2]<<16|t[c+3]<<24,o=Xe(o,s),o=Cr(o,15),o=Xe(o,a),i^=o,i=Cr(i,13),i=Xe(i,5)+3864292196,A=c+4;switch(o=0,r){case 3:o^=t[A+2]<<16;case 2:o^=t[A+1]<<8;case 1:o^=t[A],o=Xe(o,s),o=Cr(o,15),o=Xe(o,a),i^=o}return i^=t.length,i=Eu(i),i>>>0}function sG(t,e){e=e||0;let r=t.length%16,n=t.length-r,i=e,o=e,s=e,a=e,A=0,c=0,l=0,u=0,d=597399067,h=2869860233,g=951274213,p=2716044179,f=0;for(let C=0;C<n;C=C+16)A=t[C]|t[C+1]<<8|t[C+2]<<16|t[C+3]<<24,c=t[C+4]|t[C+5]<<8|t[C+6]<<16|t[C+7]<<24,l=t[C+8]|t[C+9]<<8|t[C+10]<<16|t[C+11]<<24,u=t[C+12]|t[C+13]<<8|t[C+14]<<16|t[C+15]<<24,A=Xe(A,d),A=Cr(A,15),A=Xe(A,h),i^=A,i=Cr(i,19),i+=o,i=Xe(i,5)+1444728091,c=Xe(c,h),c=Cr(c,16),c=Xe(c,g),o^=c,o=Cr(o,17),o+=s,o=Xe(o,5)+197830471,l=Xe(l,g),l=Cr(l,17),l=Xe(l,p),s^=l,s=Cr(s,15),s+=a,s=Xe(s,5)+2530024501,u=Xe(u,p),u=Cr(u,18),u=Xe(u,d),a^=u,a=Cr(a,13),a+=i,a=Xe(a,5)+850148119,f=C+16;switch(A=0,c=0,l=0,u=0,r){case 15:u^=t[f+14]<<16;case 14:u^=t[f+13]<<8;case 13:u^=t[f+12],u=Xe(u,p),u=Cr(u,18),u=Xe(u,d),a^=u;case 12:l^=t[f+11]<<24;case 11:l^=t[f+10]<<16;case 10:l^=t[f+9]<<8;case 9:l^=t[f+8],l=Xe(l,g),l=Cr(l,17),l=Xe(l,p),s^=l;case 8:c^=t[f+7]<<24;case 7:c^=t[f+6]<<16;case 6:c^=t[f+5]<<8;case 5:c^=t[f+4],c=Xe(c,h),c=Cr(c,16),c=Xe(c,g),o^=c;case 4:A^=t[f+3]<<24;case 3:A^=t[f+2]<<16;case 2:A^=t[f+1]<<8;case 1:A^=t[f],A=Xe(A,d),A=Cr(A,15),A=Xe(A,h),i^=A}return i^=t.length,o^=t.length,s^=t.length,a^=t.length,i+=o,i+=s,i+=a,o+=i,s+=i,a+=i,i=Eu(i),o=Eu(o),s=Eu(s),a=Eu(a),i+=o,i+=s,i+=a,o+=i,s+=i,a+=i,(\"00000000\"+(i>>>0).toString(16)).slice(-8)+(\"00000000\"+(o>>>0).toString(16)).slice(-8)+(\"00000000\"+(s>>>0).toString(16)).slice(-8)+(\"00000000\"+(a>>>0).toString(16)).slice(-8)}function aG(t,e){e=e||0;let r=t.length%16,n=t.length-r,i=[0,e],o=[0,e],s=[0,0],a=[0,0],A=[2277735313,289559509],c=[1291169091,658871167],l=0;for(let C=0;C<n;C=C+16)s=[t[C+4]|t[C+5]<<8|t[C+6]<<16|t[C+7]<<24,t[C]|t[C+1]<<8|t[C+2]<<16|t[C+3]<<24],a=[t[C+12]|t[C+13]<<8|t[C+14]<<16|t[C+15]<<24,t[C+8]|t[C+9]<<8|t[C+10]<<16|t[C+11]<<24],s=Nn(s,A),s=ic(s,31),s=Nn(s,c),i=ft(i,s),i=ic(i,27),i=Ko(i,o),i=Ko(Nn(i,[0,5]),[0,1390208809]),a=Nn(a,c),a=ic(a,33),a=Nn(a,A),o=ft(o,a),o=ic(o,31),o=Ko(o,i),o=Ko(Nn(o,[0,5]),[0,944331445]),l=C+16;switch(s=[0,0],a=[0,0],r){case 15:a=ft(a,nn([0,t[l+14]],48));case 14:a=ft(a,nn([0,t[l+13]],40));case 13:a=ft(a,nn([0,t[l+12]],32));case 12:a=ft(a,nn([0,t[l+11]],24));case 11:a=ft(a,nn([0,t[l+10]],16));case 10:a=ft(a,nn([0,t[l+9]],8));case 9:a=ft(a,[0,t[l+8]]),a=Nn(a,c),a=ic(a,33),a=Nn(a,A),o=ft(o,a);case 8:s=ft(s,nn([0,t[l+7]],56));case 7:s=ft(s,nn([0,t[l+6]],48));case 6:s=ft(s,nn([0,t[l+5]],40));case 5:s=ft(s,nn([0,t[l+4]],32));case 4:s=ft(s,nn([0,t[l+3]],24));case 3:s=ft(s,nn([0,t[l+2]],16));case 2:s=ft(s,nn([0,t[l+1]],8));case 1:s=ft(s,[0,t[l]]),s=Nn(s,A),s=ic(s,31),s=Nn(s,c),i=ft(i,s)}i=ft(i,[0,t.length]),o=ft(o,[0,t.length]),i=Ko(i,o),o=Ko(o,i),i=wk(i),o=wk(o),i=Ko(i,o),o=Ko(o,i);let u=(\"00000000\"+(i[0]>>>0).toString(16)).slice(-8)+(\"00000000\"+(i[1]>>>0).toString(16)).slice(-8),d=xe(u),h=ha(Rk(d)),g=(\"00000000\"+(o[0]>>>0).toString(16)).slice(-8)+(\"00000000\"+(o[1]>>>0).toString(16)).slice(-8),p=xe(g),f=ha(Rk(p));return h+f}function Rk(t){let e=new Uint8Array(t.length);for(let r=0,n=t.length-1;r<=n;++r,--n)e[r]=t[n],e[n]=t[r];return e}var Zg={version:\"3.0.0\",x86:{hash32:oG,hash128:sG},x64:{hash128:aG},inputValidation:!0};function oc(t){let e=Er(t.map(AG)),r=Zg.x64.hash128(e),n=cG(xe(r));return n[0]&=63,ha(n).toUpperCase()}function AG(t){let e;switch(typeof t){case\"string\":return e=Er([xe(Ve.String),new TextEncoder().encode(t),xe(Ve.Infinity)]),e;case\"number\":{let r=Xg(t);return e=Er([xe(Ve.Number),r]),e}case\"boolean\":{let r=t?Ve.True:Ve.False;return xe(r)}case\"object\":return t===null?xe(Ve.Null):xe(Ve.Undefined);case\"undefined\":return xe(Ve.Undefined);default:throw new Error(`Unexpected type: ${typeof t}`)}}function cG(t){let e=new Uint8Array(t.length);for(let r=0,n=t.length-1;r<=n;++r,--n)e[r]=t[n],e[n]=t[r];return e}function Sk(t){return t.map(e=>oc([e])).join(\"\")}function Tk(t){let e=xe(Ve.String),r=100,n=new TextEncoder().encode(t),i=t.length<=r,o=e;for(let s=0;s<(i?n.length:r+1);s++){let a=n[s];a<255&&a++;let A=a.toString(16).padStart(2,\"0\");o=Er([o,xe(A)])}return i&&(o=Er([o,xe(Ve.Undefined)])),o}var bk=100;function kk(t){let e=t[0],r=lG(e),n=Zg.x86.hash32(r),i=gI(n),o=uG(e);return ha(Er([i,o])).toUpperCase()}function lG(t){let e;switch(typeof t){case\"string\":{let r=t.substr(0,bk);return e=Er([xe(Ve.String),new TextEncoder().encode(r),xe(Ve.Undefined)]),e}case\"number\":{let r=Xg(t);return e=Er([xe(Ve.Number),r]),e}case\"boolean\":{let r=t?Ve.True:Ve.False;return xe(r)}case\"object\":return t===null?xe(Ve.Null):xe(Ve.Undefined);case\"undefined\":return xe(Ve.Undefined);default:throw new Error(`Unexpected type: ${typeof t}`)}}function uG(t){switch(typeof t){case\"string\":{let e=t.substring(0,bk);return Tk(e)}case\"number\":return gI(t);case\"boolean\":{let e=t?Ve.True:Ve.False;return xe(e)}case\"object\":return t===null?xe(Ve.Null):xe(Ve.Undefined);case\"undefined\":return xe(Ve.Undefined);default:throw new Error(`Unexpected type: ${typeof t}`)}}function ga(t,e){let r=e?.kind||$i.Hash,n=e&&e.version&&e.version===uu.V2;switch(r){case $i.Hash:return n?oc(t):kk(t);case $i.MultiHash:return Sk(t)}}function Dk(t,e){let r=0,n=t.length-1;for(;r<=n;){let i=Math.floor((r+n)/2),o=t[i];if(fa(o.minInclusive,o.maxExclusive,e))return o.id;e.localeCompare(o.minInclusive)<0?n=i-1:r=i+1}}var sc=class{clientContext;collectionRoutingMapByCollectionId;constructor(e){this.clientContext=e,this.collectionRoutingMapByCollectionId={}}async onCollectionRoutingMap(e,r,n=!1){let i=Y(e);return(this.collectionRoutingMapByCollectionId[i]===void 0||n)&&(this.collectionRoutingMapByCollectionId[i]=this.requestCollectionRoutingMap(e,r)),this.collectionRoutingMapByCollectionId[i]}async getOverlappingRanges(e,r,n,i=!1){return(await this.onCollectionRoutingMap(e,n,i)).getOverlappingRanges(r)}async requestCollectionRoutingMap(e,r){let{resources:n}=await ei(async i=>this.clientContext.queryPartitionKeyRanges(e).fetchAllInternal(i),r,_r.PartitionKeyRangeLookUp);return Bk(n.map(i=>[i,!0]))}async getPartitionKeyRangeIdFromPartitionKey(e,r,n,i){let o=ga(r,n),s=(await this.onCollectionRoutingMap(e,i)).getOrderedParitionKeyRanges();return Dk(s,o)}};var dG=E.PartitionKeyRange,Cu=class t{partitionKeyRangeCache;constructor(e){this.partitionKeyRangeCache=new sc(e)}static _secondRangeIsAfterFirstRange(e,r){if(typeof e.max>\"u\")throw new Error(\"range1 must have max\");if(typeof r.min>\"u\")throw new Error(\"range2 must have min\");return e.max>r.min?!1:!(e.max===r.min&&e.isMaxInclusive&&r.isMinInclusive)}static _isSortedAndNonOverlapping(e){for(let r=1;r<e.length;r++){let n=e[r-1],i=e[r];if(!this._secondRangeIsAfterFirstRange(n,i))return!1}return!0}static _stringMax(e,r){return e>=r?e:r}static _stringCompare(e,r){return e===r?0:e>r?1:-1}static _subtractRange(e,r){let n=this._stringMax(r[dG.MaxExclusive],e.min),i=this._stringCompare(n,e.min)===0?e.isMinInclusive:!1;return new St(n,e.max,i,e.isMaxInclusive)}async getOverlappingRanges(e,r,n){if(!t._isSortedAndNonOverlapping(r))throw new Error(\"the list of ranges is not a non-overlapping sorted ranges\");let i=[];if(r.length===0)return i;let o=await this.partitionKeyRangeCache.onCollectionRoutingMap(e,n),s=0,a=r[s];for(;;){if(a.isEmpty()){if(++s>=r.length)return i;a=r[s];continue}let A;i.length>0?A=t._subtractRange(a,i[i.length-1]):A=a;let c=o.getOverlappingRanges(A);if(c.length<=0)throw new Error(`error: returned overlapping ranges for queryRange ${A} is empty`);i=i.concat(c);let l=St.parsePartitionKeyRange(i[i.length-1]);if(!l)throw new Error(\"expected lastKnowTargetRange to be truthy\");if(t._stringCompare(a.max,l.max)>0)throw new Error(`error: returned overlapping ranges ${c}         does not contain the requested range ${A}`);if(++s>=r.length)return i;for(a=r[s];t._stringCompare(a.max,l.max)<=0;){if(++s>=r.length)return i;a=r[s]}}}};var ef=class{elements;constructor(){this.elements=[]}modifyFirstElement(e){this.isEmpty()||(this.elements[0]=e)}enqueue(e){this.elements.push(e)}dequeue(){return this.elements.shift()}peek(){return this.isEmpty()?void 0:this.elements[0]}isEmpty(){return this.elements.length===0}moveFirstElementToTheEnd(){this.isEmpty()||this.elements.push(this.dequeue())}returnSnapshot(){let e=[];return this.elements.map(r=>{let n=r.epkMinHeader?r.epkMinHeader:r.minInclusive,i=r.epkMaxHeader?r.epkMaxHeader:r.maxExclusive,o=new to(n,i,r.continuationToken);e.push(o)}),e}};var tf=class{rid;Continuation;constructor(e,r){this.rid=e,this.Continuation=r}};var Wo=class{cfResource;constructor(e){this.cfResource=e}getCfResource(){return this.cfResource}};var zo=class{cfResource;startTime;constructor(e,r){this.startTime=e,this.cfResource=r}getCfResource(){return this.cfResource}getStartTime(){return this.startTime}};var mu=class t{minInclusive;maxExclusive;constructor(e,r){if(new.target===t)throw new v(\"Cannot instantiate abstract class FeedRange\");this.minInclusive=e,this.maxExclusive=r}},pa=class extends mu{constructor(e,r){super(e,r)}};var on;(function(t){t.LatestVersion=\"Incremental Feed\",t.AllVersionsAndDeletes=\"Full-Fidelity Feed\"})(on||(on={}));function xk(t){if(!hG(t))throw new v(\"Invalid Changefeed Iterator Options.\");if(t?.maxItemCount&&typeof t?.maxItemCount!=\"number\")throw new v(\"maxItemCount must be number\");if(t?.maxItemCount!==void 0&&t?.maxItemCount<1)throw new v(\"maxItemCount must be a positive number\")}function hG(t){return typeof t!=\"object\"?!1:Object.keys(t).length===0&&JSON.stringify(t)===\"{}\"?!0:t&&!(du(t)||Array.isArray(t))}async function yu(t,e){return e.minInclusive>=t.min&&e.maxExclusive<=t.max?[void 0,void 0]:e.minInclusive<=t.min&&e.maxExclusive>=t.max?[t.min,t.max]:e.minInclusive<=t.min&&e.maxExclusive<=t.max&&e.maxExclusive>=t.min?[t.min,e.maxExclusive]:[e.minInclusive,t.max]}function vk(t){return t instanceof pa&&typeof t.minInclusive==\"string\"&&typeof t.maxExclusive==\"string\"&&t.minInclusive>=E.EffectivePartitionKeyConstants.MinimumInclusiveEffectivePartitionKey&&t.maxExclusive<=E.EffectivePartitionKeyConstants.MaximumExclusiveEffectivePartitionKey&&t.maxExclusive>t.minInclusive}function rf(t,e,r,n){let i={};return i.maxItemCount=t?.maxItemCount,i.sessionToken=t?.sessionToken,i.continuationToken=e,i.changeFeedMode=t?.changeFeedMode,i.excludedLocations=t?.excludedLocations,n?i.startFromNow=!0:i.startTime=r,i}function Nk(t){if(!(t instanceof Wo)&&t instanceof zo)return t.getStartTime()}function Pk(t){return t==null||t.trim()===\"\"}async function Mk(t){let e=gG(t),r=e+E.EffectivePartitionKeyConstants.MaximumExclusiveEffectivePartitionKey;return new St(e,r,!0,!1)}function gG(t){return t.map(r=>oc([r])).join(\"\")}async function nf(t,e,r,n){let i=0;e.beginEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation);for(let o of t.result)if(r===on.AllVersionsAndDeletes){if(\"current\"in o&&o.current!==null){let{body:s,propertiesDecryptedCount:a}=await n.decrypt(o.current);o.current=s,i+=a}if(\"previous\"in o&&o.previous!==null){let{body:s,propertiesDecryptedCount:a}=await n.decrypt(o.previous);o.previous=s,i+=a}}else{let{body:s,propertiesDecryptedCount:a}=await n.decrypt(o);o=s,i+=a}e.endEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation,i)}var Ea=class{clientContext;container;partitionKeyRangeCache;resourceId;resourceLink;url;changeFeedOptions;epkRange;continuationToken;queue;startTime;isInstantiated;rId;startFromNow;constructor(e,r,n,i,o,s,a,A){this.clientContext=e,this.container=r,this.partitionKeyRangeCache=n,this.resourceId=i,this.resourceLink=o,this.url=s,this.changeFeedOptions=a,this.epkRange=A,this.queue=new ef,this.continuationToken=a.continuationToken?JSON.parse(a.continuationToken):void 0,this.isInstantiated=!1,a.startFromNow?this.startFromNow=!0:a.startTime&&(this.startTime=a.startTime.toUTCString())}async setIteratorRid(e){let{resource:r}=await this.container.readInternal(e);this.rId=r._rid}continuationTokenRidMatchContainerRid(){return this.continuationToken.rid===this.rId}async fillChangeFeedQueue(e){this.continuationToken?await this.fetchContinuationTokenFeedRanges(e):await this.fetchOverLappingFeedRanges(e),this.isInstantiated=!0}async fetchOverLappingFeedRanges(e){try{let r=await this.partitionKeyRangeCache.getOverlappingRanges(this.url,this.epkRange,e);for(let n of r){let[i,o]=await yu(this.epkRange,n),s=new to(n.minInclusive,n.maxExclusive,\"\",i,o);this.queue.enqueue(s)}}catch(r){throw new v(r.message)}}async fetchContinuationTokenFeedRanges(e){let r=this.continuationToken;if(this.continuationTokenRidMatchContainerRid())for(let n of r.Continuation){let i=new St(n.minInclusive,n.maxExclusive,!0,!1);try{let o=await this.partitionKeyRangeCache.getOverlappingRanges(this.url,i,e);for(let s of o){let[a,A]=await yu(i,s),c=new to(s.minInclusive,s.maxExclusive,n.continuationToken,a,A);this.queue.enqueue(c)}}catch(o){throw new v(o.message)}}else throw new v(\"The continuation token is not for the current container definition\")}get hasMoreResults(){return!0}async*getAsyncIterator(){do yield await this.readNext();while(this.hasMoreResults)}async readNext(){return O(async e=>{this.isInstantiated||(await this.setIteratorRid(e),await this.fillChangeFeedQueue(e));let r,n;do{let[i,o]=await this.fetchNext(e);if(n=o,n!==void 0&&(r===void 0&&(r=i),this.queue.moveFirstElementToTheEnd(),n.statusCode===V.Ok))return n.headers[E.HttpHeaders.ContinuationToken]=this.generateContinuationToken(),this.clientContext.enableEncryption&&await nf(n,e,this.changeFeedOptions.changeFeedMode,this.container.encryptionProcessor),n}while(!this.checkedAllFeedRanges(r));return n.headers[E.HttpHeaders.ContinuationToken]=this.generateContinuationToken(),n},this.clientContext)}generateContinuationToken=()=>JSON.stringify(new tf(this.rId,this.queue.returnSnapshot()));async fetchNext(e){let r=this.queue.peek();if(r){let n=await this.getFeedResponse(r,e);if(await this.shouldRetryOnFailure(r,n,e))return this.queue.dequeue(),this.fetchNext(e);{let o=n.headers[E.HttpHeaders.ETag],s=this.queue.peek();return s.continuationToken=o,[s,n]}}else return[void 0,void 0]}checkedAllFeedRanges(e){if(e===void 0)return!1;let r=this.queue.peek();return e.minInclusive===r?.minInclusive&&e.maxExclusive===r?.maxExclusive&&e.epkMinHeader===r?.epkMinHeader&&e.epkMaxHeader===r?.epkMaxHeader}async shouldRetryOnFailure(e,r,n){if(r.statusCode===V.Ok||r.statusCode===V.NotModified)return!1;if(r.statusCode===V.Gone&&(r.subStatusCode===rt.PartitionKeyRangeGone||r.subStatusCode===rt.CompletingSplit)){let o=new St(e.epkMinHeader?e.epkMinHeader:e.minInclusive,e.epkMaxHeader?e.epkMaxHeader:e.maxExclusive,!0,!1),s=await this.partitionKeyRangeCache.getOverlappingRanges(this.url,o,n,!0);if(s.length<1)throw new v(\"Partition split/merge detected but no overlapping ranges found.\");return s.length>=1&&await this.handleSplitOrMerge(!1,s,o,e.continuationToken),!0}return!1}async handleSplitOrMerge(e,r,n,i){let o=0;if(e){let[s,a]=await yu(n,r[0]),A=new to(r[0].minInclusive,r[0].maxExclusive,i,s,a);this.queue.modifyFirstElement(A),o=1}for(let s=o;s<r.length;s++){let[a,A]=await yu(n,r[s]),c=new to(r[s].minInclusive,r[s].maxExclusive,i,a,A);this.queue.enqueue(c)}}async getPartitionRangeId(e,r){let n=e.epkMinHeader?e.epkMinHeader:e.minInclusive,i=e.epkMaxHeader?e.epkMaxHeader:e.maxExclusive,o=new St(n,i,!0,!1),s=await this.partitionKeyRangeCache.getOverlappingRanges(this.url,o,r,!1);if(s.length<1)throw new v(\"No overlapping ranges found.\");let a=s[0];return(e.minInclusive!==a.minInclusive||e.maxExclusive!==a.maxExclusive||s.length>1)&&await this.handleSplitOrMerge(!0,s,o,e.continuationToken),a.id}async getFeedResponse(e,r){let n={initialHeaders:{},useLatestVersionFeed:!0,useAllVersionsAndDeletesFeed:!1};typeof this.changeFeedOptions.maxItemCount==\"number\"&&(n.maxItemCount=this.changeFeedOptions.maxItemCount),this.changeFeedOptions.sessionToken&&(n.sessionToken=this.changeFeedOptions.sessionToken),this.changeFeedOptions.excludedLocations&&(n.excludedLocations=this.changeFeedOptions.excludedLocations),e.continuationToken?n.accessCondition={type:E.HttpHeaders.IfNoneMatch,condition:e.continuationToken}:this.startFromNow&&(n.initialHeaders[E.HttpHeaders.IfNoneMatch]=E.ChangeFeedIfNoneMatchStartFromNowHeader),this.startTime&&(n.initialHeaders[E.HttpHeaders.IfModifiedSince]=this.startTime),this.changeFeedOptions.changeFeedMode&&this.changeFeedOptions.changeFeedMode===on.AllVersionsAndDeletes&&(n.useAllVersionsAndDeletesFeed=!0,n.useLatestVersionFeed=!1);let i=await this.getPartitionRangeId(e,r);this.clientContext.enableEncryption&&(await this.container.checkAndInitializeEncryption(),n.containerRid=this.container._rid);try{let o=this.fetchFinalFeedRange(),s=await this.clientContext.queryFeed({path:this.resourceLink,resourceType:Q.item,resourceId:this.resourceId,resultFn:a=>a?a.Documents:[],query:void 0,options:n,diagnosticNode:r,partitionKey:void 0,partitionKeyRangeId:i,startEpk:o.epkMinHeader,endEpk:o.epkMaxHeader});return new ro(s.result,s.result?s.result.length:0,s.code,s.headers,G())}catch(o){if(o.code===V.Gone)return new ro([],0,o.code,o.headers,G(),o.substatus);let s=new v(o.message);throw s.code=o.code,s.headers=o.headers,s}}fetchFinalFeedRange(){let e=this.queue.peek();if(e)return e;throw new v(\"No feed range found.\")}};var of=class{rid;partitionKey;Continuation;constructor(e,r,n){this.rid=e,this.partitionKey=r,this.Continuation=n}};var ac=class{clientContext;container;resourceId;resourceLink;partitionKey;changeFeedOptions;continuationToken;startTime;rId;isInstantiated;startFromNow;constructor(e,r,n,i,o,s){this.clientContext=e,this.container=r,this.resourceId=n,this.resourceLink=i,this.partitionKey=o,this.changeFeedOptions=s,this.continuationToken=s.continuationToken?JSON.parse(s.continuationToken):void 0,this.isInstantiated=!1,s.startFromNow?this.startFromNow=!0:s.startTime&&(this.startTime=s.startTime.toUTCString())}async instantiateIterator(e){if(await this.setIteratorRid(e),this.clientContext.enableEncryption){await this.container.checkAndInitializeEncryption(),this.partitionKey=Ur(this.partitionKey),e.beginEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation);let{partitionKeyList:r,encryptedCount:n}=await this.container.encryptionProcessor.getEncryptedPartitionKeyValue(Dt(this.partitionKey));this.partitionKey=r,e.endEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation,n)}if(this.continuationToken){if(!this.continuationTokenRidMatchContainerRid())throw new v(\"The continuation is not for the current container definition.\")}else this.continuationToken=new of(this.rId,this.partitionKey,\"\");this.isInstantiated=!0}continuationTokenRidMatchContainerRid(){return this.continuationToken.rid===this.rId}async setIteratorRid(e){let{resource:r}=await this.container.readInternal(e);this.rId=r._rid}get hasMoreResults(){return!0}async*getAsyncIterator(){do yield await this.readNext();while(this.hasMoreResults)}async readNext(){return O(async e=>{this.isInstantiated||await this.instantiateIterator(e);let r=await this.fetchNext(e);return r.statusCode===V.Ok&&this.clientContext.enableEncryption&&await nf(r,e,this.changeFeedOptions.changeFeedMode,this.container.encryptionProcessor),r},this.clientContext)}async fetchNext(e){let r=await this.getFeedResponse(e);return this.continuationToken.Continuation=r.headers[E.HttpHeaders.ETag],r.headers[E.HttpHeaders.ContinuationToken]=JSON.stringify(this.continuationToken),r}async getFeedResponse(e){let r={initialHeaders:{},useLatestVersionFeed:!0,useAllVersionsAndDeletesFeed:!1};typeof this.changeFeedOptions.maxItemCount==\"number\"&&(r.maxItemCount=this.changeFeedOptions.maxItemCount),this.changeFeedOptions.sessionToken&&(r.sessionToken=this.changeFeedOptions.sessionToken),this.changeFeedOptions.excludedLocations&&(r.excludedLocations=this.changeFeedOptions.excludedLocations);let n=this.continuationToken.Continuation;n?r.accessCondition={type:E.HttpHeaders.IfNoneMatch,condition:n}:this.startFromNow&&(r.initialHeaders[E.HttpHeaders.IfNoneMatch]=E.ChangeFeedIfNoneMatchStartFromNowHeader),this.startTime&&(r.initialHeaders[E.HttpHeaders.IfModifiedSince]=this.startTime),this.changeFeedOptions.changeFeedMode&&this.changeFeedOptions.changeFeedMode===on.AllVersionsAndDeletes&&(r.useAllVersionsAndDeletesFeed=!0,r.useLatestVersionFeed=!1),this.clientContext.enableEncryption&&(r.containerRid=this.container._rid);try{let i=this.clientContext.isPartitionLevelFailOverEnabled(),o=await vn(e,Dt(this.partitionKey),this.clientContext.partitionKeyRangeCache,i,this.container),s=await this.clientContext.queryFeed({path:this.resourceLink,resourceType:Q.item,resourceId:this.resourceId,resultFn:a=>a?a.Documents:[],diagnosticNode:e,query:void 0,options:r,partitionKey:this.partitionKey,partitionKeyRangeId:o});return new ro(s.result,s.result?s.result.length:0,s.code,s.headers,G())}catch(i){let o=new v(i.message);throw o.code=i.code,o.headers=i.headers,o}}};var Ca=class{cfResource;constructor(e){this.cfResource=e}getCfResource(){return this.cfResource}};var jo;(function(t){t[t.FeedRange=0]=\"FeedRange\",t[t.PartitionKey=1]=\"PartitionKey\"})(jo||(jo={}));var Ac=class{continuationToken;constructor(e){this.continuationToken=e}getCfResource(){return this.continuationToken}getCfResourceJson(){return JSON.parse(this.continuationToken)}getResourceType(){let e=this.getCfResourceJson();if(Object.prototype.hasOwnProperty.call(e,\"partitionKey\")&&Object.prototype.hasOwnProperty.call(e,\"Continuation\")&&typeof e.Continuation==\"string\")return jo.PartitionKey;if(Object.prototype.hasOwnProperty.call(e,\"Continuation\")&&Array.isArray(e.Continuation)&&e.Continuation.length>0)return jo.FeedRange;throw new v(\"Invalid continuation token.\")}};var cc=class{static Beginning(e){return new Wo(e)}static Now(e){return new Ca(e)}static Time(e,r){if(!e)throw new v(\"startTime must be present\");if(e instanceof Date)return new zo(e,r);throw new v(\"startTime must be a Date object.\")}static Continuation(e){if(!e)throw new v(\"Argument continuation must be passed.\");if(Pk(e))throw new v(\"Argument continuationToken must be a non-empty string.\");return new Ac(e)}};async function fI(t,e,r,n){let i=r.url,o=_(i,Q.item),s=Y(i),a=t.changeFeedStartFrom;if(a===void 0&&(a=cc.Now()),a instanceof Ac){let A=a.getCfResourceJson(),c=a.getResourceType(),l=rf(t,a.getCfResource());if(c===jo.PartitionKey&&sI(A.partitionKey))return new ac(e,r,s,o,A.partitionKey,l);if(c===jo.FeedRange)return new Ea(e,r,n,s,o,i,l,void 0);throw new v(\"Invalid continuation token.\")}else if(a instanceof Ca||a instanceof zo||a instanceof Wo){let A=a instanceof Ca,c=A?void 0:Nk(a),l=rf(t,void 0,c,A),u=a.getCfResource();if(sI(u)){let d=u,h=await r.getPartitionKeyDefinition();if(h!==void 0&&ik(d,h.resource)){let g=await Mk(d);return new Ea(e,r,n,s,o,i,l,g)}return new ac(e,r,s,o,u,l)}else{let d;if(u===void 0)d=new St(E.EffectivePartitionKeyConstants.MinimumInclusiveEffectivePartitionKey,E.EffectivePartitionKeyConstants.MaximumExclusiveEffectivePartitionKey,!0,!1);else if(vk(u))d=new St(u.minInclusive,u.maxExclusive,!0,!1);else throw new v(\"Invalid feed range.\");return new Ea(e,r,n,s,o,i,l,d)}}else throw new v(\"Invalid change feed start location.\")}var Iu=class{cfOptions;clientContext;container;partitionKeyRangeCache;iterator;isInitialized;constructor(e,r,n,i){this.cfOptions=e,this.clientContext=r,this.container=n,this.partitionKeyRangeCache=i,this.isInitialized=!1}get hasMoreResults(){return!0}async*getAsyncIterator(){await this.initializeIterator();do yield await this.iterator.readNext();while(this.hasMoreResults)}async readNext(){return await this.initializeIterator(),this.iterator.readNext()}async initializeIterator(){if(!this.isInitialized)try{let e=await fI(this.cfOptions,this.clientContext,this.container,this.partitionKeyRangeCache);this.isInitialized=!0,this.iterator=e}catch(e){throw new v(e.message)}}};function EG(t){return JSON.stringify(t).replace(/\\u2028/g,\"\\\\u2028\").replace(/\\u2029/g,\"\\\\u2029\")}function Bu(t){return typeof t==\"object\"?EG(t):t}var Fk=\"application/json\";async function Lk({clientOptions:t,defaultHeaders:e,verb:r,path:n,resourceId:i,resourceType:o,options:s={},operationType:a,partitionKeyRangeId:A,useMultipleWriteLocations:c,partitionKey:l}){let u={[E.HttpHeaders.ResponseContinuationTokenLimitInKB]:1,[E.HttpHeaders.EnableCrossPartitionQuery]:!0,...e};if(u[E.HttpHeaders.SDKSupportedCapabilities]=Hg.PartitionMerge,c&&(u[E.HttpHeaders.ALLOW_MULTIPLE_WRITES]=!0),s.continuationTokenLimitInKB&&(u[E.HttpHeaders.ResponseContinuationTokenLimitInKB]=s.continuationTokenLimitInKB),s.continuationToken?u[E.HttpHeaders.Continuation]=s.continuationToken:s.continuation&&(u[E.HttpHeaders.Continuation]=s.continuation),s.preTriggerInclude&&(u[E.HttpHeaders.PreTriggerInclude]=s.preTriggerInclude.constructor===Array?s.preTriggerInclude.join(\",\"):s.preTriggerInclude),s.postTriggerInclude&&(u[E.HttpHeaders.PostTriggerInclude]=s.postTriggerInclude.constructor===Array?s.postTriggerInclude.join(\",\"):s.postTriggerInclude),s.offerType&&(u[E.HttpHeaders.OfferType]=s.offerType),s.offerThroughput&&(u[E.HttpHeaders.OfferThroughput]=s.offerThroughput),s.maxItemCount&&(u[E.HttpHeaders.PageSize]=s.maxItemCount),s.accessCondition&&(s.accessCondition.type===\"IfMatch\"?u[E.HttpHeaders.IfMatch]=s.accessCondition.condition:u[E.HttpHeaders.IfNoneMatch]=s.accessCondition.condition),s.useAllVersionsAndDeletesFeed&&(u[E.HttpHeaders.A_IM]=on.AllVersionsAndDeletes,u[E.HttpHeaders.ChangeFeedWireFormatVersion]=E.AllVersionsAndDeletesChangeFeedWireFormatVersion),(s.useIncrementalFeed||s.useLatestVersionFeed)&&(u[E.HttpHeaders.A_IM]=on.LatestVersion),s.indexingDirective&&(u[E.HttpHeaders.IndexingDirective]=s.indexingDirective),s.consistencyLevel&&(u[E.HttpHeaders.ConsistencyLevel]=s.consistencyLevel),s.priorityLevel&&(u[E.HttpHeaders.PriorityLevel]=s.priorityLevel),s.throughputBucket&&(u[E.HttpHeaders.ThroughputBucket]=s.throughputBucket),s.maxIntegratedCacheStalenessInMs&&o===Q.item&&(typeof s.maxIntegratedCacheStalenessInMs==\"number\"?u[E.HttpHeaders.DedicatedGatewayPerRequestCacheStaleness]=s.maxIntegratedCacheStalenessInMs.toString():(dk.error(`RangeError: maxIntegratedCacheStalenessInMs \"${s.maxIntegratedCacheStalenessInMs}\" is not a valid parameter.`),u[E.HttpHeaders.DedicatedGatewayPerRequestCacheStaleness]=\"null\")),s.bypassIntegratedCache&&(u[E.HttpHeaders.DedicatedGatewayPerRequestBypassCache]=s.bypassIntegratedCache.toString()),s.resourceTokenExpirySeconds&&(u[E.HttpHeaders.ResourceTokenExpiry]=s.resourceTokenExpirySeconds),s.sessionToken&&(u[E.HttpHeaders.SessionToken]=s.sessionToken),s.enableScanInQuery&&(u[E.HttpHeaders.EnableScanInQuery]=s.enableScanInQuery),s.populateQuotaInfo&&(u[E.HttpHeaders.PopulateQuotaInfo]=s.populateQuotaInfo),s.populateQueryMetrics&&(u[E.HttpHeaders.PopulateQueryMetrics]=s.populateQueryMetrics),s.maxDegreeOfParallelism!==void 0&&s.maxDegreeOfParallelism!==0&&s.maxDegreeOfParallelism!==1&&(u[E.HttpHeaders.ParallelizeCrossPartitionQuery]=!0),s.populateQuotaInfo&&(u[E.HttpHeaders.PopulateQuotaInfo]=!0),l!==void 0&&!u[E.HttpHeaders.PartitionKey]?u[E.HttpHeaders.PartitionKey]=Sb(l):A!==void 0&&(u[E.HttpHeaders.PartitionKeyRangeID]=A),(t.key||t.tokenProvider)&&(u[E.HttpHeaders.XDate]=new Date().toUTCString()),(r===ht.post||r===ht.put)&&(u[E.HttpHeaders.ContentType]||(u[E.HttpHeaders.ContentType]=Fk)),u[E.HttpHeaders.Accept]||(u[E.HttpHeaders.Accept]=Fk),s.enableScriptLogging&&(u[E.HttpHeaders.EnableScriptLogging]=s.enableScriptLogging),s.disableRUPerMinuteUsage&&(u[E.HttpHeaders.DisableRUPerMinuteUsage]=!0),s.populateIndexMetrics&&(u[E.HttpHeaders.PopulateIndexMetrics]=s.populateIndexMetrics),t.clientEncryptionOptions&&(u[E.HttpHeaders.IsClientEncryptedHeader]=!0,s.containerRid&&(u[E.HttpHeaders.IntendedCollectionHeader]=s.containerRid)),(t.key||t.resourceTokens||t.tokenProvider||t.permissionFeed)&&await qb(t,r,n,i,o,u),o===Q.item&&Object.prototype.hasOwnProperty.call(s,\"contentResponseOnWriteEnabled\")&&!s.contentResponseOnWriteEnabled)if(a===X.Batch)u[E.HttpHeaders.Prefer]=E.HttpHeaders.PreferReturnMinimal;else throw new v(\"Currently `contentResponseOnWriteEnabled` option is only supported for batch and bulk operations.\");return u}function fa(t,e,r){let n=r.localeCompare(t)>=0,i=r.localeCompare(e)<0;return n&&i}var $t={Create:\"Create\",Upsert:\"Upsert\",Read:\"Read\",Delete:\"Delete\",Replace:\"Replace\",Patch:\"Patch\"};function Ok(t,e,r={}){CG(t,r);let n;if(Object.prototype.hasOwnProperty.call(t,\"partitionKey\"))t.partitionKey===void 0?n=e.paths.map(()=>Xn):n=Dt(t.partitionKey);else switch(t.operationType){case $t.Create:case $t.Replace:case $t.Upsert:n=Zi(Xi(t.resourceBody,e),\"Unexpected undefined Partition Key Found.\");break;case $t.Read:case $t.Delete:case $t.Patch:n=oa(e);break}return{operation:{...t,partitionKey:JSON.stringify(n)},partitionKey:n}}function CG(t,e){(t.operationType===$t.Create||t.operationType===$t.Upsert)&&(t.resourceBody.id===void 0||t.resourceBody.id===\"\")&&!e.disableAutomaticIdGeneration&&(t.resourceBody.id=pr())}function Uk(t){if(t?.operations===void 0||t.operations.length<1)return[];let e=sf(t.operations[0]),r={...t,operations:[t.operations[0]],indexes:[t.indexes[0]]},n=[];n.push(r);for(let i=1;i<t.operations.length;i++){let o=t.operations[i],s=sf(o);e+s>E.DefaultMaxBulkRequestBodySizeInBytes&&(r={...t,operations:[],indexes:[]},n.push(r),e=0),r.operations.push(o),r.indexes.push(t.indexes[i]),e+=s}return n}function sf(t){return new TextEncoder().encode(Bu(t)).length}function _k(t,e={}){return(t.operationType===$t.Create||t.operationType===$t.Upsert)&&(t.resourceBody.id===void 0||t.resourceBody.id===\"\")&&!e.disableAutomaticIdGeneration&&(t.resourceBody.id=pr()),t}function pI(t){return t>=200&&t<=299}var af=class{promise;resolveFn;rejectFn;constructor(){this.promise=new Promise((e,r)=>{this.resolveFn=e,this.rejectFn=r})}get task(){return this.promise}setResult(e){this.resolveFn(e)}setException(e){this.rejectFn(e)}};async function Af(t,e,r){if(Object.prototype.hasOwnProperty.call(e,\"partitionKey\")){let n=Dt(e.partitionKey),{partitionKeyList:i,encryptedCount:o}=await t.getEncryptedPartitionKeyValue(n);e.partitionKey=i,r+=o}switch(e.operationType){case $t.Create:case $t.Upsert:{let{body:n,propertiesEncryptedCount:i}=await t.encrypt(e.resourceBody);e.resourceBody=n,r+=i;break}case $t.Read:case $t.Delete:await t.isPathEncrypted(\"/id\")&&(e.id=await t.getEncryptedId(e.id),r++);break;case $t.Replace:{await t.isPathEncrypted(\"/id\")&&(e.id=await t.getEncryptedId(e.id),r++);let{body:n,propertiesEncryptedCount:i}=await t.encrypt(e.resourceBody);e.resourceBody=n,r+=i;break}case $t.Patch:{await t.isPathEncrypted(\"/id\")&&(e.id=await t.getEncryptedId(e.id),r++);let n=e.resourceBody,i=Array.isArray(n)?n:n.operations;for(let o of i)\"value\"in o&&await t.isPathEncrypted(o.path)&&(o.value=await t.encryptProperty(o.path,o.value),r++);break}}return{operation:e,totalPropertiesEncryptedCount:r}}var cf={add:\"add\",replace:\"replace\",remove:\"remove\",set:\"set\",incr:\"incr\"};var Hk=ve(\"ClientContext\"),EI;(function(t){t.start=\"start\",t.inProgress=\"inProgress\",t.ended=\"ended\"})(EI||(EI={}));var lc=class t{static STATES=EI;resources;currentIndex;currentPartitionIndex;fetchFunctions;options;continuationToken;get continuation(){return this.continuationToken}state;nextFetchFunction;correlatedActivityId;constructor(e,r,n){this.resources=[],this.currentIndex=0,this.currentPartitionIndex=0,this.fetchFunctions=Array.isArray(r)?r:[r],this.options=e||{},this.continuationToken=this.options.continuationToken||this.options.continuation||null,this.state=t.STATES.start,this.correlatedActivityId=n}async nextItem(e){return++this.currentIndex,await this.current(e)}async current(e){if(this.currentIndex<this.resources.length)return{result:this.resources[this.currentIndex],headers:me()};if(this._canFetchMore()){let{result:r,headers:n}=await this.fetchMore(e);return this.resources=r,this.resources.length===0?!this.continuationToken&&this.currentPartitionIndex>=this.fetchFunctions.length?(this.state=t.STATES.ended,{result:void 0,headers:n}):this.current(e):{result:this.resources[this.currentIndex],headers:n}}else return this.state=t.STATES.ended,{result:void 0,headers:me()}}hasMoreResults(){return this.state===t.STATES.start||this.continuationToken!==void 0||this.currentIndex<this.resources.length-1||this.currentPartitionIndex<this.fetchFunctions.length}async fetchMore(e){return fi(async r=>{if(this.currentPartitionIndex>=this.fetchFunctions.length)return{headers:me(),result:void 0};let n=this.options.continuationToken||this.options.continuation;if(this.options.continuationToken=this.continuationToken,this.currentPartitionIndex>=this.fetchFunctions.length)return{headers:me(),result:void 0};let i,o;try{let s;this.nextFetchFunction!==void 0?(Hk.verbose(\"using prefetch\"),s=this.nextFetchFunction,this.nextFetchFunction=void 0):(Hk.verbose(\"using fresh fetch\"),s=this.fetchFunctions[this.currentPartitionIndex](r,this.options,this.correlatedActivityId));let a=await s;if(i=a.result,r.recordQueryResult(i,gt.debugUnsafe),o=a.headers,this.continuationToken=o[E.HttpHeaders.Continuation],this.continuationToken||++this.currentPartitionIndex,this.options&&this.options.bufferItems===!0){let A=this.fetchFunctions[this.currentPartitionIndex];this.nextFetchFunction=A?A(r,{...this.options,continuationToken:this.continuationToken},this.correlatedActivityId):void 0}}catch(s){throw this.state=t.STATES.ended,s}if(this.state=t.STATES.inProgress,this.currentIndex=0,this.options.continuationToken=n,this.options.continuation=n,E.HttpHeaders.QueryMetrics in o){let s=o[E.HttpHeaders.QueryMetrics],a=Yo.createFromDelimitedString(s);if(E.HttpHeaders.RequestCharge in o){let A=Number(o[E.HttpHeaders.RequestCharge])||0;a=new Yo(a.retrievedDocumentCount,a.retrievedDocumentSize,a.outputDocumentCount,a.outputDocumentSize,a.indexHitDocumentCount,a.totalQueryExecutionTime,a.queryPreparationTimes,a.indexLookupTime,a.documentLoadTime,a.vmExecutionTime,a.runtimeExecutionTimes,a.documentWriteTime,new eo(A))}o[E.HttpHeaders.QueryMetrics]={},o[E.HttpHeaders.QueryMetrics][0]=a}return{result:i,headers:o}},e,_e.DEFAULT_QUERY_NODE,{queryMethodIdentifier:\"fetchMore\"})}_canFetchMore(){return this.state===t.STATES.start||this.continuationToken&&this.state===t.STATES.inProgress||this.currentPartitionIndex<this.fetchFunctions.length&&this.state===t.STATES.inProgress}};var lf=class{sum;count;aggregate(e){e==null||e.sum==null||(this.sum==null&&(this.sum=0,this.count=0),this.sum+=e.sum,this.count+=e.count)}getResult(){if(!(this.sum==null||this.count<=0))return this.sum/this.count}};var uf=class{value;constructor(){this.value=0}aggregate(e){this.value+=e}getResult(){return this.value}};var uc=Object.freeze({NoValue:{ord:0},undefined:{ord:1},boolean:{ord:2,compFunc:(t,e)=>t===e?0:t>e?1:-1},number:{ord:4,compFunc:(t,e)=>t===e?0:t>e?1:-1},string:{ord:5,compFunc:(t,e)=>t===e?0:t>e?1:-1}}),$o=class{sortOrder;constructor(e){this.sortOrder=e}targetPartitionKeyRangeDocProdComparator(e,r){let n=e.getTargetParitionKeyRange().minInclusive,i=r.getTargetParitionKeyRange().minInclusive;return n===i?0:n>i?1:-1}compare(e,r){if(e.gotSplit())return-1;if(r.gotSplit())return 1;let n=this.getOrderByItems(e.peekBufferedItems()[0]),i=this.getOrderByItems(r.peekBufferedItems()[0]);this.validateOrderByItems(n,i);for(let o=0;o<n.length;o++){let s=this.compareOrderByItem(n[o],i[o]);if(s!==0){if(this.sortOrder[o]===\"Ascending\")return s;if(this.sortOrder[o]===\"Descending\")return-s}}return this.targetPartitionKeyRangeDocProdComparator(e,r)}compareValue(e,r,n,i){if(r===\"object\"||i===\"object\")throw new Error(\"Tried to compare an object type\");let o=uc[r].ord,s=uc[i].ord,a=o-s;if(a!==0)return a;if(o===uc.undefined.ord||o===uc.NoValue.ord)return 0;let A=uc[r].compFunc;if(typeof A>\"u\")throw new Error(\"Cannot find the comparison function\");return A(e,n)}compareOrderByItem(e,r){let n=this.getType(e),i=this.getType(r);return this.compareValue(e.item,n,r.item,i)}validateOrderByItems(e,r){if(e.length!==r.length)throw new Error(`Expected ${e.length}, but got ${r.length}.`);if(e.length!==this.sortOrder.length)throw new Error(\"orderByItems cannot have a different size than sort orders.\");for(let n=0;n<this.sortOrder.length;n++){let i=this.getType(e[n]),o=this.getType(r[n]);if(i!==o)throw new Error(`Expected ${i}, but got ${o}. Cannot execute cross partition order-by queries on mixed types. Consider filtering your query using IS_STRING or IS_NUMBER to get around this exception.`)}}getType(e){if(e===void 0||e.item===void 0)return\"NoValue\";let r=typeof e.item;if(uc[r]===void 0)throw new Error(`unrecognizable type ${r}`);return r}getOrderByItems(e){return e.orderByItems}};var df=class{value;comparer;constructor(){this.value=void 0,this.comparer=new $o([\"Ascending\"])}aggregate(e){this.value===void 0?this.value=e.max:this.comparer.compareValue(e.max,typeof e.max,this.value,typeof this.value)>0&&(this.value=e.max)}getResult(){return this.value}};var hf=class{value;comparer;constructor(){this.value=void 0,this.comparer=new $o([\"Ascending\"])}aggregate(e){if(this.value===void 0)this.value=e.min;else{let r=e.min===null?\"NoValue\":typeof e.min,n=this.value===null?\"NoValue\":typeof this.value;this.comparer.compareValue(e.min,r,this.value,n)<0&&(this.value=e.min)}}getResult(){return this.value}};var gf=class{sum;aggregate(e){e!==void 0&&(this.sum===void 0?this.sum=e:this.sum+=e)}getResult(){return this.sum}};var ff=class{value;aggregate(e){this.value===void 0&&(this.value=e)}getResult(){return this.value}};var pf=class{value;constructor(){this.value=[]}aggregate(e){Array.isArray(e)&&this.value.push(...e)}getResult(){return[...this.value]}};var Ef=class{value;constructor(){this.value=new Set}aggregate(e){e.forEach(r=>{this.value.add(r)})}getResult(){return Array.from(this.value)}};function Cf(t){switch(t){case\"Average\":return new lf;case\"Count\":case\"CountIf\":return new uf;case\"Max\":return new df;case\"Min\":return new hf;case\"Sum\":return new gf;case\"MakeList\":return new pf;case\"MakeSet\":return new Ef;default:return new ff}}var mr;(function(t){t[t.Done=0]=\"Done\",t[t.Exception=1]=\"Exception\",t[t.Result=2]=\"Result\"})(mr||(mr={}));var Qu=class{feedResponse;headers;fetchResultType;error;constructor(e,r,n){e!==void 0?(this.feedResponse=e,this.headers=n,this.fetchResultType=mr.Result):(this.error=r,this.fetchResultType=mr.Exception)}};var mf=class t{clientContext;collectionLink;query;targetPartitionKeyRange;fetchResults;allFetched;err;previousContinuationToken;continuationToken;generation=0;internalExecutionContext;startEpk;endEpk;populateEpkRangeHeaders;constructor(e,r,n,i,o,s,a,A,c=!1){this.clientContext=e,this.collectionLink=r,this.query=n,this.targetPartitionKeyRange=i,this.fetchResults=[],this.allFetched=!1,this.err=void 0,this.previousContinuationToken=void 0,this.continuationToken=void 0,this.internalExecutionContext=new lc(o,this.fetchFunction,s),this.startEpk=a,this.endEpk=A,this.populateEpkRangeHeaders=c}peekBufferedItems(){let e=[];for(let r=0,n=!1;r<this.fetchResults.length&&!n;r++){let i=this.fetchResults[r];switch(i.fetchResultType){case mr.Done:n=!0;break;case mr.Exception:n=!0;break;case mr.Result:e.push(i.feedResponse);break}}return e}fetchFunction=async(e,r,n)=>{let i=_(this.collectionLink,Q.item);e.addData({partitionKeyRangeId:this.targetPartitionKeyRange.id});let o=Y(this.collectionLink),s=this.populateEpkRangeHeaders?this.startEpk:void 0,a=this.populateEpkRangeHeaders?this.endEpk:void 0;return this.clientContext.queryFeed({path:i,resourceType:Q.item,resourceId:o,resultFn:A=>A.Documents,query:this.query,options:r,diagnosticNode:e,partitionKeyRangeId:this.targetPartitionKeyRange.id,correlatedActivityId:n,startEpk:s,endEpk:a})};hasMoreResults(){return this.internalExecutionContext.hasMoreResults()||this.fetchResults.length!==0}gotSplit(){if(this.fetchResults.length!==0){let e=this.fetchResults[0];if(e.fetchResultType===mr.Exception&&t._needPartitionKeyRangeCacheRefresh(e.error))return!0}return!1}_updateStates(e,r){if(e){this.err=e;return}r&&(this.allFetched=!0),this.internalExecutionContext.continuationToken!==this.continuationToken&&(this.previousContinuationToken=this.continuationToken,this.continuationToken=this.internalExecutionContext.continuationToken)}static _needPartitionKeyRangeCacheRefresh(e){return e.code===V.Gone&&\"substatus\"in e&&e.substatus===rt.PartitionKeyRangeGone}async bufferMore(e){if(this.err)throw this.err;try{let{result:r,headers:n}=await this.internalExecutionContext.fetchMore(e);if(++this.generation,this._updateStates(void 0,r===void 0),r!==void 0){let i=!0;r.forEach(o=>{this.fetchResults.push(new Qu(o,void 0,i?n:me())),i=!1})}if(n!=null&&E.HttpHeaders.QueryMetrics in n){let i=n[E.HttpHeaders.QueryMetrics][0];n[E.HttpHeaders.QueryMetrics]={},n[E.HttpHeaders.QueryMetrics][this.targetPartitionKeyRange.id]=i}return n}catch(r){if(t._needPartitionKeyRangeCacheRefresh(r)){let n=new Qu(void 0,r);return this.fetchResults.push(n),r.headers}else throw this._updateStates(r,r.resources===void 0),r}}getTargetParitionKeyRange(){return this.targetPartitionKeyRange}peakNextItem(){if(this.err)throw this.err;if(this.allFetched||this.fetchResults.length===0)return;let e=this.fetchResults[0];switch(e.fetchResultType){case mr.Done:return;case mr.Exception:return;case mr.Result:return e.feedResponse}}async fetchNextItem(){if(this.err)throw this._updateStates(this.err,void 0),this.err;if(this.allFetched)return{result:void 0,headers:me()};try{let{result:e,headers:r}=this.current();return this._updateStates(void 0,e===void 0),e===void 0||e.length===0?{result:void 0,headers:r}:{result:e,headers:r}}catch(e){throw this._updateStates(e,e.item===void 0),e}}async fetchBufferedItems(){if(this.err)throw this._updateStates(this.err,void 0),this.err;if(this.allFetched)return{result:void 0,headers:me()};let e=[];try{for(;this.fetchResults.length>0;){let{result:r}=this.current();if(this._updateStates(void 0,r===void 0),r===void 0)return{result:e.length>0?e:void 0,headers:me()};e.push(r)}return{result:e,headers:me()}}catch(r){throw this._updateStates(r,r.item===void 0),r}}current(){if(this.fetchResults.length>0){let e=this.fetchResults.shift();switch(e.fetchResultType){case mr.Done:return{result:void 0,headers:me()};case mr.Exception:throw e.error.headers=me(),e.error;case mr.Result:return{result:e.feedResponse,headers:me()}}}return this.allFetched?{result:void 0,headers:me()}:{result:[],headers:me()}}};var yI=Ae(CI(),1),Yk=Ae(wu(),1);var mG=ve(\"parallelQueryExecutionContextBase\"),II;(function(t){t.started=\"started\",t.inProgress=\"inProgress\",t.ended=\"ended\"})(II||(II={}));var dc=class t{clientContext;collectionLink;query;options;partitionedQueryExecutionInfo;correlatedActivityId;err;state;static STATES=II;routingProvider;sortOrders;requestContinuation;respHeaders;unfilledDocumentProducersQueue;bufferedDocumentProducersQueue;buffer;sem;diagnosticNodeWrapper;constructor(e,r,n,i,o,s){this.clientContext=e,this.collectionLink=r,this.query=n,this.options=i,this.partitionedQueryExecutionInfo=o,this.correlatedActivityId=s,this.clientContext=e,this.collectionLink=r,this.query=n,this.options=i,this.partitionedQueryExecutionInfo=o,this.correlatedActivityId=s,this.diagnosticNodeWrapper={consumed:!1,diagnosticNode:new jt(e.diagnosticLevel,_e.PARALLEL_QUERY_NODE,null)},this.diagnosticNodeWrapper.diagnosticNode.addData({stateful:!0}),this.err=void 0,this.state=t.STATES.started,this.routingProvider=new Cu(this.clientContext),this.sortOrders=this.partitionedQueryExecutionInfo.queryInfo.orderBy,this.buffer=[],this.requestContinuation=i?i.continuationToken||i.continuation:null,this.respHeaders=me(),this.unfilledDocumentProducersQueue=new yI.default((A,c)=>A.generation-c.generation),this.bufferedDocumentProducersQueue=new yI.default((A,c)=>this.documentProducerComparator(c,A)),this.sem=(0,Yk.default)(1);let a=async()=>{try{let A=await this._onTargetPartitionRanges(),c=i.maxDegreeOfParallelism===void 0||i.maxDegreeOfParallelism<1?A.length:Math.min(i.maxDegreeOfParallelism,A.length);mG.info(\"Query starting against \"+A.length+\" ranges with parallelism of \"+c);let l=[],u=[];if(this.requestContinuation)throw new Error(\"Continuation tokens are not yet supported for cross partition queries\");l=A,l.forEach(d=>{u.push(this._createTargetPartitionQueryExecutionContext(d,void 0))}),u.forEach(d=>{try{this.unfilledDocumentProducersQueue.enq(d)}catch(h){this.err=h}}),this.sem.leave()}catch(A){this.err=A,this.sem.leave();return}};this.sem.take(a)}_mergeWithActiveResponseHeaders(e){mt(this.respHeaders,e)}_getAndResetActiveResponseHeaders(){let e=this.respHeaders;return this.respHeaders=me(),e}getDiagnosticNode(){return this.diagnosticNodeWrapper.diagnosticNode}async _onTargetPartitionRanges(){let r=this.partitionedQueryExecutionInfo.queryRanges.map(n=>St.parseFromDict(n));return this.routingProvider.getOverlappingRanges(this.collectionLink,r,this.getDiagnosticNode())}async _getReplacementPartitionKeyRanges(e,r){let n=e.targetPartitionKeyRange;this.routingProvider=new Cu(this.clientContext);let i=St.parsePartitionKeyRange(n);return this.routingProvider.getOverlappingRanges(this.collectionLink,[i],r)}async _enqueueReplacementDocumentProducers(e,r,n){let i=await this._getReplacementPartitionKeyRanges(n,r);if(i.length===0)throw e;if(i.length===1){let o=this._createTargetPartitionQueryExecutionContext(i[0],n.continuationToken,n.startEpk,n.endEpk,!0);this.unfilledDocumentProducersQueue.enq(o)}else{let o=[];i.forEach(s=>{let a=St.parsePartitionKeyRange(s),A=this._createTargetPartitionQueryExecutionContext(s,n.continuationToken,a.min,a.max,!1);o.push(A)}),o.forEach(s=>{s.hasMoreResults()&&this.unfilledDocumentProducersQueue.enq(s)})}}static _needPartitionKeyRangeCacheRefresh(e){return e.code===V.Gone&&\"substatus\"in e&&e.substatus===rt.PartitionKeyRangeGone}hasMoreResults(){return!this.err&&(this.buffer.length>0||this.state!==t.STATES.ended)}_createTargetPartitionQueryExecutionContext(e,r,n,i,o){let s=this.partitionedQueryExecutionInfo.queryInfo.rewrittenQuery,a,A=this.query;typeof A==\"string\"?a={query:A}:a=A,s&&(a=JSON.parse(JSON.stringify(a)),s=s.replace(\"{documentdb-formattableorderbyquery-filter}\",\"true\"),a.query=s);let l={...this.options};return l.continuationToken=r,new mf(this.clientContext,this.collectionLink,a,e,l,this.correlatedActivityId,n,i,o)}async drainBufferedItems(){return new Promise((e,r)=>{this.sem.take(()=>{if(this.err){this.sem.leave(),this.err.headers=this._getAndResetActiveResponseHeaders(),r(this.err);return}if(this.buffer.length===0)return this.sem.leave(),e({result:this.state===t.STATES.ended?void 0:[],headers:this._getAndResetActiveResponseHeaders()});let n=this.buffer;return this.buffer=[],this.sem.leave(),e({result:n,headers:this._getAndResetActiveResponseHeaders()})})})}async bufferDocumentProducers(e){return new Promise((r,n)=>{this.sem.take(async()=>{if(this.err){this.sem.leave(),n(this.err);return}if(this.updateStates(this.err),this.state===t.STATES.ended){this.sem.leave(),r();return}if(this.unfilledDocumentProducersQueue.size()===0){this.sem.leave(),r();return}try{let i=this.options.maxDegreeOfParallelism===void 0||this.options.maxDegreeOfParallelism<1?this.unfilledDocumentProducersQueue.size():Math.min(this.options.maxDegreeOfParallelism,this.unfilledDocumentProducersQueue.size()),o=[];for(;o.length<i&&this.unfilledDocumentProducersQueue.size()>0;){let a;try{a=this.unfilledDocumentProducersQueue.deq()}catch(A){this.err=A,this.err.headers=this._getAndResetActiveResponseHeaders(),n(this.err);return}o.push(a)}let s=async a=>{try{let A=await a.bufferMore(e);this._mergeWithActiveResponseHeaders(A),a.peakNextItem()!==void 0?this.bufferedDocumentProducersQueue.enq(a):a.hasMoreResults()&&this.unfilledDocumentProducersQueue.enq(a)}catch(A){t._needPartitionKeyRangeCacheRefresh(A)?(await this._enqueueReplacementDocumentProducers(A,e,a),r()):(this.err=A,this.err.headers=this._getAndResetActiveResponseHeaders(),n(A))}};try{await Promise.all(o.map(a=>s(a)))}catch(a){this.err=a,this.err.headers=this._getAndResetActiveResponseHeaders(),n(a);return}r()}catch(i){this.err=i,this.err.headers=this._getAndResetActiveResponseHeaders(),n(i)}finally{this.sem.leave()}})})}async fillBufferFromBufferQueue(e=!1){return new Promise((r,n)=>{this.sem.take(async()=>{if(this.err){this.sem.leave(),this.err.headers=this._getAndResetActiveResponseHeaders(),n(this.err);return}if(this.state===t.STATES.ended||this.bufferedDocumentProducersQueue.size()===0){this.sem.leave(),r();return}try{if(e)for(;this.unfilledDocumentProducersQueue.isEmpty()&&this.bufferedDocumentProducersQueue.size()>0;){let i=this.bufferedDocumentProducersQueue.deq(),{result:o,headers:s}=await i.fetchNextItem();this._mergeWithActiveResponseHeaders(s),o&&this.buffer.push(o),i.peakNextItem()!==void 0?this.bufferedDocumentProducersQueue.enq(i):i.hasMoreResults()&&this.unfilledDocumentProducersQueue.enq(i)}else for(;this.bufferedDocumentProducersQueue.size()>0;){let i=this.bufferedDocumentProducersQueue.deq(),{result:o,headers:s}=await i.fetchBufferedItems();this._mergeWithActiveResponseHeaders(s),o&&this.buffer.push(...o),i.hasMoreResults()&&this.unfilledDocumentProducersQueue.enq(i)}this.updateStates(this.err)}catch(i){this.err=i,this.err.headers=this._getAndResetActiveResponseHeaders(),n(this.err);return}finally{this.sem.leave()}r()})})}updateStates(e){if(e){this.err=e,this.state=t.STATES.ended;return}this.state===t.STATES.started&&(this.state=t.STATES.inProgress),this.unfilledDocumentProducersQueue.size()===0&&this.bufferedDocumentProducersQueue.size()===0&&(this.state=t.STATES.ended)}};var ma=class extends dc{documentProducerComparator(e,r){return e.generation-r.generation}async fetchMore(e){try{return await this.bufferDocumentProducers(e),await this.fillBufferFromBufferQueue(),this.drainBufferedItems()}catch(r){throw console.error(\"Error fetching more documents:\",r),r}}};var yf=class extends dc{orderByComparator;constructor(e,r,n,i,o,s){super(e,r,n,i,o,s),this.orderByComparator=new $o(this.sortOrders)}documentProducerComparator(e,r){return this.orderByComparator.compare(e,r)}async fetchMore(e){try{return await this.bufferDocumentProducers(e),await this.fillBufferFromBufferQueue(!0),this.drainBufferedItems()}catch(r){throw console.error(\"Error fetching more results:\",r),r}}};var Ru=class{executionContext;offset;limit;constructor(e,r,n){this.executionContext=e,this.offset=r,this.limit=n}hasMoreResults(){return(this.offset>0||this.limit>0)&&this.executionContext.hasMoreResults()}async fetchMore(e){let r=me(),n=[],i=await this.executionContext.fetchMore(e);if(mt(r,i.headers),i===void 0||i.result===void 0)return{result:void 0,headers:i.headers};for(let o of i.result)this.offset>0?this.offset--:this.limit>0&&(n.push(o),this.limit--);return{result:n,headers:r}}};var If=class{executionContext;emitRawOrderByPayload;constructor(e,r=!1){this.executionContext=e,this.emitRawOrderByPayload=r}hasMoreResults(){return this.executionContext.hasMoreResults()}async fetchMore(e){let r=[],n=await this.executionContext.fetchMore(e);if(n===void 0||n.result===void 0)return{result:void 0,headers:n.headers};for(let i of n.result)this.emitRawOrderByPayload?r.push(i):r.push(i.payload);return{result:r,headers:n.headers}}};var Vk=require(\"node:crypto\");async function Jk(t){let e=(0,Vk.createHash)(\"sha256\");return e.update(t,\"utf8\"),e.digest(\"hex\")}var zk=Ae(Wk(),1);async function pi(t){let e=(0,zk.default)(t);return Jk(e)}var Bf=class{executionContext;hashedLastResult;constructor(e){this.executionContext=e}hasMoreResults(){return this.executionContext.hasMoreResults()}async fetchMore(e){let r=[],n=await this.executionContext.fetchMore(e);if(n===void 0||n.result===void 0)return{result:void 0,headers:n.headers};for(let i of n.result)if(i){let o=await pi(i);o!==this.hashedLastResult&&(r.push(i),this.hashedLastResult=o)}return{result:r,headers:n.headers}}};var Qf=class{executionContext;hashedResults;constructor(e){this.executionContext=e,this.hashedResults=new Set}hasMoreResults(){return this.executionContext.hasMoreResults()}async fetchMore(e){let r=[],n=await this.executionContext.fetchMore(e);if(n===void 0||n.result===void 0)return{result:void 0,headers:n.headers};for(let i of n.result)if(i){let o=await pi(i);this.hashedResults.has(o)||(r.push(i),this.hashedResults.add(o))}return{result:r,headers:n.headers}}};var wf=\"__empty__\",Su=t=>Object.keys(t).length>0?t.item2?t.item2:t.item:null;var Rf=class{executionContext;queryInfo;constructor(e,r){this.executionContext=e,this.queryInfo=r}groupings=new Map;aggregateResultArray=[];completed=!1;hasMoreResults(){return this.executionContext.hasMoreResults()}async fetchMore(e){if(this.completed)return{result:void 0,headers:me()};let r=me(),n=await this.executionContext.fetchMore(e);if(mt(r,n.headers),n===void 0||n.result===void 0)return this.groupings.size>0?this.consolidateGroupResults(r):{result:void 0,headers:r};for(let i of n.result)if(i){let o=i.groupByItems?await pi(i.groupByItems):wf,s=this.groupings.get(o),a=i.payload;if(s)for(let A of Object.keys(a)){let c=a[A]?a[A]:new Map().set(\"item2\",null),l=Su(c);s.get(A).aggregate(l)}else{let A=new Map;this.groupings.set(o,A);for(let c of Object.keys(a)){let l=this.queryInfo.groupByAliasToAggregateType[c],u=Cf(l);if(A.set(c,u),l){let d=Su(a[c]);u.aggregate(d)}else u.aggregate(a[c])}}}return this.executionContext.hasMoreResults()?{result:[],headers:r}:this.consolidateGroupResults(r)}consolidateGroupResults(e){for(let r of this.groupings.values()){let n={};for(let[i,o]of r.entries())n[i]=o.getResult();this.aggregateResultArray.push(n)}return this.completed=!0,{result:this.aggregateResultArray,headers:e}}};var Sf=class{executionContext;queryInfo;aggregators=new Map;aggregateResultArray=[];aggregateType;completed=!1;constructor(e,r){this.executionContext=e,this.queryInfo=r,this.aggregateType=this.queryInfo.aggregates[0]}hasMoreResults(){return this.executionContext.hasMoreResults()}async fetchMore(e){if(this.completed)return{result:void 0,headers:me()};let r=me(),n=await this.executionContext.fetchMore(e);if(mt(r,n.headers),n===void 0||n.result===void 0)return this.aggregators.size>0?this.generateAggregateResponse(r):{result:void 0,headers:r};for(let i of n.result)if(i){let o=wf,s=i;if(i.groupByItems&&(s=i.payload,o=await pi(i.groupByItems)),this.aggregators.get(o)||this.aggregators.set(o,Cf(this.aggregateType)),this.aggregateType){let A=Su(s[0]);A===null&&(this.completed=!0),this.aggregators.get(o).aggregate(A)}else this.aggregators.get(o).aggregate(s)}return this.completed?{result:void 0,headers:r}:this.executionContext.hasMoreResults()?{result:[],headers:r}:this.generateAggregateResponse(r)}generateAggregateResponse(e){for(let r of this.aggregators.values()){let n=r.getResult();n!==void 0&&this.aggregateResultArray.push(n)}return this.completed=!0,{result:this.aggregateResultArray,headers:e}}};var jk=Ae(CI(),1),hc=class t{pq;compareFn;pqMaxSize;constructor(e,r){this.compareFn=e,this.pq=new jk.default(this.compareFn),this.pqMaxSize=r}enqueue(e){if(this.pq.size()<this.pqMaxSize)this.pq.enq(e);else{let r=this.pq.peek();this.compareFn(r,e)>0&&(this.pq.deq(),this.pq.enq(e))}}dequeue(){return this.pq.deq()}size(){return this.pq.size()}isEmpty(){return this.pq.isEmpty()}peek(){return this.pq.peek()}getTopElements(){let e=[];for(;!this.pq.isEmpty();)e.unshift(this.pq.deq());return e}reverse(){let e=new t((r,n)=>-this.compareFn(r,n),this.pqMaxSize);for(;!this.pq.isEmpty();)e.enqueue(this.pq.deq());return e}};var Tf=class{map;compareFn;constructor(e){this.compareFn=e,this.map=new Map}set(e,r){if(!this.map.has(e))this.map.set(e,r);else{let n=this.map.get(e);this.replaceResults(n,r)&&this.map.set(e,r)}}get(e){if(this.map.has(e))return this.map.get(e)}getAllValuesAndReset(){let e=[];for(let[r,n]of this.map)e.push(n),this.map.delete(r);return e}replaceResults(e,r){return this.compareFn(e,r)<0}size(){return this.map.size}};var gc=Object.freeze({NoValue:{ord:0},undefined:{ord:1},boolean:{ord:2,compFunc:(t,e)=>t===e?0:t>e?1:-1},number:{ord:4,compFunc:(t,e)=>t===e?0:t>e?1:-1},string:{ord:5,compFunc:(t,e)=>t===e?0:t>e?1:-1}}),fc=class{sortOrder;constructor(e){this.sortOrder=e}compareItems(e,r){let n=this.getOrderByItems(e),i=this.getOrderByItems(r);for(let o=0;o<n.length;o++){let s=this.compareOrderByItem(n[o],i[o]);if(s!==0){if(this.sortOrder[o]===\"Descending\")return s;if(this.sortOrder[o]===\"Ascending\")return-s}}}getOrderByItems(e){return e.orderByItems}compareOrderByItem(e,r){let n=this.getType(e),i=this.getType(r);return this.compareValue(e.item,n,r.item,i)}getType(e){if(e===void 0||e.item===void 0)return\"NoValue\";let r=typeof e.item;if(gc[r]===void 0)throw new Error(`unrecognizable type ${r}`);return r}compareValue(e,r,n,i){if(r===\"object\"||i===\"object\")throw new Error(\"Tried to compare an object type\");let o=gc[r].ord,s=gc[i].ord,a=o-s;if(a!==0)return a;if(o===gc.undefined.ord||o===gc.NoValue.ord)return 0;let A=gc[r].compFunc;if(typeof A>\"u\")throw new Error(\"Cannot find the comparison function\");return A(e,n)}};var bf=class{executionContext;queryInfo;priorityQueueBufferSize;emitRawOrderByPayload;aggregateMap;nonStreamingOrderByPQ;finalResultArray;sortOrders;isCompleted=!1;constructor(e,r,n,i=!1){this.executionContext=e,this.queryInfo=r,this.priorityQueueBufferSize=n,this.emitRawOrderByPayload=i,this.sortOrders=this.queryInfo.orderBy;let o=new fc(this.sortOrders);this.aggregateMap=new Tf((s,a)=>o.compareItems(s,a)),this.nonStreamingOrderByPQ=new hc((s,a)=>o.compareItems(a,s),this.priorityQueueBufferSize)}async buildFinalResultArray(){let e=this.aggregateMap.getAllValuesAndReset();for(let o of e)this.nonStreamingOrderByPQ.enqueue(o);let r=this.queryInfo.offset?this.queryInfo.offset:0,i=this.nonStreamingOrderByPQ.size()-r;if(i<=0)this.finalResultArray=[];else{this.finalResultArray=new Array(i);for(let o=i-1;o>=0;o--)this.emitRawOrderByPayload?this.finalResultArray[o]=this.nonStreamingOrderByPQ.dequeue():this.finalResultArray[o]=this.nonStreamingOrderByPQ.dequeue()?.payload}}hasMoreResults(){return this.priorityQueueBufferSize===0?!1:this.executionContext.hasMoreResults()}async fetchMore(e){if(this.isCompleted)return{result:void 0,headers:me()};let r=me();if(this.priorityQueueBufferSize<=0)return{result:void 0,headers:r};if(this.executionContext.hasMoreResults()){let n=await this.executionContext.fetchMore(e);if(n===void 0||n.result===void 0)return this.isCompleted=!0,this.aggregateMap.size()>0?(await this.buildFinalResultArray(),{result:this.finalResultArray,headers:n.headers}):{result:void 0,headers:n.headers};r=n.headers;for(let i of n.result)if(i){let o=await pi(i?.payload);this.aggregateMap.set(o,i)}if(this.executionContext.hasMoreResults())return{result:[],headers:r}}return!this.executionContext.hasMoreResults()&&!this.isCompleted?(this.isCompleted=!0,await this.buildFinalResultArray(),{result:this.finalResultArray,headers:r}):{result:void 0,headers:r}}};var kf=class{executionContext;sortOrders;priorityQueueBufferSize;offset;emitRawOrderByPayload;nonStreamingOrderByPQ;isCompleted=!1;constructor(e,r,n,i=0,o=!1){this.executionContext=e,this.sortOrders=r,this.priorityQueueBufferSize=n,this.offset=i,this.emitRawOrderByPayload=o;let s=new fc(this.sortOrders);this.nonStreamingOrderByPQ=new hc((a,A)=>s.compareItems(A,a),this.priorityQueueBufferSize)}hasMoreResults(){return this.priorityQueueBufferSize>0&&this.executionContext.hasMoreResults()}async fetchMore(e){if(this.isCompleted)return{result:void 0,headers:me()};let r=me();if(this.priorityQueueBufferSize<=0)return{result:void 0,headers:r};if(this.executionContext.hasMoreResults()){let n=await this.executionContext.fetchMore(e);if(r=n.headers,n===void 0||n.result===void 0)return this.isCompleted=!0,this.nonStreamingOrderByPQ.isEmpty()?{result:void 0,headers:r}:this.buildFinalResultArray(r);for(let i of n.result)i!==void 0&&this.nonStreamingOrderByPQ.enqueue(i)}return this.executionContext.hasMoreResults()?{result:[],headers:r}:!this.executionContext.hasMoreResults()&&!this.isCompleted?(this.isCompleted=!0,this.buildFinalResultArray(r)):{result:void 0,headers:r}}async buildFinalResultArray(e){for(this.isCompleted=!0,this.nonStreamingOrderByPQ=this.nonStreamingOrderByPQ.reverse();this.offset<this.priorityQueueBufferSize&&this.offset>0&&!this.nonStreamingOrderByPQ.isEmpty();)this.nonStreamingOrderByPQ.dequeue(),this.offset--;if(!this.nonStreamingOrderByPQ.isEmpty()){let r=[];if(this.emitRawOrderByPayload)for(;!this.nonStreamingOrderByPQ.isEmpty();)r.push(this.nonStreamingOrderByPQ.dequeue());else for(;!this.nonStreamingOrderByPQ.isEmpty();)r.push(this.nonStreamingOrderByPQ.dequeue()?.payload);return{result:r,headers:e}}}};var pc=class t{clientContext;collectionLink;query;options;partitionedQueryExecutionInfo;emitRawOrderByPayload;fetchBuffer;fetchMoreRespHeaders;endpoint;pageSize;vectorSearchBufferSize=0;static DEFAULT_PAGE_SIZE=10;static DEFAULT_MAX_VECTOR_SEARCH_BUFFER_SIZE=5e4;nonStreamingOrderBy=!1;constructor(e,r,n,i,o,s,a=!1){this.clientContext=e,this.collectionLink=r,this.query=n,this.options=i,this.partitionedQueryExecutionInfo=o,this.emitRawOrderByPayload=a,this.endpoint=null,this.pageSize=i.maxItemCount,this.pageSize===void 0&&(this.pageSize=t.DEFAULT_PAGE_SIZE),this.nonStreamingOrderBy=o.queryInfo.hasNonStreamingOrderBy;let A=o.queryInfo.orderBy;if(this.nonStreamingOrderBy){i.allowUnboundedNonStreamingQueries||this.checkQueryConstraints(o.queryInfo),this.vectorSearchBufferSize=this.calculateVectorSearchBufferSize(o.queryInfo,i);let c=i.vectorSearchBufferSize?i.vectorSearchBufferSize:t.DEFAULT_MAX_VECTOR_SEARCH_BUFFER_SIZE;if(this.vectorSearchBufferSize>c)throw new v(`Executing a vector search query with TOP or OFFSET + LIMIT value ${this.vectorSearchBufferSize} larger than the vectorSearchBufferSize ${c} is not allowed`);let l=o.queryInfo.distinctType,u=new ma(this.clientContext,this.collectionLink,this.query,this.options,this.partitionedQueryExecutionInfo,s);l===\"None\"?this.endpoint=new kf(u,A,this.vectorSearchBufferSize,o.queryInfo.offset,this.emitRawOrderByPayload):this.endpoint=new bf(u,o.queryInfo,this.vectorSearchBufferSize,this.emitRawOrderByPayload)}else{Array.isArray(A)&&A.length>0?this.endpoint=new If(new yf(this.clientContext,this.collectionLink,this.query,this.options,this.partitionedQueryExecutionInfo,s),this.emitRawOrderByPayload):this.endpoint=new ma(this.clientContext,this.collectionLink,this.query,this.options,this.partitionedQueryExecutionInfo,s),(Object.keys(o.queryInfo.groupByAliasToAggregateType).length>0||o.queryInfo.aggregates.length>0||o.queryInfo.groupByExpressions.length>0)&&(o.queryInfo.hasSelectValue?this.endpoint=new Sf(this.endpoint,o.queryInfo):this.endpoint=new Rf(this.endpoint,o.queryInfo));let c=o.queryInfo.distinctType;c===\"Ordered\"&&(this.endpoint=new Bf(this.endpoint)),c===\"Unordered\"&&(this.endpoint=new Qf(this.endpoint));let l=o.queryInfo.top;typeof l==\"number\"&&(this.endpoint=new Ru(this.endpoint,0,l));let u=o.queryInfo.limit,d=o.queryInfo.offset;typeof u==\"number\"&&typeof d==\"number\"&&(this.endpoint=new Ru(this.endpoint,d,u))}this.fetchBuffer=[]}hasMoreResults(){return this.fetchBuffer.length!==0||this.endpoint.hasMoreResults()}async fetchMore(e){return this.fetchMoreRespHeaders=me(),this._fetchMoreImplementation(e)}async _fetchMoreImplementation(e){try{if(this.fetchBuffer.length>=this.pageSize){let r=this.fetchBuffer.slice(0,this.pageSize);return this.fetchBuffer=this.fetchBuffer.slice(this.pageSize),{result:r,headers:this.fetchMoreRespHeaders}}else{let r=await this.endpoint.fetchMore(e);if(mt(this.fetchMoreRespHeaders,r.headers),r===void 0||r.result===void 0)if(this.fetchBuffer.length>0){let n=this.fetchBuffer;return this.fetchBuffer=[],{result:n,headers:this.fetchMoreRespHeaders}}else return{result:void 0,headers:this.fetchMoreRespHeaders};if(this.fetchBuffer.push(...r.result),this.options.enableQueryControl)if(this.fetchBuffer.length>=this.pageSize){let n=this.fetchBuffer.slice(0,this.pageSize);return this.fetchBuffer=this.fetchBuffer.slice(this.pageSize),{result:n,headers:this.fetchMoreRespHeaders}}else{let n=this.fetchBuffer;return this.fetchBuffer=[],{result:n,headers:this.fetchMoreRespHeaders}}return this._fetchMoreImplementation(e)}}catch(r){if(mt(this.fetchMoreRespHeaders,r.headers),r.headers=this.fetchMoreRespHeaders,r)throw r}}calculateVectorSearchBufferSize(e,r){return e.top===0||e.limit===0?0:e.top?e.top:e.limit?e.offset+e.limit:r.vectorSearchBufferSize&&r.vectorSearchBufferSize>0?r.vectorSearchBufferSize:t.DEFAULT_MAX_VECTOR_SEARCH_BUFFER_SIZE}checkQueryConstraints(e){let r=e.top||e.top===0,n=e.limit||e.limit===0;if(!r&&!n)throw new v(\"Executing a non-streaming search query without TOP or LIMIT can consume a large number of RUs very fast and have long runtimes. Please ensure you are using one of the above two filters with your vector search query.\")}};var Xo={Rid:\"_rid\",Payload:\"payload\",ComponentScores:\"componentScores\"},ya=class t{rid;componentScores;data;score;ranks;constructor(e,r,n){this.rid=e,this.componentScores=r,this.data=n}static create(e){let r=e[Xo.Rid];if(!r)throw new Error(`${Xo.Rid} must exist.`);let n=e[Xo.Payload],i,o;if(!n||typeof n!=\"object\")throw new Error(`${Xo.Payload} must exist.`);let s=n[Xo.Payload];if(s&&typeof s==\"object\"?(i=n[Xo.ComponentScores],o=s):(i=e[Xo.ComponentScores],o=n),!Array.isArray(i))throw new Error(`${Xo.ComponentScores} must exist.`);return new t(r,i,o)}};var Df=class{globalStatistics;constructor(){this.globalStatistics={documentCount:0,fullTextStatistics:[]}}aggregate(e){if(e&&(this.globalStatistics.documentCount+=e.documentCount,!(!e.fullTextStatistics||e.fullTextStatistics.length===0)))if(this.globalStatistics.fullTextStatistics.length===0)this.globalStatistics.fullTextStatistics=e.fullTextStatistics.map(r=>({totalWordCount:r.totalWordCount,hitCounts:[...r.hitCounts]}));else for(let r=0;r<e.fullTextStatistics.length;r++){let n=e.fullTextStatistics[r];this.globalStatistics.fullTextStatistics[r]||(this.globalStatistics.fullTextStatistics[r]={totalWordCount:0,hitCounts:[]}),this.globalStatistics.fullTextStatistics[r].totalWordCount+=n.totalWordCount;for(let i=0;i<n.hitCounts.length;i++)this.globalStatistics.fullTextStatistics[r].hitCounts.length<=i&&this.globalStatistics.fullTextStatistics[r].hitCounts.push(0),this.globalStatistics.fullTextStatistics[r].hitCounts[i]+=n.hitCounts[i]}}getResult(){return this.globalStatistics}};var Le;(function(t){t.uninitialized=\"uninitialized\",t.initialized=\"initialized\",t.draining=\"draining\",t.done=\"done\"})(Le||(Le={}));var xf=class{clientContext;collectionLink;query;options;partitionedQueryExecutionInfo;correlatedActivityId;allPartitionsRanges;globalStatisticsExecutionContext;componentsExecutionContext=[];pageSize;state;globalStatisticsAggregator;emitRawOrderByPayload=!0;buffer=[];DEFAULT_PAGE_SIZE=10;TOTAL_WORD_COUNT_PLACEHOLDER=\"documentdb-formattablehybridsearchquery-totalwordcount\";HIT_COUNTS_ARRAY_PLACEHOLDER=\"documentdb-formattablehybridsearchquery-hitcountsarray\";TOTAL_DOCUMENT_COUNT_PLACEHOLDER=\"documentdb-formattablehybridsearchquery-totaldocumentcount\";RRF_CONSTANT=60;logger=ve(\"HybridQueryExecutionContext\");hybridSearchResult=[];uniqueItems=new Map;isSingleComponent=!1;constructor(e,r,n,i,o,s,a){if(this.clientContext=e,this.collectionLink=r,this.query=n,this.options=i,this.partitionedQueryExecutionInfo=o,this.correlatedActivityId=s,this.allPartitionsRanges=a,this.state=Le.uninitialized,this.pageSize=this.options.maxItemCount,this.pageSize===void 0&&(this.pageSize=this.DEFAULT_PAGE_SIZE),o.hybridSearchQueryInfo.requiresGlobalStatistics){let A={maxItemCount:this.pageSize};this.globalStatisticsAggregator=new Df;let c=this.partitionedQueryExecutionInfo.hybridSearchQueryInfo.globalStatisticsQuery,l={partitionedQueryExecutionInfoVersion:1,queryInfo:{distinctType:\"None\",hasSelectValue:!1,groupByAliasToAggregateType:{},rewrittenQuery:c,hasNonStreamingOrderBy:!1},queryRanges:this.allPartitionsRanges};this.globalStatisticsExecutionContext=new ma(this.clientContext,this.collectionLink,c,A,l,this.correlatedActivityId)}else this.createComponentExecutionContexts(),this.state=Le.initialized}async nextItem(e){let r=me();for(;(this.state===Le.uninitialized||this.state===Le.initialized)&&this.buffer.length===0;)await this.fetchMoreInternal(e,r);return this.state===Le.draining&&this.buffer.length>0?this.drainOne(r):this.done(r)}hasMoreResults(){switch(this.state){case Le.uninitialized:return!0;case Le.initialized:return!0;case Le.draining:return this.buffer.length>0;case Le.done:return!1;default:return!1}}async fetchMore(e){let r=me();return this.fetchMoreInternal(e,r)}async fetchMoreInternal(e,r){switch(this.state){case Le.uninitialized:return await this.initialize(e,r),{result:[],headers:r};case Le.initialized:return await this.executeComponentQueries(e,r),{result:[],headers:r};case Le.draining:return this.drain(r);case Le.done:return this.done(r);default:throw new Error(`Invalid state: ${this.state}`)}}async initialize(e,r){try{for(;this.globalStatisticsExecutionContext.hasMoreResults();){let n=await this.globalStatisticsExecutionContext.fetchMore(e);if(mt(r,n.headers),n&&n.result)for(let i of n.result){let o=i;o&&this.globalStatisticsAggregator.aggregate(o)}}}catch(n){throw this.state=Le.done,n}this.createComponentExecutionContexts(),this.state=Le.initialized}async executeComponentQueries(e,r){if(this.isSingleComponent){await this.drainSingleComponent(e,r);return}try{if(this.options.enableQueryControl){if(this.componentsExecutionContext.length>0){let n=this.componentsExecutionContext.pop();if(n.hasMoreResults()){let i=await n.fetchMore(e),o=i.result;mt(r,i.headers),o&&o.forEach(s=>{let a=ya.create(s);this.uniqueItems.has(a.rid)||this.uniqueItems.set(a.rid,a)}),n.hasMoreResults()&&this.componentsExecutionContext.push(n)}}this.componentsExecutionContext.length===0&&this.processUniqueItems()}else{for(let n of this.componentsExecutionContext)for(;n.hasMoreResults();){let i=await n.fetchMore(e),o=i.result;mt(r,i.headers),o&&o.forEach(s=>{let a=ya.create(s);this.uniqueItems.has(a.rid)||this.uniqueItems.set(a.rid,a)})}this.processUniqueItems()}}catch(n){throw this.state=Le.done,n}}processUniqueItems(){if(this.uniqueItems.forEach(n=>this.hybridSearchResult.push(n)),this.hybridSearchResult.length===0||this.hybridSearchResult.length===1){this.hybridSearchResult.forEach(n=>this.buffer.push(n.data)),this.state=Le.draining;return}let e=this.extractComponentWeights();this.sortHybridSearchResultByRRFScore(this.hybridSearchResult,e).forEach(n=>this.buffer.push(n.data)),this.applySkipAndTakeToBuffer(),this.state=Le.draining}applySkipAndTakeToBuffer(){let{skip:e,take:r}=this.partitionedQueryExecutionInfo.hybridSearchQueryInfo;e&&(this.buffer=e>=this.buffer.length?[]:this.buffer.slice(e)),r&&(this.buffer=r<=0?[]:this.buffer.slice(0,r))}async drain(e){try{if(this.buffer.length===0)return this.state=Le.done,this.done(e);let r=this.buffer.slice(0,this.pageSize);return this.buffer=this.buffer.slice(this.pageSize),this.buffer.length===0&&(this.state=Le.done),{result:r,headers:e}}catch(r){throw this.state=Le.done,r}}async drainOne(e){try{if(this.buffer.length===0)return this.state=Le.done,this.done(e);let r=this.buffer.shift();return this.buffer.length===0&&(this.state=Le.done),{result:r,headers:e}}catch(r){throw this.state=Le.done,r}}done(e){return{result:void 0,headers:e}}sortHybridSearchResultByRRFScore(e,r){if(e.length===0)return[];let n=e.map(s=>({rid:s.rid,ranks:new Array(s.componentScores.length).fill(0)}));for(let s=0;s<e[0].componentScores.length;s++){e.sort((A,c)=>r[s].comparator(A.componentScores[s],c.componentScores[s]));let a=1;for(let A=0;A<e.length;A++){A>0&&e[A].componentScores[s]!==e[A-1].componentScores[s]&&++a;let c=n.findIndex(l=>l.rid===e[A].rid);n[c].ranks[s]=a}}let i=n.map(s=>({rid:s.rid,rrfScore:this.computeRRFScore(s.ranks,this.RRF_CONSTANT,r)}));return i.sort((s,a)=>a.rrfScore-s.rrfScore),i.map(s=>e.find(a=>a.rid===s.rid))}async drainSingleComponent(e,r){if(this.componentsExecutionContext&&this.componentsExecutionContext.length!==1){this.logger.error(\"drainSingleComponent called on multiple components\");return}try{if(this.options.enableQueryControl){let n=this.componentsExecutionContext[0];if(n.hasMoreResults()){let i=await n.fetchMore(e),o=i.result;mt(r,i.headers),o&&o.forEach(s=>{this.hybridSearchResult.push(ya.create(s))})}n.hasMoreResults()||(this.state=Le.draining,this.hybridSearchResult.forEach(i=>this.buffer.push(i.data)),this.applySkipAndTakeToBuffer(),this.state=Le.draining);return}else{let n=this.componentsExecutionContext[0],i=[];for(;n.hasMoreResults();){let o=await n.fetchMore(e),s=o.result;mt(r,o.headers),s&&s.forEach(a=>{i.push(ya.create(a))})}i.forEach(o=>this.buffer.push(o.data)),this.applySkipAndTakeToBuffer(),this.state=Le.draining}}catch(n){throw this.state=Le.done,n}}createComponentExecutionContexts(){let e=this.partitionedQueryExecutionInfo.hybridSearchQueryInfo.componentQueryInfos;this.partitionedQueryExecutionInfo.hybridSearchQueryInfo.requiresGlobalStatistics&&(e=this.processComponentQueries(this.partitionedQueryExecutionInfo.hybridSearchQueryInfo.componentQueryInfos,this.globalStatisticsAggregator.getResult()));for(let r of e){let n={partitionedQueryExecutionInfoVersion:1,queryInfo:r,queryRanges:this.partitionedQueryExecutionInfo.queryRanges},i=typeof this.query==\"string\"?r.rewrittenQuery:{query:r.rewrittenQuery,parameters:this.query?.parameters??[]},o=new pc(this.clientContext,this.collectionLink,i,this.options,n,this.correlatedActivityId,this.emitRawOrderByPayload);this.componentsExecutionContext.push(o)}this.isSingleComponent=this.componentsExecutionContext.length===1}processComponentQueries(e,r){return e.map(n=>{let i=n.orderByExpressions;if(n.orderBy&&n.orderBy.length>0){if(!n.hasNonStreamingOrderBy)throw new Error(\"The component query must have a non-streaming order by clause.\");i=n.orderByExpressions.map(o=>this.replacePlaceholdersWorkaroud(o,r,e.length))}return{...n,rewrittenQuery:this.replacePlaceholdersWorkaroud(n.rewrittenQuery,r,e.length),orderByExpressions:i}})}replacePlaceholdersWorkaroud(e,r,n){if(!r||!r.documentCount||!Array.isArray(r.fullTextStatistics))throw new Error(\"GlobalStats validation failed\");e=e.replace(new RegExp(`{${this.TOTAL_DOCUMENT_COUNT_PLACEHOLDER}}`,\"g\"),r.documentCount.toString());let i=0;for(let o=0;o<n;o++){let s=`{${this.TOTAL_WORD_COUNT_PLACEHOLDER}-${o}}`,a=`{${this.HIT_COUNTS_ARRAY_PLACEHOLDER}-${o}}`;if(!e.includes(s))continue;let A=r.fullTextStatistics[i];e=e.replace(new RegExp(s,\"g\"),A.totalWordCount.toString()),e=e.replace(new RegExp(a,\"g\"),`[${A.hitCounts.join(\",\")}]`),i++}return e}computeRRFScore=(e,r,n)=>{if(e.length!==n.length)throw new Error(\"Ranks and component weights length mismatch\");let i=0;for(let o=0;o<e.length;o++){let s=e[o],a=n[o].weight;i+=a*(1/(r+s))}return i};extractComponentWeights(){let e=this.partitionedQueryExecutionInfo.hybridSearchQueryInfo,r=!e.componentWeights||e.componentWeights.length===0,n=[];for(let i=0;i<e.componentQueryInfos.length;++i){let o=e.componentQueryInfos[i];if(o.orderBy&&o.orderBy.length>0){if(!o.hasNonStreamingOrderBy)throw new Error(\"The component query should have a non streaming order by\");if(!o.orderByExpressions||o.orderByExpressions.length!==1)throw new Error(\"The component query should have exactly one order by expression\")}let s=r?1:e.componentWeights[i],A=o.orderBy&&o.orderBy.length>0&&o.orderBy[0].includes(\"Ascending\")?1:-1;n.push({weight:s,comparator:(c,l)=>A*(c-l)})}return n}};var Pe=class{clientContext;query;options;fetchFunctions;resourceLink;resourceType;fetchAllTempResources;fetchAllLastResHeaders;queryExecutionContext;queryPlanPromise;isInitialized;correlatedActivityId;partitionKeyRangeCache;constructor(e,r,n,i,o,s){this.clientContext=e,this.query=r,this.options=n,this.fetchFunctions=i,this.resourceLink=o,this.resourceType=s,this.query=r,this.fetchFunctions=i,this.options=n||{},this.resourceLink=o,this.fetchAllLastResHeaders=me(),this.reset(),this.isInitialized=!1,this.partitionKeyRangeCache=this.clientContext.partitionKeyRangeCache}async*getAsyncIterator(){let e=new jt(this.clientContext.diagnosticLevel,_e.CLIENT_REQUEST_NODE,null);yield*this.getAsyncIteratorInternal(e)}async*getAsyncIteratorInternal(e){for(this.reset(),this.queryPlanPromise=this.fetchQueryPlan(e);this.queryExecutionContext.hasMoreResults();){let r;try{r=await this.queryExecutionContext.fetchMore(e)}catch(i){if(this.needsQueryPlan(i)){await this.createExecutionContext(e);try{r=await this.queryExecutionContext.fetchMore(e)}catch(o){this.handleSplitError(o)}}else throw i}let n=new ca(r.result,r.headers,this.queryExecutionContext.hasMoreResults(),e.toDiagnostic(this.clientContext.getClientConfig()));e=new jt(this.clientContext.diagnosticLevel,_e.CLIENT_REQUEST_NODE,null),r.result!==void 0&&(yield n)}}hasMoreResults(){return this.queryExecutionContext.hasMoreResults()}async fetchAll(){return O(async e=>this.fetchAllInternal(e),this.clientContext)}async fetchAllInternal(e){this.reset();let r;try{r=await this.toArrayImplementation(e)}catch(n){this.handleSplitError(n)}return r}async fetchNext(){return O(async e=>this.fetchNextInternal(e),this.clientContext)}async fetchNextInternal(e){this.queryPlanPromise=ei(async n=>this.fetchQueryPlan(n),e,_r.QueryPlanLookUp),this.isInitialized||await this.init(e);let r;try{r=await this.queryExecutionContext.fetchMore(e)}catch(n){if(this.needsQueryPlan(n)){await this.createExecutionContext(e);try{r=await this.queryExecutionContext.fetchMore(e)}catch(i){this.handleSplitError(i)}}else throw n}return new ca(r.result,r.headers,this.queryExecutionContext.hasMoreResults(),G())}reset(){this.correlatedActivityId=pr(),this.queryPlanPromise=void 0,this.fetchAllLastResHeaders=me(),this.fetchAllTempResources=[],this.queryExecutionContext=new lc(this.options,this.fetchFunctions,this.correlatedActivityId)}async toArrayImplementation(e){for(this.queryPlanPromise=ei(async r=>this.fetchQueryPlan(r),e,_r.QueryPlanLookUp),this.isInitialized||await this.init(e);this.queryExecutionContext.hasMoreResults();){let r;try{r=await this.queryExecutionContext.fetchMore(e)}catch(o){if(this.needsQueryPlan(o))await this.createExecutionContext(e),r=await this.queryExecutionContext.fetchMore(e);else throw o}let{result:n,headers:i}=r;mt(this.fetchAllLastResHeaders,i),n&&this.fetchAllTempResources.push(...n)}return new ca(this.fetchAllTempResources,this.fetchAllLastResHeaders,this.queryExecutionContext.hasMoreResults(),G())}async createExecutionContext(e){let r=await this.queryPlanPromise;if(r instanceof Error)throw r;let n=r.result;n.hybridSearchQueryInfo&&n.hybridSearchQueryInfo!==null?await this.createHybridQueryExecutionContext(n,e):await this.createPipelinedExecutionContext(n)}async createHybridQueryExecutionContext(e,r){let i=(await this.partitionKeyRangeCache.onCollectionRoutingMap(this.resourceLink,r)).getOrderedParitionKeyRanges().map(o=>({min:o.minInclusive,max:o.maxExclusive,isMinInclusive:!0,isMaxInclusive:!1}));this.queryExecutionContext=new xf(this.clientContext,this.resourceLink,this.query,this.options,e,this.correlatedActivityId,i)}async createPipelinedExecutionContext(e){let r=e.queryInfo;if(r.aggregates.length>0&&r.hasSelectValue===!1)throw new Error(\"Aggregate queries must use the VALUE keyword\");this.queryExecutionContext=new pc(this.clientContext,this.resourceLink,this.query,this.options,e,this.correlatedActivityId)}async fetchQueryPlan(e){return!this.queryPlanPromise&&this.resourceType===Q.item?this.clientContext.getQueryPlan(_(this.resourceLink)+\"/docs\",Q.item,this.resourceLink,this.query,this.options,e,this.correlatedActivityId).catch(r=>r):this.queryPlanPromise}needsQueryPlan(e){if(e.body?.additionalErrorInfo||e.message.includes(\"Cross partition query only supports\"))return e.code===V.BadRequest&&this.resourceType===Q.item;throw e}initPromise;async init(e){if(this.isInitialized!==!0)return this.initPromise===void 0&&(this.initPromise=this._init(e)),this.initPromise}async _init(e){this.options.forceQueryPlan===!0&&this.resourceType===Q.item&&await this.createExecutionContext(e),this.isInitialized=!0}handleSplitError(e){if(e.code===410){let r=new Error(\"Encountered partition split and could not recover. This request is retryable\");throw r.code=503,r.originalError=e,r}else throw e}};var Ec=class extends Ne{constructor(e,r,n,i,o){super(e,r,n,o),this.conflict=i}conflict};var Tu=class{container;id;clientContext;partitionKey;get url(){return`/${this.container.url}/${E.Path.ConflictsPathSegment}/${this.id}`}constructor(e,r,n,i){this.container=e,this.id=r,this.clientContext=n,this.partitionKey=i,this.partitionKey=i}async read(e){return O(async r=>{let n=_(this.url,Q.conflicts),i=Y(this.url),o=await this.clientContext.read({path:n,resourceType:Q.user,resourceId:i,options:e,diagnosticNode:r});return new Ec(o.result,o.headers,o.code,this,G())},this.clientContext)}async delete(e){return O(async r=>{if(this.partitionKey===void 0){let s=await rn(r,this.container);this.partitionKey=oa(s)}let n=_(this.url),i=Y(this.url),o=await this.clientContext.delete({path:n,resourceType:Q.conflicts,resourceId:i,options:e,partitionKey:this.partitionKey,diagnosticNode:r});return new Ec(o.result,o.headers,o.code,this,G())},this.clientContext)}};var bu=class{container;clientContext;constructor(e,r){this.container=e,this.clientContext=r}query(e,r){let n=_(this.container.url,Q.conflicts),i=Y(this.container.url);return new Pe(this.clientContext,e,r,(o,s)=>this.clientContext.queryFeed({path:n,resourceType:Q.conflicts,resourceId:i,resultFn:a=>a.Conflicts,query:e,options:s,diagnosticNode:o}))}readAll(e){return this.query(void 0,e)}};var BI;(function(t){t.Custom=\"Custom\",t.LastWriterWins=\"LastWriterWins\"})(BI||(BI={}));var ri=class extends Ne{constructor(e,r,n,i,o,s){super(e,r,n,s,i),this.item=o}item};var Zo=class{container;id;clientContext;partitionKey;get url(){return Mb(this.container.database.id,this.container.id,this.id)}constructor(e,r,n,i){this.container=e,this.id=r,this.clientContext=n,this.partitionKey=i===void 0?void 0:Dt(i)}async read(e={}){return O(async r=>{this.partitionKey=await sa(r,this.container,this.partitionKey);let n=this.url,i=this.partitionKey,o;try{if(this.clientContext.enableEncryption){await this.container.checkAndInitializeEncryption(),e.containerRid=this.container._rid;let l=0;r.beginEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation);let{partitionKeyList:u,encryptedCount:d}=await this.container.encryptionProcessor.getEncryptedPartitionKeyValue(this.partitionKey);i=u,l+=d,await this.container.encryptionProcessor.isPathEncrypted(\"/id\")&&(n=await this.container.encryptionProcessor.getEncryptedUrl(this.url),l++),r.endEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation,l)}let s=_(n),a=Y(n),A=this.clientContext.isPartitionLevelFailOverEnabled(),c=await vn(r,i,this.clientContext.partitionKeyRangeCache,A,this.container);o=await this.clientContext.read({path:s,resourceType:Q.item,resourceId:a,options:e,partitionKey:i,diagnosticNode:r,partitionKeyRangeId:c})}catch(s){if(this.clientContext.enableEncryption&&await this.container.throwIfRequestNeedsARetryPostPolicyRefresh(s),s.code!==V.NotFound)throw s;o=s}if(this.clientContext.enableEncryption){r.beginEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation);let{body:s,propertiesDecryptedCount:a}=await this.container.encryptionProcessor.decrypt(o.result);r.endEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation,a),o.result=s}return new ri(o.result,o.headers,o.code,o.substatus,this,G())},this.clientContext)}async replace(e,r={}){return O(async n=>{this.partitionKey=await sa(n,this.container,this.partitionKey);let i=this.partitionKey,o={};if(!au(e,o))throw o;let s=this.url,a;try{if(this.clientContext.enableEncryption){e=Ur(e),r=r||{},await this.container.checkAndInitializeEncryption(),r.containerRid=this.container._rid;let d=0;n.beginEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation);let{body:h,propertiesEncryptedCount:g}=await this.container.encryptionProcessor.encrypt(e);e=h,d+=g;let{partitionKeyList:p,encryptedCount:f}=await this.container.encryptionProcessor.getEncryptedPartitionKeyValue(this.partitionKey);i=p,d+=f,await this.container.encryptionProcessor.isPathEncrypted(\"/id\")&&(s=await this.container.encryptionProcessor.getEncryptedUrl(this.url),d++),n.endEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation,d)}let A=_(s),c=Y(s),l=this.clientContext.isPartitionLevelFailOverEnabled(),u=await vn(n,i,this.clientContext.partitionKeyRangeCache,l,this.container);a=await this.clientContext.replace({body:e,path:A,resourceType:Q.item,resourceId:c,options:r,partitionKey:i,diagnosticNode:n,partitionKeyRangeId:u})}catch(A){throw this.clientContext.enableEncryption&&await this.container.throwIfRequestNeedsARetryPostPolicyRefresh(A),A}if(this.clientContext.enableEncryption)try{n.beginEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation);let{body:A,propertiesDecryptedCount:c}=await this.container.encryptionProcessor.decrypt(a.result);a.result=A,n.endEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation,c)}catch(A){let c=new v(`Item replace operation was successful but response decryption failed: + ${A.message}`);throw c.code=V.ServiceUnavailable,c}return new ri(a.result,a.headers,a.code,a.substatus,this,G())},this.clientContext)}async delete(e={}){return O(async r=>{this.partitionKey=await sa(r,this.container,this.partitionKey);let n=this.partitionKey,i=this.url,o;try{if(this.clientContext.enableEncryption){await this.container.checkAndInitializeEncryption(),e.containerRid=this.container._rid;let l=0;r.beginEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation);let{partitionKeyList:u,encryptedCount:d}=await this.container.encryptionProcessor.getEncryptedPartitionKeyValue(this.partitionKey);n=u,l+=d,await this.container.encryptionProcessor.isPathEncrypted(\"/id\")&&(i=await this.container.encryptionProcessor.getEncryptedUrl(this.url),l++),r.endEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation,l)}let s=_(i),a=Y(i),A=this.clientContext.isPartitionLevelFailOverEnabled(),c=await vn(r,n,this.clientContext.partitionKeyRangeCache,A,this.container);o=await this.clientContext.delete({path:s,resourceType:Q.item,resourceId:a,options:e,partitionKey:n,diagnosticNode:r,partitionKeyRangeId:c})}catch(s){throw this.clientContext.enableEncryption&&await this.container.throwIfRequestNeedsARetryPostPolicyRefresh(s),s}return new ri(o.result,o.headers,o.code,o.substatus,this,G())},this.clientContext)}async patch(e,r={}){return O(async n=>{this.partitionKey=await sa(n,this.container,this.partitionKey);let i=this.url,o=this.partitionKey,s;try{if(this.clientContext.enableEncryption){await this.container.checkAndInitializeEncryption(),r.containerRid=this.container._rid,e=Ur(e);let u=Array.isArray(e)?e:e.operations;n.beginEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation);let d=0;for(let p of u)if(!(p.op===cf.remove||!await this.container.encryptionProcessor.isPathEncrypted(p.path))){if(p.op===cf.incr)throw new v(`Increment patch operation is not allowed for encrypted path '${p.path}'`);\"value\"in p&&(p.value=await this.container.encryptionProcessor.encryptProperty(p.path,p.value)),d++}let{partitionKeyList:h,encryptedCount:g}=await this.container.encryptionProcessor.getEncryptedPartitionKeyValue(o);o=h,d+=g,await this.container.encryptionProcessor.isPathEncrypted(\"/id\")&&(i=await this.container.encryptionProcessor.getEncryptedUrl(this.url),d++),n.endEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation,d)}let a=_(i),A=Y(i),c=this.clientContext.isPartitionLevelFailOverEnabled(),l=await vn(n,o,this.clientContext.partitionKeyRangeCache,c,this.container);s=await this.clientContext.patch({body:e,path:a,resourceType:Q.item,resourceId:A,options:r,partitionKey:o,diagnosticNode:n,partitionKeyRangeId:l})}catch(a){throw this.clientContext.enableEncryption&&await this.container.throwIfRequestNeedsARetryPostPolicyRefresh(a),a}if(this.clientContext.enableEncryption)try{n.beginEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation);let{body:a,propertiesDecryptedCount:A}=await this.container.encryptionProcessor.decrypt(s.result);s.result=a,n.endEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation,A)}catch(a){let A=new v(`Item patch operation was successful but response decryption failed: + ${a.message}`);throw A.code=V.ServiceUnavailable,A}return new ri(s.result,s.headers,s.code,s.substatus,this,G())},this.clientContext)}};var ku=class{result;count;statusCode;diagnostics;constructor(e,r,n,i,o){this.result=e,this.count=r,this.statusCode=n,this.diagnostics=o,this.headers=Object.freeze(i)}get requestCharge(){let e=this.headers[E.HttpHeaders.RequestCharge];return e?parseInt(e,10):null}get activityId(){return this.headers[E.HttpHeaders.ActivityId]}get continuation(){return this.etag}get sessionToken(){return this.headers[E.HttpHeaders.SessionToken]}get etag(){return this.headers[E.HttpHeaders.ETag]}headers};var Du=class t{clientContext;resourceId;resourceLink;partitionKey;changeFeedOptions;static IfNoneMatchAllHeaderValue=\"*\";nextIfNoneMatch;ifModifiedSince;lastStatusCode;isPartitionSpecified;constructor(e,r,n,i,o){this.clientContext=e,this.resourceId=r,this.resourceLink=n,this.partitionKey=i,this.changeFeedOptions=o;let s=i!==void 0;this.isPartitionSpecified=s;let a=!0;o.continuation&&(this.nextIfNoneMatch=o.continuation,a=!1),o.startTime&&(this.ifModifiedSince=o.startTime.toUTCString(),a=!1),a&&!o.startFromBeginning&&(this.nextIfNoneMatch=t.IfNoneMatchAllHeaderValue)}get hasMoreResults(){return this.lastStatusCode!==V.NotModified}async*getAsyncIterator(){do{let e=await this.fetchNext();e.count>0&&(yield e)}while(this.hasMoreResults)}async fetchNext(){return O(async e=>{let r=await this.getFeedResponse(e);return this.lastStatusCode=r.statusCode,this.nextIfNoneMatch=r.headers[E.HttpHeaders.ETag],r},this.clientContext)}async getFeedResponse(e){if(!this.isPartitionSpecified)throw new Error(\"Container is partitioned, but no partition key or partition key range id was specified.\");let r={initialHeaders:{},useIncrementalFeed:!0};typeof this.changeFeedOptions.maxItemCount==\"number\"&&(r.maxItemCount=this.changeFeedOptions.maxItemCount),this.changeFeedOptions.sessionToken&&(r.sessionToken=this.changeFeedOptions.sessionToken),this.nextIfNoneMatch&&(r.accessCondition={type:E.HttpHeaders.IfNoneMatch,condition:this.nextIfNoneMatch}),this.ifModifiedSince&&(r.initialHeaders[E.HttpHeaders.IfModifiedSince]=this.ifModifiedSince);let n=await this.clientContext.queryFeed({path:this.resourceLink,resourceType:Q.item,resourceId:this.resourceId,resultFn:i=>i?i.Documents:[],query:void 0,options:r,partitionKey:this.partitionKey,diagnosticNode:e});return new ku(n.result,n.result?n.result.length:0,n.code,n.headers,G())}};var vf=class extends Pe{container;encryptionClientContext;encryptionOptions;constructor(e,r,n,i,o){super(e,r,n,i,o.url,Q.item),this.container=o,this.encryptionClientContext=e,this.encryptionOptions=n}async*getAsyncIterator(){let e,r=new jt(this.encryptionClientContext.diagnosticLevel,_e.CLIENT_REQUEST_NODE,null);try{e=yield*Pe.prototype.getAsyncIteratorInternal.call(this,r)}catch(n){await this.container.throwIfRequestNeedsARetryPostPolicyRefresh(n)}if(e?.resources?.length>0){let n=0;r.beginEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation);for(let i of e.resources){let{body:o,propertiesDecryptedCount:s}=await this.container.encryptionProcessor.decrypt(i);i=o,n+=s}r.endEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation,n)}yield e}async fetchAll(){return O(async e=>{let r;try{r=await Pe.prototype.fetchAllInternal.call(this,e)}catch(n){await this.container.throwIfRequestNeedsARetryPostPolicyRefresh(n)}if(r?.resources?.length>0){let n=0;e.beginEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation);for(let i of r.resources){let{body:o,propertiesDecryptedCount:s}=await this.container.encryptionProcessor.decrypt(i);i=o,n+=s}e.endEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation,n)}return r},this.encryptionClientContext)}async fetchNext(){return O(async e=>{let r;try{r=await Pe.prototype.fetchNextInternal.call(this,e)}catch(n){await this.container.throwIfRequestNeedsARetryPostPolicyRefresh(n)}if(r?.resources?.length>0){let n=0;e.beginEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation);for(let i of r.resources){let{body:o,propertiesDecryptedCount:s}=await this.container.encryptionProcessor.decrypt(i);i=o,n+=s}e.endEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation,n)}return r},this.encryptionClientContext)}async init(e){await this.container.checkAndInitializeEncryption(),this.encryptionOptions.containerRid=this.container._rid,await Pe.prototype.init.call(this,e)}};var Nf=class{retryAfterInMs;retriesOn410;MaxRetriesOn410=10;SubstatusCodeBatchResponseSizeExceeded=3402;nextRetryPolicy;constructor(e){this.nextRetryPolicy=e,this.retriesOn410=0}async shouldRetry(e,r){if(!e)return!1;if(e.code===V.Gone){if(this.retriesOn410++,this.retriesOn410>this.MaxRetriesOn410)return!1;if(e.substatus===rt.PartitionKeyRangeGone||e.substatus===rt.CompletingSplit||e.substatus===rt.CompletingPartitionMigration||e.substatus===rt.NameCacheIsStale)return!0}if(e.code===V.RequestEntityTooLarge&&e.substatus===this.SubstatusCodeBatchResponseSizeExceeded)return!0;let n=!1;if(e.code===V.TooManyRequests){let i=await this.nextRetryPolicy.shouldRetry(e,r);n=Array.isArray(i)?i[0]:i}return n&&await ra(this.nextRetryPolicy.retryAfterInMs),n}};var Cc=class{currentRetryAttemptCount=0;cummulativeWaitTimeinMs=0;retryAfterInMs=0;timeoutInMs;maxTries;fixedRetryIntervalInMs;constructor(e){this.maxTries=e.maxRetryAttemptCount??E.ThrottledRequestMaxRetryAttemptCount,this.fixedRetryIntervalInMs=e.fixedRetryIntervalInMilliseconds??E.ThrottledRequestFixedRetryIntervalInMs;let r=e.maxWaitTimeInSeconds??E.ThrottledRequestMaxWaitTimeInSeconds;this.timeoutInMs=r*1e3,this.currentRetryAttemptCount=0,this.cummulativeWaitTimeinMs=0}async shouldRetry(e,r){return e&&this.currentRetryAttemptCount<this.maxTries&&(this.currentRetryAttemptCount++,this.retryAfterInMs=0,this.fixedRetryIntervalInMs?this.retryAfterInMs=this.fixedRetryIntervalInMs:e.retryAfterInMs&&(this.retryAfterInMs=e.retryAfterInMs),this.cummulativeWaitTimeinMs<this.timeoutInMs)?(this.cummulativeWaitTimeinMs+=this.retryAfterInMs,r.addData({successfulRetryPolicy:\"resourceThrottle\"}),!0):!1}};var Xk=Ae(wu(),1);var Pf=class{batchOperationsList;currentSize;toBeDispatched;executor;retrier;diagnosticLevel;encryptionEnabled;encryptionProcessor;clientConfigDiagnostics;limiter;processedOperationCountRef;constructor(e,r,n,i,o,s,a,A){this.limiter=e,this.batchOperationsList=[],this.executor=r,this.retrier=n,this.diagnosticLevel=i,this.encryptionEnabled=o,this.encryptionProcessor=a,this.clientConfigDiagnostics=s,this.currentSize=0,this.toBeDispatched=!1,this.processedOperationCountRef=A}tryAdd(e){if(this.toBeDispatched)return!1;if(!e)throw new v(\"Operation is not defined\");if(!e.operationContext)throw new v(\"Operation context is not defined\");if(this.batchOperationsList.length===E.MaxBulkOperationsCount)return!1;let r=sf(e.operationInput);return this.batchOperationsList.length>0&&this.currentSize+r>E.DefaultMaxBulkRequestBodySizeInBytes?!1:(this.currentSize+=r,this.batchOperationsList.push(e),!0)}isEmpty(){return this.batchOperationsList.length===0}async dispatch(e){this.toBeDispatched=!0;let r=xt(),n=new jt(this.diagnosticLevel,_e.BATCH_REQUEST,null);try{let i=await this.executor(this.batchOperationsList,n),a=i?.results?.some(c=>\"code\"in c&&c.code===V.TooManyRequests)?1:0;!!i?.results?.some(c=>\"code\"in c&&c.code===V.Gone)&&await this.limiter.pauseAndClear(V.Gone,n),e.add(this.batchOperationsList.length,xt()-r,a);for(let c=0;c<i.operations.length;c++){let l=i.operations[c],u=i.results[c];if(u instanceof v&&await l.operationContext.retryPolicy.shouldRetry(u,l.operationContext.diagnosticNode)){await this.retrier(l,l.operationContext.diagnosticNode);continue}try{if(this.encryptionEnabled&&u.resourceBody){l.operationContext.diagnosticNode.beginEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation);let{body:h,propertiesDecryptedCount:g}=await this.encryptionProcessor.decrypt(u.resourceBody);u.resourceBody=h,l.operationContext.diagnosticNode.endEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation,g)}}catch(h){if(l.operationInput.operationType!==\"Read\"){let g=new v(`Item ${l.operationInput.operationType} operation was successful but response decryption failed: + ${h.message}`);throw g.code=V.ServiceUnavailable,g}}l.operationContext.addDiagnosticChild(n),u.diagnostics=l.operationContext.diagnosticNode.toDiagnostic(this.clientConfigDiagnostics);let d={operationInput:l.unencryptedOperationInput};u instanceof v?d.error=u:d.response=u,l.operationContext.complete(d),this.processedOperationCountRef.count++}}catch(i){for(let o of this.batchOperationsList){let s={operationInput:o.operationInput,error:Object.assign(new v(i.message),{code:V.InternalServerError,diagnostics:o.operationContext.diagnosticNode.toDiagnostic(this.clientConfigDiagnostics)})};o.operationContext.fail(s),this.processedOperationCountRef.count++}}finally{this.batchOperationsList=[]}}getOperations(){return this.batchOperationsList}};var Mf=class{limiterQueue;oldPartitionMetric;partitionMetric;congestionWaitTimeInMs=1e3;congestionIncreaseFactor=1;congestionDecreaseFactor=5;currentDegreeOfConcurrency;constructor(e,r,n){this.limiterQueue=e,this.oldPartitionMetric=n,this.partitionMetric=r,this.currentDegreeOfConcurrency=1}run(){let e=this.partitionMetric.timeTakenInMs-this.oldPartitionMetric.timeTakenInMs;if(e>=this.congestionWaitTimeInMs){let r=this.partitionMetric.numberOfThrottles-this.oldPartitionMetric.numberOfThrottles,n=this.partitionMetric.numberOfItemsOperatedOn-this.oldPartitionMetric.numberOfItemsOperatedOn;this.oldPartitionMetric.add(n,e,r),r>0&&this.decreaseConcurrency(),n>0&&r===0&&this.increaseConcurrency()}}decreaseConcurrency(){let e=Math.min(this.congestionDecreaseFactor,Math.floor(this.currentDegreeOfConcurrency/2));this.currentDegreeOfConcurrency-=e,this.limiterQueue.setConcurrency(this.currentDegreeOfConcurrency),this.congestionWaitTimeInMs+=1e3}increaseConcurrency(){this.currentDegreeOfConcurrency+this.congestionIncreaseFactor<=E.BulkMaxDegreeOfConcurrency&&(this.currentDegreeOfConcurrency+=this.congestionIncreaseFactor,this.limiterQueue.setConcurrency(this.currentDegreeOfConcurrency))}};var $k=Ae(wu(),1),xu=class{numberOfItemsOperatedOn;timeTakenInMs;numberOfThrottles;semaphore;constructor(){this.numberOfItemsOperatedOn=0,this.timeTakenInMs=0,this.numberOfThrottles=0,this.semaphore=(0,$k.default)(1)}add(e,r,n){this.semaphore.take(()=>{try{this.numberOfItemsOperatedOn+=e,this.timeTakenInMs+=r,this.numberOfThrottles+=n}finally{this.semaphore.leave()}})}};var QI=class{value;next=null;prev=null;constructor(e){this.value=e}},wI=class{head=null;tail=null;length=0;push(e){let r=new QI(e);this.head?(this.tail.next=r,r.prev=this.tail,this.tail=r):this.head=this.tail=r,this.length++}shift(){if(!this.head)return null;let e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}clear(){this.head=null,this.tail=null,this.length=0}isEmpty(){return this.length===0}};function yG(t){typeof process<\"u\"&&typeof process.nextTick==\"function\"?process.nextTick(t):typeof setImmediate==\"function\"?setImmediate(t):Promise.resolve().then(t)}var Ff=class{concurrency;running=0;tasks=new wI;terminated=!1;terminatedValue;scheduled=!1;processing=!1;retrier;partitionMetric;refreshPartitionKeyRangeCache;refreshPKRangeCachePromise=void 0;constructor(e,r,n,i){this.concurrency=e,this.partitionMetric=r,this.retrier=n,this.refreshPartitionKeyRangeCache=i}push(e){return this.terminated?(e.getOperations().forEach(n=>this.retrier(n,n.operationContext.diagnosticNode)),Promise.resolve(this.terminatedValue)):new Promise((r,n)=>{this.tasks.push({batcher:e,resolve:r,reject:n}),this.scheduleProcess()})}async pauseAndClear(e,r){this.terminated=!0,this.terminatedValue=e;let n=[];for(;!this.tasks.isEmpty();){let i=this.tasks.shift();if(!i)break;if(e===V.Gone){let o=i.batcher.getOperations();n.push(...o)}i.resolve(e)}if(e===V.Gone){this.refreshPKRangeCachePromise?await this.refreshPKRangeCachePromise:(this.refreshPKRangeCachePromise=this.refreshPartitionKeyRangeCache(r),await this.refreshPKRangeCachePromise);for(let i of n)await this.retrier(i,i.operationContext.diagnosticNode)}}scheduleProcess(){this.scheduled||this.processing||this.terminated||(this.scheduled=!0,yG(()=>{this.scheduled=!1,this.process()}))}process(){if(!this.terminated){this.processing=!0;try{for(;!this.terminated&&this.running<this.concurrency&&!this.tasks.isEmpty();){let e=this.tasks.shift();if(!e)break;this.running++;let r;try{r=e.batcher.dispatch(this.partitionMetric)}catch(n){e.reject(n),this.running--;continue}r.then(n=>{e.resolve(n)}).catch(n=>{e.reject(n)}).finally(()=>{this.running--,!this.terminated&&this.running<this.concurrency&&!this.tasks.isEmpty()&&this.scheduleProcess()})}}catch(e){console.error(\"Unexpected error in task queue processing:\",e)}finally{this.processing=!1}}}setConcurrency(e){if(e<1)throw new Error(\"Concurrency must be at least 1\");this.concurrency=e,!this.terminated&&this.running<this.concurrency&&this.scheduleProcess()}};var Lf=class{executor;retrier;currentBatcher;lock;partitionMetric;oldPartitionMetric;diagnosticLevel;encryptionEnabled;encryptionProcessor;clientConfigDiagnostics;congestionControlAlgorithm;dispatchLimiterQueue;initialConcurrency=1;processedOperationCountRef;constructor(e,r,n,i,o,s,a,A){this.executor=e,this.retrier=r,this.diagnosticLevel=i,this.encryptionEnabled=o,this.encryptionProcessor=a,this.clientConfigDiagnostics=s,this.oldPartitionMetric=new xu,this.partitionMetric=new xu,this.processedOperationCountRef=A,this.lock=(0,Xk.default)(1),this.dispatchLimiterQueue=new Ff(this.initialConcurrency,this.partitionMetric,this.retrier,n),this.congestionControlAlgorithm=new Mf(this.dispatchLimiterQueue,this.partitionMetric,this.oldPartitionMetric),this.currentBatcher=this.createBatcher()}async add(e){return new Promise((r,n)=>{this.lock.take(()=>{try{for(;!this.currentBatcher.tryAdd(e);){let i=this.getBatchToQueueAndCreate();i&&this.dispatchLimiterQueue.push(i)}r()}catch(i){let o={operationInput:e.unencryptedOperationInput,error:Object.assign(new Error(i.message),{code:V.InternalServerError,diagnostics:e.operationContext.diagnosticNode.toDiagnostic(this.clientConfigDiagnostics)})};e.operationContext.fail(o),this.processedOperationCountRef.count++,n(i)}finally{this.lock.leave()}})})}getBatchToQueueAndCreate(){if(this.currentBatcher.isEmpty())return null;let e=this.currentBatcher;return this.currentBatcher=this.createBatcher(),e}addPartialBatchToQueue(){this.lock.take(()=>{try{if(!this.currentBatcher.isEmpty()){let e=this.currentBatcher;this.currentBatcher=this.createBatcher(),this.dispatchLimiterQueue.push(e)}}finally{this.lock.leave()}})}createBatcher(){return new Pf(this.dispatchLimiterQueue,this.executor,this.retrier,this.diagnosticLevel,this.encryptionEnabled,this.clientConfigDiagnostics,this.encryptionProcessor,this.processedOperationCountRef)}runCongestionAlgorithm(){this.congestionControlAlgorithm.run()}async dispose(){await this.dispatchLimiterQueue.pauseAndClear(null),this.currentBatcher=void 0}};var vu=class{pkRangeId;retryPolicy;diagnosticNode;taskCompletionSource;constructor(e,r,n){this.pkRangeId=e,this.retryPolicy=r,this.diagnosticNode=n,this.taskCompletionSource=new af}get operationPromise(){return this.taskCompletionSource.task}addDiagnosticChild(e){this.diagnosticNode.addBulkChildNode(e,this.diagnosticNode.diagnosticLevel),e.updateTimestamp()}updatePKRangeId(e){this.pkRangeId=e}complete(e){this.taskCompletionSource.setResult(e)}fail(e){this.taskCompletionSource.setException(e.error)}};var Ia=class t{statusCode;subStatusCode;headers;operations;results=[];diagnostics;constructor(e,r,n,i){this.statusCode=e,this.subStatusCode=r,this.headers=n,this.operations=i}static createEmptyResponse(e,r,n,i){let o=new t(r,n,i,e);return o.createAndPopulateResults(e,0,new v),o}static fromResponseMessage(e,r){let n=this.populateFromResponse(e,r);if(!n.results||n.results.length!==r.length){pI(e.code)&&(n=new t(V.InternalServerError,rt.Unknown,e.headers,r));let i=0;if(e.code===V.TooManyRequests){let o=e.headers?.[E.HttpHeaders.RetryAfterInMs];i=!o||isNaN(Number(o))?0:Number(o)}n.createAndPopulateResults(r,i,e)}return n}static populateFromResponse(e,r){let n=[];if(e.result)for(let a=0;a<r.length;a++){let A=e.result[a];if(pI(A?.statusCode)){let c={statusCode:A?.statusCode,eTag:A?.eTag,activityId:e.headers?.[E.HttpHeaders.ActivityId],sessionToken:e.headers?.[E.HttpHeaders.SessionToken],requestCharge:A?.requestCharge,resourceBody:A?.resourceBody,diagnostics:null,headers:e.headers};n.push(c)}else{let c=new v;c.code=A?.statusCode,c.substatus=A?.subStatusCode,c.message=A?.message,c.requestCharge=A?.requestCharge,c.body=A?.resourceBody,c.headers=e.headers,c.activityId=e.headers?.[E.HttpHeaders.ActivityId],c.retryAfterInMs=A?.retryAfterMilliseconds,c.diagnostics=e.diagnostics,n.push(c)}}let i=e.code,o=e.substatus;if(e.code===V.MultiStatus){for(let a of n)if(a instanceof v&&a.statusCode!==V.FailedDependency&&a.statusCode>=V.BadRequest){i=typeof a.code==\"number\"?a.code:Number(a.code),o=a.substatus;break}}let s=new t(i,o,e.headers,r);return s.results=n,s}createAndPopulateResults(e,r,n){this.results=e.map(()=>{let i=new v;return i.message=n.message,i.code=this.statusCode,i.substatus=this.subStatusCode,i.retryAfterInMs=r,i.activityId=this.headers?.[E.HttpHeaders.ActivityId],i.body=n.body,i.diagnostics=n.diagnostics,i.headers=this.headers,i.requestCharge=n.requestCharge,i})}};var Of=class{container;clientContext;partitionKeyRangeCache;helpersByPartitionKeyRangeId;options;partitionKeyDefinition;partitionKeyDefinitionPromise;isCancelled;processedOperationCountRef={count:0};operationPromisesList=[];congestionControlTimer;congestionControlDelayInMs=1e3;staleRidError;operationsPerSleep=100;intervalForPartialBatchInMs=1e3;constructor(e,r,n,i){this.container=e,this.clientContext=r,this.partitionKeyRangeCache=n,this.helpersByPartitionKeyRangeId=new Map,this.options=i,this.executeRequest=this.executeRequest.bind(this),this.reBatchOperation=this.reBatchOperation.bind(this),this.refreshPartitionKeyRangeCache=this.refreshPartitionKeyRangeCache.bind(this),this.isCancelled=!1,this.runCongestionControlTimer()}async execute(e){let r=[];try{for(let a=0;a<e.length;a++)a%this.operationsPerSleep===0&&await ra(0),r.push(this.addOperation(e[a],a));for(await Promise.allSettled(r);this.processedOperationCountRef.count<e.length;)this.helpersByPartitionKeyRangeId.forEach(a=>{a.addPartialBatchToQueue()}),await ra(this.intervalForPartialBatchInMs)}finally{this.congestionControlTimer&&clearInterval(this.congestionControlTimer)}let i=await Promise.allSettled(this.operationPromisesList);if(this.isCancelled&&this.staleRidError)throw this.staleRidError;return i.map(a=>a.status===\"fulfilled\"?a.value:a.reason).map(a=>{if(a&&a.error){let{stack:A,...c}=a.error,l={message:a.error.message,...c};return{...a,error:l}}return a})}async addOperation(e,r){if(this.isCancelled)return;if(!e){this.operationPromisesList[r]=Promise.resolve({operationInput:e,error:Object.assign(new v(\"Operation cannot be null or undefined.\"),{code:V.InternalServerError})});return}if((e.operationType===\"Create\"||e.operationType===\"Upsert\"||e.operationType===\"Replace\")&&!e.resourceBody.id){this.operationPromisesList[r]=Promise.resolve({operationInput:e,error:Object.assign(new v(`Operation resource body must have an 'id' for ${e.operationType} operations.`),{code:V.InternalServerError})}),this.processedOperationCountRef.count++;return}if(e.partitionKey===void 0){this.operationPromisesList[r]=Promise.resolve({operationInput:e,error:Object.assign(new v(`PartitionKey is required for ${e.operationType} operations.`),{code:V.InternalServerError})}),this.processedOperationCountRef.count++;return}let n,i,o,s;try{if(i=new jt(this.clientContext.diagnosticLevel,_e.CLIENT_REQUEST_NODE,null),this.partitionKeyDefinition||(this.partitionKeyDefinitionPromise||(this.partitionKeyDefinitionPromise=(async()=>{try{let u=await rn(i,this.container);return this.partitionKeyDefinition=u,u}finally{this.partitionKeyDefinitionPromise=null}})()),await this.partitionKeyDefinitionPromise),o=Ur(e),this.clientContext.enableEncryption){e=Ur(e),await this.container.checkAndInitializeEncryption(),i.beginEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation);let{operation:u,totalPropertiesEncryptedCount:d}=await Af(this.container.encryptionProcessor,e,0);e=u,i.endEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation,d)}s=await this.resolvePartitionKeyRangeId(e,i)}catch(u){n=u}let a=this.getHelperForPKRange(s),A=this.getRetryPolicy(),c=new vu(s,A,i),l={unencryptedOperationInput:o,operationInput:e,operationContext:c};if(this.operationPromisesList[r]=c.operationPromise,n){let u={operationInput:o,error:Object.assign(new v(n.message),{code:V.InternalServerError,diagnostics:i?.toDiagnostic(this.clientContext.getClientConfig())})};c.fail(u),this.processedOperationCountRef.count++;return}return a.add(l)}async resolvePartitionKeyRangeId(e,r){let n=(await this.partitionKeyRangeCache.onCollectionRoutingMap(this.container.url,r)).getOrderedParitionKeyRanges(),i=Dt(e.partitionKey),o=ga(i,this.partitionKeyDefinition),s=n.find(a=>fa(a.minInclusive,a.maxExclusive,o));if(!s)throw new Error(\"No matching partition key range found for the operation.\");return s.id}getRetryPolicy(){let e=new Cc(this.clientContext.getRetryOptions());return new Nf(e)}async executeRequest(e,r){if(this.isCancelled)throw new v(\"Bulk execution cancelled due to a previous error.\");if(!e.length)return;let n=e[0].operationContext.pkRangeId,i=_(this.container.url,Q.item),o=[];for(let s of e)o.push(this.prepareOperation(s.operationInput));this.options.containerRid||(this.options.containerRid=this.container._rid);try{let s=await fi(async a=>this.clientContext.bulk({body:o,partitionKeyRangeId:n,path:i,resourceId:this.container.url,options:this.options,diagnosticNode:a}),r,_e.BATCH_REQUEST);if(!s)throw new v(\"Failed to fetch bulk response.\");return Ia.fromResponseMessage(s,e)}catch(s){if(this.clientContext.enableEncryption)try{await this.container.throwIfRequestNeedsARetryPostPolicyRefresh(s)}catch(a){return await this.cancelExecution(a),Ia.createEmptyResponse(e,0,0,{})}return Ia.fromResponseMessage(s,e)}}prepareOperation(e){return e.partitionKey=Dt(e.partitionKey),{...e,partitionKey:JSON.stringify(e.partitionKey)}}async reBatchOperation(e,r){let n=await this.resolvePartitionKeyRangeId(e.operationInput,r);e.operationContext.updatePKRangeId(n),await this.getHelperForPKRange(n).add(e)}async cancelExecution(e){this.isCancelled=!0,this.staleRidError=e;for(let r of this.helpersByPartitionKeyRangeId.values())await r.dispose();this.helpersByPartitionKeyRangeId.clear()}getHelperForPKRange(e){if(this.helpersByPartitionKeyRangeId.has(e))return this.helpersByPartitionKeyRangeId.get(e);let r=new Lf(this.executeRequest,this.reBatchOperation,this.refreshPartitionKeyRangeCache,this.clientContext.diagnosticLevel,this.clientContext.enableEncryption,this.clientContext.getClientConfig(),this.container.encryptionProcessor,this.processedOperationCountRef);return this.helpersByPartitionKeyRangeId.set(e,r),r}runCongestionControlTimer(){this.congestionControlTimer=setInterval(()=>{this.helpersByPartitionKeyRangeId.forEach(e=>{e.runCongestionAlgorithm()})},this.congestionControlDelayInMs)}async refreshPartitionKeyRangeCache(e){await this.partitionKeyRangeCache.onCollectionRoutingMap(this.container.url,e,!0)}};function RI(t){return t&&!(du(t)||Array.isArray(t))}var Nu=class{container;clientContext;partitionKeyRangeCache;constructor(e,r){this.container=e,this.clientContext=r,this.partitionKeyRangeCache=this.clientContext.partitionKeyRangeCache}query(e,r={}){let n=_(this.container.url,Q.item),i=Y(this.container.url),o=async(a,A,c)=>{let l;r.partitionKey&&(l=Dt(r.partitionKey));let u=this.clientContext.isPartitionLevelFailOverEnabled(),d=await vn(a,l,this.partitionKeyRangeCache,u,this.container);return await this.clientContext.queryFeed({path:n,resourceType:Q.item,resourceId:i,resultFn:g=>g?g.Documents:[],query:e,options:A,partitionKey:r.partitionKey,diagnosticNode:a,correlatedActivityId:c,partitionKeyRangeId:d})},s;return this.clientContext.enableEncryption?s=new vf(this.clientContext,e,r,o,this.container):s=new Pe(this.clientContext,e,r,o,this.container.url,Q.item),s}async getEncryptionQueryIterator(e,r={}){let n=e.toEncryptionSqlQuerySpec(),i=await this.buildSqlQuerySpec(n);if(this.clientContext.enableEncryption&&r.partitionKey){await this.container.checkAndInitializeEncryption();let{partitionKeyList:s,encryptedCount:a}=await this.container.encryptionProcessor.getEncryptedPartitionKeyValue([r.partitionKey]);a>0&&(r.partitionKey=s[0])}return this.query(i,r)}async buildSqlQuerySpec(e){let r=e.parameters,n={query:e.query,parameters:[]};r=Ur(r);for(let i of r){let o;(i.type!==void 0||i.type!==Ct.Null)&&(o=await this.container.encryptionProcessor.encryptQueryParameter(i.path,i.value,i.path===\"/id\",i.type)),n.parameters.push({name:i.name,value:o})}return n}readChangeFeed(e,r){return RI(e)?this.changeFeed(e):this.changeFeed(e,r)}changeFeed(e,r){let n;!r&&RI(e)?(n=void 0,r=e):e!==void 0&&!RI(e)&&(n=e),r||(r={});let i=_(this.container.url,Q.item),o=Y(this.container.url);return new Du(this.clientContext,o,i,n,r)}getChangeFeedIterator(e){let r=e!==void 0?e:{};return xk(r),new Iu(r,this.clientContext,this.container,this.partitionKeyRangeCache)}readAll(e){return this.query(\"SELECT * from c\",e)}async create(e,r={}){return O(async n=>{(e.id===void 0||e.id===\"\")&&!r.disableAutomaticIdGeneration&&(e.id=pr());let i=await rn(n,this.container),o=Xi(e,i),s;try{if(this.clientContext.enableEncryption){await this.container.checkAndInitializeEncryption(),r.containerRid=this.container._rid,e=Ur(e),n.beginEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation);let{body:h,propertiesEncryptedCount:g}=await this.container.encryptionProcessor.encrypt(e);e=h,n.endEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation,g),o=Xi(e,i)}let A={};if(!au(e,A))throw A;let c=_(this.container.url,Q.item),l=Y(this.container.url),u=this.clientContext.isPartitionLevelFailOverEnabled(),d=await vn(n,o,this.partitionKeyRangeCache,u,this.container,i);s=await this.clientContext.create({body:e,path:c,resourceType:Q.item,resourceId:l,diagnosticNode:n,options:r,partitionKey:o,partitionKeyRangeId:d})}catch(A){throw this.clientContext.enableEncryption&&await this.container.throwIfRequestNeedsARetryPostPolicyRefresh(A),A}if(this.clientContext.enableEncryption)try{n.beginEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation);let{body:A,propertiesDecryptedCount:c}=await this.container.encryptionProcessor.decrypt(s.result);n.endEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation,c),s.result=A,o=Xi(s.result,i)}catch(A){let c=new v(`Item creation was successful but response decryption failed: + ${A.message}`);throw c.code=V.ServiceUnavailable,c}let a=new Zo(this.container,s.result.id,this.clientContext,o);return new ri(s.result,s.headers,s.code,s.substatus,a,G())},this.clientContext)}async upsert(e,r={}){return O(async n=>{(e.id===void 0||e.id===\"\")&&!r.disableAutomaticIdGeneration&&(e.id=pr());let i=await rn(n,this.container),o=Xi(e,i),s;try{if(this.clientContext.enableEncryption){e=Ur(e),r=r||{},await this.container.checkAndInitializeEncryption(),r.containerRid=this.container._rid,n.beginEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation);let{body:h,propertiesEncryptedCount:g}=await this.container.encryptionProcessor.encrypt(e);e=h,n.endEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation,g),o=Xi(e,i)}let A={};if(!au(e,A))throw A;let c=_(this.container.url,Q.item),l=Y(this.container.url),u=this.clientContext.isPartitionLevelFailOverEnabled(),d=await vn(n,o,this.partitionKeyRangeCache,u,this.container,i);s=await this.clientContext.upsert({body:e,path:c,resourceType:Q.item,resourceId:l,options:r,partitionKey:o,diagnosticNode:n,partitionKeyRangeId:d})}catch(A){throw this.clientContext.enableEncryption&&await this.container.throwIfRequestNeedsARetryPostPolicyRefresh(A),A}if(this.clientContext.enableEncryption)try{n.beginEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation);let{body:A,propertiesDecryptedCount:c}=await this.container.encryptionProcessor.decrypt(s.result);n.endEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation,c),s.result=A,o=Xi(s.result,i)}catch(A){let c=new v(`Item upsert was successful but response decryption failed: + ${A.message}`);throw c.code=V.ServiceUnavailable,c}let a=new Zo(this.container,s.result.id,this.clientContext,o);return new ri(s.result,s.headers,s.code,s.substatus,a,G())},this.clientContext)}async executeBulkOperations(e,r={}){return new Of(this.container,this.clientContext,this.partitionKeyRangeCache,r).execute(e)}async bulk(e,r,n){return O(async i=>{let o=(await this.partitionKeyRangeCache.onCollectionRoutingMap(this.container.url,i)).getOrderedParitionKeyRanges(),s=await rn(i,this.container);if(this.clientContext.enableEncryption){e=Ur(e),n=n||{},await this.container.checkAndInitializeEncryption(),n.containerRid=this.container._rid,i.beginEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation);let{operations:d,totalPropertiesEncryptedCount:h}=await this.bulkBatchEncryptionHelper(e);e=d,i.endEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation,h)}let a=o.map(d=>({min:d.minInclusive,max:d.maxExclusive,rangeId:d.id,indexes:[],operations:[]}));this.groupOperationsBasedOnPartitionKey(e,s,n,a);let A=_(this.container.url,Q.item),c=[],l=a.filter(d=>d.operations.length).flatMap(d=>Uk(d));await Promise.all(this.executeBatchOperations(l,A,r,n,i,c,s));let u=c;return u.diagnostics=i.toDiagnostic(this.clientContext.getClientConfig()),u},this.clientContext)}executeBatchOperations(e,r,n,i,o,s,a){return e.map(async A=>{if(A.operations.length>100)throw new Error(\"Cannot run bulk request with more than 100 operations per partition\");let c;try{c=await fi(async l=>this.clientContext.bulk({body:A.operations,partitionKeyRangeId:A.rangeId,path:r,resourceId:this.container.url,bulkOptions:n,options:i,diagnosticNode:l}),o,_e.BATCH_REQUEST),c.result.forEach((l,u)=>{s[A.indexes[u]]=l})}catch(l){if(this.clientContext.enableEncryption&&await this.container.throwIfRequestNeedsARetryPostPolicyRefresh(l),l.code===V.Gone)if(l.substatus===rt.PartitionKeyRangeGone||l.substatus===rt.CompletingSplit){let d=new St(A.min,A.max,!0,!1),h=await this.partitionKeyRangeCache.getOverlappingRanges(this.container.url,d,o,!0);if(h.length<1)throw new Error(\"Partition split/merge detected but no overlapping ranges found.\");if(h.length>=1){let g=this.createNewBatches(h,A,a);await Promise.all(this.executeBatchOperations(g,r,n,i,o,s,a))}}else throw new Error(\"Partition key error. An operation has an unsupported partitionKey type\"+l.message);else throw new Error(`Bulk request errored with: ${l.message}`)}if(c){try{if(this.clientContext.enableEncryption){o.beginEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation);let l=0;for(let u of c.result)if(u.resourceBody){let{body:d,propertiesDecryptedCount:h}=await this.container.encryptionProcessor.decrypt(u.resourceBody);u.resourceBody=d,l+=h}o.endEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation,l)}}catch(l){let u=new v(`Batch response was received but response decryption failed: + ${l.message}`);throw u.code=V.ServiceUnavailable,u}c.result.forEach((l,u)=>{s[A.indexes[u]]=l})}})}createNewBatches(e,r,n){let i=e.map(s=>({min:s.minInclusive,max:s.maxExclusive,rangeId:s.id,indexes:[],operations:[]})),o=0;return r.operations.forEach(s=>{let a=JSON.parse(s.partitionKey),A=ga(Zi(a,\"undefined value for PartitionKey is not expected during grouping of bulk operations.\"),n),c=Zi(i.find(l=>fa(l.min,l.max,A)),\"No suitable Batch found.\");c.operations.push(s),c.indexes.push(r.indexes[o]),o++}),i}groupOperationsBasedOnPartitionKey(e,r,n,i){e.forEach((o,s)=>{let{operation:a,partitionKey:A}=Ok(o,r,n),c=ga(Zi(A,\"undefined value for PartitionKey is not expected during grouping of bulk operations.\"),r),l=Zi(i.find(u=>fa(u.min,u.max,c)),\"No suitable Batch found.\");l.operations.push(a),l.indexes.push(s)})}async batch(e,r,n){return O(async i=>{e.map(a=>_k(a,n)),r=await sa(i,this.container,r);let o=_(this.container.url,Q.item);if(e.length>100)throw new Error(\"Cannot run batch request with more than 100 operations per partition\");for(let a of e)a&&a.partitionKey!==void 0&&(a.partitionKey=JSON.stringify(Dt(a.partitionKey)));let s;try{if(this.clientContext.enableEncryption){e=Ur(e),n=n||{},await this.container.checkAndInitializeEncryption(),n.containerRid=this.container._rid;let c=0;if(i.beginEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation),r){let d=Dt(r),{partitionKeyList:h,encryptedCount:g}=await this.container.encryptionProcessor.getEncryptedPartitionKeyValue(d);r=h,c+=g}let{operations:l,totalPropertiesEncryptedCount:u}=await this.bulkBatchEncryptionHelper(e);e=l,c+=u,i.endEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation,c)}let a=this.clientContext.isPartitionLevelFailOverEnabled(),A=await vn(i,r,this.partitionKeyRangeCache,a,this.container);s=await this.clientContext.batch({body:e,partitionKey:r,path:o,resourceId:this.container.url,options:n,diagnosticNode:i,partitionKeyRangeId:A})}catch(a){throw this.clientContext.enableEncryption&&await this.container.throwIfRequestNeedsARetryPostPolicyRefresh(a),new Error(`Batch request error: ${a.message}`)}if(this.clientContext.enableEncryption)try{i.beginEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation);let a=0;for(let A of s.result)if(A.resourceBody){let{body:c,propertiesDecryptedCount:l}=await this.container.encryptionProcessor.decrypt(A.resourceBody);A.resourceBody=c,a+=l}i.endEncryptionDiagnostics(E.Encryption.DiagnosticsDecryptOperation,a)}catch(a){let A=new v(`Batch response was received but response decryption failed: + ${a.message}`);throw A.code=V.ServiceUnavailable,A}return s},this.clientContext)}async bulkBatchEncryptionHelper(e){let r=0,n=[];for(let i of e){let{operation:o,totalPropertiesEncryptedCount:s}=await Af(this.container.encryptionProcessor,i,r);r=s,n.push(o)}return{operations:n,totalPropertiesEncryptedCount:r}}};var io=class extends Ne{constructor(e,r,n,i,o){super(e,r,n,o),this.storedProcedure=i}storedProcedure;get sproc(){return this.storedProcedure}};var Ba=class{container;id;clientContext;get url(){return Lb(this.container.database.id,this.container.id,this.id)}constructor(e,r,n){this.container=e,this.id=r,this.clientContext=n}async read(e){return O(async r=>{let n=_(this.url),i=Y(this.url),o=await this.clientContext.read({path:n,resourceType:Q.sproc,resourceId:i,options:e,diagnosticNode:r});return new io(o.result,o.headers,o.code,this,G())},this.clientContext)}async replace(e,r){return O(async n=>{e.body&&(e.body=e.body.toString());let i={};if(!Fe(e,i))throw i;let o=_(this.url),s=Y(this.url),a=await this.clientContext.replace({body:e,path:o,resourceType:Q.sproc,resourceId:s,options:r,diagnosticNode:n});return new io(a.result,a.headers,a.code,this,G())},this.clientContext)}async delete(e){return O(async r=>{let n=_(this.url),i=Y(this.url),o=await this.clientContext.delete({path:n,resourceType:Q.sproc,resourceId:i,options:e,diagnosticNode:r});return new io(o.result,o.headers,o.code,this,G())},this.clientContext)}async execute(e,r,n){return O(async i=>{if(e===void 0){let s=await rn(i,this.container);e=oa(s)}let o=await this.clientContext.execute({sprocLink:this.url,params:r,options:n,partitionKey:e,diagnosticNode:i});return new Ne(o.result,o.headers,o.code,G())},this.clientContext)}};var Pu=class{container;clientContext;constructor(e,r){this.container=e,this.clientContext=r}query(e,r){let n=_(this.container.url,Q.sproc),i=Y(this.container.url);return new Pe(this.clientContext,e,r,(o,s)=>this.clientContext.queryFeed({path:n,resourceType:Q.sproc,resourceId:i,resultFn:a=>a.StoredProcedures,query:e,options:s,diagnosticNode:o}))}readAll(e){return this.query(void 0,e)}async create(e,r){return O(async n=>{e.body&&(e.body=e.body.toString());let i={};if(!Fe(e,i))throw i;let o=_(this.container.url,Q.sproc),s=Y(this.container.url),a=await this.clientContext.create({body:e,path:o,resourceType:Q.sproc,resourceId:s,options:r,diagnosticNode:n}),A=new Ba(this.container,a.result.id,this.clientContext);return new io(a.result,a.headers,a.code,A,G())},this.clientContext)}};var oo=class extends Ne{constructor(e,r,n,i,o){super(e,r,n,o),this.trigger=i}trigger};var Qa=class{container;id;clientContext;get url(){return Ob(this.container.database.id,this.container.id,this.id)}constructor(e,r,n){this.container=e,this.id=r,this.clientContext=n}async read(e){return O(async r=>{let n=_(this.url),i=Y(this.url),o=await this.clientContext.read({path:n,resourceType:Q.trigger,resourceId:i,options:e,diagnosticNode:r});return new oo(o.result,o.headers,o.code,this,G())},this.clientContext)}async replace(e,r){return O(async n=>{e.body&&(e.body=e.body.toString());let i={};if(!Fe(e,i))throw i;let o=_(this.url),s=Y(this.url),a=await this.clientContext.replace({body:e,path:o,resourceType:Q.trigger,resourceId:s,options:r,diagnosticNode:n});return new oo(a.result,a.headers,a.code,this,G())},this.clientContext)}async delete(e){return O(async r=>{let n=_(this.url),i=Y(this.url),o=await this.clientContext.delete({path:n,resourceType:Q.trigger,resourceId:i,options:e,diagnosticNode:r});return new oo(o.result,o.headers,o.code,this,G())},this.clientContext)}};var Mu=class{container;clientContext;constructor(e,r){this.container=e,this.clientContext=r}query(e,r){let n=_(this.container.url,Q.trigger),i=Y(this.container.url);return new Pe(this.clientContext,e,r,(o,s)=>this.clientContext.queryFeed({path:n,resourceType:Q.trigger,resourceId:i,resultFn:a=>a.Triggers,query:e,options:s,diagnosticNode:o}))}readAll(e){return this.query(void 0,e)}async create(e,r){return O(async n=>{e.body&&(e.body=e.body.toString());let i={};if(!Fe(e,i))throw i;let o=_(this.container.url,Q.trigger),s=Y(this.container.url),a=await this.clientContext.create({body:e,path:o,resourceType:Q.trigger,resourceId:s,options:r,diagnosticNode:n}),A=new Qa(this.container,a.result.id,this.clientContext);return new oo(a.result,a.headers,a.code,A,G())},this.clientContext)}};var so=class extends Ne{constructor(e,r,n,i,o){super(e,r,n,o),this.userDefinedFunction=i}userDefinedFunction;get udf(){return this.userDefinedFunction}};var wa=class{container;id;clientContext;get url(){return Ub(this.container.database.id,this.container.id,this.id)}constructor(e,r,n){this.container=e,this.id=r,this.clientContext=n}async read(e){return O(async r=>{let n=_(this.url),i=Y(this.url),o=await this.clientContext.read({path:n,resourceType:Q.udf,resourceId:i,options:e,diagnosticNode:r});return new so(o.result,o.headers,o.code,this,G())},this.clientContext)}async replace(e,r){return O(async n=>{e.body&&(e.body=e.body.toString());let i={};if(!Fe(e,i))throw i;let o=_(this.url),s=Y(this.url),a=await this.clientContext.replace({body:e,path:o,resourceType:Q.udf,resourceId:s,options:r,diagnosticNode:n});return new so(a.result,a.headers,a.code,this,G())},this.clientContext)}async delete(e){return O(async r=>{let n=_(this.url),i=Y(this.url),o=await this.clientContext.delete({path:n,resourceType:Q.udf,resourceId:i,options:e,diagnosticNode:r});return new so(o.result,o.headers,o.code,this,G())},this.clientContext)}};var Fu=class{container;clientContext;constructor(e,r){this.container=e,this.clientContext=r}query(e,r){let n=_(this.container.url,Q.udf),i=Y(this.container.url);return new Pe(this.clientContext,e,r,(o,s)=>this.clientContext.queryFeed({path:n,resourceType:Q.udf,resourceId:i,resultFn:a=>a.UserDefinedFunctions,query:e,options:s,diagnosticNode:o}))}readAll(e){return this.query(void 0,e)}async create(e,r){return O(async n=>{e.body&&(e.body=e.body.toString());let i={};if(!Fe(e,i))throw i;let o=_(this.container.url,Q.udf),s=Y(this.container.url),a=await this.clientContext.create({body:e,path:o,resourceType:Q.udf,resourceId:s,options:r,diagnosticNode:n}),A=new wa(this.container,a.result.id,this.clientContext);return new so(a.result,a.headers,a.code,A,G())},this.clientContext)}};var Lu=class{container;clientContext;constructor(e,r){this.container=e,this.clientContext=r}storedProcedure(e){return new Ba(this.container,e,this.clientContext)}trigger(e){return new Qa(this.container,e,this.clientContext)}userDefinedFunction(e){return new wa(this.container,e,this.clientContext)}$sprocs;get storedProcedures(){return this.$sprocs||(this.$sprocs=new Pu(this.container,this.clientContext)),this.$sprocs}$triggers;get triggers(){return this.$triggers||(this.$triggers=new Mu(this.container,this.clientContext)),this.$triggers}$udfs;get userDefinedFunctions(){return this.$udfs||(this.$udfs=new Fu(this.container,this.clientContext)),this.$udfs}};var Ei=class extends Ne{constructor(e,r,n,i,o){super(e,r,n,o),this.container=i}container};var Ci=class extends Ne{constructor(e,r,n,i,o){super(e,r,n,i),this.offer=o}offer};var ao=class{client;id;clientContext;get url(){return`/${E.Path.OffersPathSegment}/${this.id}`}constructor(e,r,n){this.client=e,this.id=r,this.clientContext=n}async read(e){return O(async r=>{let n=await this.clientContext.read({path:this.url,resourceType:Q.offer,resourceId:this.id,options:e,diagnosticNode:r});return new Ci(n.result,n.headers,n.code,G(),this)},this.clientContext)}async replace(e,r){return O(async n=>{let i={};if(!Fe(e,i))throw i;let o=await this.clientContext.replace({body:e,path:this.url,resourceType:Q.offer,resourceId:this.id,options:r,diagnosticNode:n});return new Ci(o.result,o.headers,o.code,G(),this)},this.clientContext)}};var Ou=class{client;clientContext;constructor(e,r){this.client=e,this.clientContext=r}query(e,r){return new Pe(this.clientContext,e,r,(n,i)=>this.clientContext.queryFeed({path:\"/offers\",resourceType:Q.offer,resourceId:\"\",resultFn:o=>o.Offers,query:e,options:i,diagnosticNode:n}))}readAll(e){return this.query(void 0,e)}};var es=class extends Ne{constructor(e,r,n,i,o){super(e,r,n,o),this.clientEncryptionKeyProperties=i}clientEncryptionKeyProperties};var mc;(function(t){t.AEAD_AES_256_CBC_HMAC_SHA256=\"AEAD_AES_256_CBC_HMAC_SHA256\"})(mc||(mc={}));var Uu;(function(t){t.AzureKeyVault=\"AZURE_KEY_VAULT\"})(Uu||(Uu={}));var ts;(function(t){t.RSA_OAEP=\"RSA-OAEP\"})(ts||(ts={}));var SI=ve(\"keyvault-keys\");var yc;(function(t){t.EC=\"EC\",t.ECHSM=\"EC-HSM\",t.RSA=\"RSA\",t.RSAHSM=\"RSA-HSM\",t.Oct=\"oct\",t.OctHSM=\"oct-HSM\"})(yc||(yc={}));var Uf;(function(t){t.Encrypt=\"encrypt\",t.Decrypt=\"decrypt\",t.Sign=\"sign\",t.Verify=\"verify\",t.WrapKey=\"wrapKey\",t.UnwrapKey=\"unwrapKey\",t.Import=\"import\",t.Export=\"export\"})(Uf||(Uf={}));var _u;(function(t){t.Purgeable=\"Purgeable\",t.RecoverablePurgeable=\"Recoverable+Purgeable\",t.Recoverable=\"Recoverable\",t.RecoverableProtectedSubscription=\"Recoverable+ProtectedSubscription\",t.CustomizedRecoverablePurgeable=\"CustomizedRecoverable+Purgeable\",t.CustomizedRecoverable=\"CustomizedRecoverable\",t.CustomizedRecoverableProtectedSubscription=\"CustomizedRecoverable+ProtectedSubscription\"})(_u||(_u={}));var Ic;(function(t){t.P256=\"P-256\",t.P384=\"P-384\",t.P521=\"P-521\",t.P256K=\"P-256K\"})(Ic||(Ic={}));var Bc;(function(t){t.RSAOaep=\"RSA-OAEP\",t.RSAOaep256=\"RSA-OAEP-256\",t.RSA15=\"RSA1_5\",t.A128GCM=\"A128GCM\",t.A192GCM=\"A192GCM\",t.A256GCM=\"A256GCM\",t.A128KW=\"A128KW\",t.A192KW=\"A192KW\",t.A256KW=\"A256KW\",t.A128CBC=\"A128CBC\",t.A192CBC=\"A192CBC\",t.A256CBC=\"A256CBC\",t.A128Cbcpad=\"A128CBCPAD\",t.A192Cbcpad=\"A192CBCPAD\",t.A256Cbcpad=\"A256CBCPAD\",t.CkmAesKeyWrap=\"CKM_AES_KEY_WRAP\",t.CkmAesKeyWrapPad=\"CKM_AES_KEY_WRAP_PAD\"})(Bc||(Bc={}));var Qc;(function(t){t.PS256=\"PS256\",t.PS384=\"PS384\",t.PS512=\"PS512\",t.RS256=\"RS256\",t.RS384=\"RS384\",t.RS512=\"RS512\",t.HS256=\"HS256\",t.HS384=\"HS384\",t.HS512=\"HS512\",t.Rsnull=\"RSNULL\",t.ES256=\"ES256\",t.ES384=\"ES384\",t.ES512=\"ES512\",t.ES256K=\"ES256K\"})(Qc||(Qc={}));var wc;(function(t){t.CkmRsaAesKeyWrap=\"CKM_RSA_AES_KEY_WRAP\",t.RsaAesKeyWrap256=\"RSA_AES_KEY_WRAP_256\",t.RsaAesKeyWrap384=\"RSA_AES_KEY_WRAP_384\"})(wc||(wc={}));var _f;(function(t){t.V75=\"7.5\",t.V76Preview2=\"7.6-preview.2\",t.V76=\"7.6\"})(_f||(_f={}));var IG=ve(\"keyvault-keys\");var mi=class extends Error{constructor(e){super(e),this.name=\"AbortError\"}};function Hf(t){return t.toLowerCase()}function*BG(t){for(let e of t.values())yield[e.name,e.value]}var TI=class{_headersMap;constructor(e){if(this._headersMap=new Map,e)for(let r of Object.keys(e))this.set(r,e[r])}set(e,r){this._headersMap.set(Hf(e),{name:e,value:String(r).trim()})}get(e){return this._headersMap.get(Hf(e))?.value}has(e){return this._headersMap.has(Hf(e))}delete(e){this._headersMap.delete(Hf(e))}toJSON(e={}){let r={};if(e.preserveCase)for(let n of this._headersMap.values())r[n.name]=n.value;else for(let[n,i]of this._headersMap)r[n]=i.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return BG(this._headersMap)}};function sn(t){return new TI(t)}var bI=class{url;method;headers;timeout;withCredentials;body;multipartBody;formData;streamResponseStatusCodes;enableBrowserStreams;proxySettings;disableKeepAlive;abortSignal;requestId;allowInsecureConnection;onUploadProgress;onDownloadProgress;requestOverrides;authSchemes;constructor(e){this.url=e.url,this.body=e.body,this.headers=e.headers??sn(),this.method=e.method??\"GET\",this.timeout=e.timeout??0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=e.disableKeepAlive??!1,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=e.withCredentials??!1,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||da(),this.allowInsecureConnection=e.allowInsecureConnection??!1,this.enableBrowserStreams=e.enableBrowserStreams??!1,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes}};function qf(t){return new bI(t)}var Zk=new Set([\"Deserialize\",\"Serialize\",\"Retry\",\"Sign\"]),kI=class t{_policies=[];_orderedPolicies;constructor(e){this._policies=e?.slice(0)??[],this._orderedPolicies=void 0}addPolicy(e,r={}){if(r.phase&&r.afterPhase)throw new Error(\"Policies inside a phase cannot specify afterPhase.\");if(r.phase&&!Zk.has(r.phase))throw new Error(`Invalid phase name: ${r.phase}`);if(r.afterPhase&&!Zk.has(r.afterPhase))throw new Error(`Invalid afterPhase name: ${r.afterPhase}`);this._policies.push({policy:e,options:r}),this._orderedPolicies=void 0}removePolicy(e){let r=[];return this._policies=this._policies.filter(n=>e.name&&n.policy.name===e.name||e.phase&&n.options.phase===e.phase?(r.push(n.policy),!1):!0),this._orderedPolicies=void 0,r}sendRequest(e,r){return this.getOrderedPolicies().reduceRight((o,s)=>a=>s.sendRequest(a,o),o=>e.sendRequest(o))(r)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new t(this._policies)}static create(){return new t}orderPolicies(){let e=[],r=new Map;function n(g){return{name:g,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}let i=n(\"Serialize\"),o=n(\"None\"),s=n(\"Deserialize\"),a=n(\"Retry\"),A=n(\"Sign\"),c=[i,o,s,a,A];function l(g){return g===\"Retry\"?a:g===\"Serialize\"?i:g===\"Deserialize\"?s:g===\"Sign\"?A:o}for(let g of this._policies){let p=g.policy,f=g.options,C=p.name;if(r.has(C))throw new Error(\"Duplicate policy names not allowed in pipeline\");let m={policy:p,dependsOn:new Set,dependants:new Set};f.afterPhase&&(m.afterPhase=l(f.afterPhase),m.afterPhase.hasAfterPolicies=!0),r.set(C,m),l(f.phase).policies.add(m)}for(let g of this._policies){let{policy:p,options:f}=g,C=p.name,m=r.get(C);if(!m)throw new Error(`Missing node for policy ${C}`);if(f.afterPolicies)for(let B of f.afterPolicies){let T=r.get(B);T&&(m.dependsOn.add(T),T.dependants.add(m))}if(f.beforePolicies)for(let B of f.beforePolicies){let T=r.get(B);T&&(T.dependsOn.add(m),m.dependants.add(T))}}function u(g){g.hasRun=!0;for(let p of g.policies)if(!(p.afterPhase&&(!p.afterPhase.hasRun||p.afterPhase.policies.size))&&p.dependsOn.size===0){e.push(p.policy);for(let f of p.dependants)f.dependsOn.delete(p);r.delete(p.policy.name),g.policies.delete(p)}}function d(){for(let g of c){if(u(g),g.policies.size>0&&g!==o){o.hasRun||u(o);return}g.hasAfterPolicies&&u(o)}}let h=0;for(;r.size>0;){h++;let g=e.length;if(d(),e.length<=g&&h>1)throw new Error(\"Cannot satisfy policy dependencies due to requirements cycle.\")}return e}};function Gf(){return kI.create()}var eD=require(\"node:util\"),tD=eD.inspect.custom;var QG=new Zn,yr=class t extends Error{static REQUEST_SEND_ERROR=\"REQUEST_SEND_ERROR\";static PARSE_ERROR=\"PARSE_ERROR\";code;statusCode;request;response;details;constructor(e,r={}){super(e),this.name=\"RestError\",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,\"request\",{value:r.request,enumerable:!1}),Object.defineProperty(this,\"response\",{value:r.response,enumerable:!1});let n=this.request?.agent?{maxFreeSockets:this.request.agent.maxFreeSockets,maxSockets:this.request.agent.maxSockets}:void 0;Object.defineProperty(this,tD,{value:()=>`RestError: ${this.message} \n ${QG.sanitize({...this,request:{...this.request,agent:n},response:this.response})}`,enumerable:!1}),Object.setPrototypeOf(this,t.prototype)}};function Yf(t){return t instanceof yr?!0:ua(t)&&t.name===\"RestError\"}var Vf=Ae(require(\"node:http\"),1),Jf=Ae(require(\"node:https\"),1),DI=Ae(require(\"node:zlib\"),1),nD=require(\"node:stream\");var Pn=Au(\"ts-http-runtime\");var wG={};function Hu(t){return t&&typeof t.pipe==\"function\"}function rD(t){return t.readable===!1?Promise.resolve():new Promise(e=>{let r=()=>{e(),t.removeListener(\"close\",r),t.removeListener(\"end\",r),t.removeListener(\"error\",r)};t.on(\"close\",r),t.on(\"end\",r),t.on(\"error\",r)})}function iD(t){return t&&typeof t.byteLength==\"number\"}var Kf=class extends nD.Transform{loadedBytes=0;progressCallback;_transform(e,r,n){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),n()}catch(i){n(i)}}constructor(e){super(),this.progressCallback=e}},xI=class{cachedHttpAgent;cachedHttpsAgents=new WeakMap;async sendRequest(e){let r=new AbortController,n;if(e.abortSignal){if(e.abortSignal.aborted)throw new mi(\"The operation was aborted. Request has already been canceled.\");n=c=>{c.type===\"abort\"&&r.abort()},e.abortSignal.addEventListener(\"abort\",n)}let i;e.timeout>0&&(i=setTimeout(()=>{let c=new Zn;Pn.info(`request to '${c.sanitizeUrl(e.url)}' timed out. canceling...`),r.abort()},e.timeout));let o=e.headers.get(\"Accept-Encoding\"),s=o?.includes(\"gzip\")||o?.includes(\"deflate\"),a=typeof e.body==\"function\"?e.body():e.body;if(a&&!e.headers.has(\"Content-Length\")){let c=bG(a);c!==null&&e.headers.set(\"Content-Length\",c)}let A;try{if(a&&e.onUploadProgress){let g=e.onUploadProgress,p=new Kf(g);p.on(\"error\",f=>{Pn.error(\"Error in upload progress\",f)}),Hu(a)?a.pipe(p):p.end(a),a=p}let c=await this.makeRequest(e,r,a);i!==void 0&&clearTimeout(i);let l=RG(c),d={status:c.statusCode??0,headers:l,request:e};if(e.method===\"HEAD\")return c.resume(),d;A=s?SG(c,l):c;let h=e.onDownloadProgress;if(h){let g=new Kf(h);g.on(\"error\",p=>{Pn.error(\"Error in download progress\",p)}),A.pipe(g),A=g}return e.streamResponseStatusCodes?.has(Number.POSITIVE_INFINITY)||e.streamResponseStatusCodes?.has(d.status)?d.readableStreamBody=A:d.bodyAsText=await TG(A),d}finally{if(e.abortSignal&&n){let c=Promise.resolve();Hu(a)&&(c=rD(a));let l=Promise.resolve();Hu(A)&&(l=rD(A)),Promise.all([c,l]).then(()=>{n&&e.abortSignal?.removeEventListener(\"abort\",n)}).catch(u=>{Pn.warning(\"Error when cleaning up abortListener on httpRequest\",u)})}}}makeRequest(e,r,n){let i=new URL(e.url),o=i.protocol!==\"https:\";if(o&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let a={agent:e.agent??this.getOrCreateAgent(e,o),hostname:i.hostname,path:`${i.pathname}${i.search}`,port:i.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0}),...e.requestOverrides};return new Promise((A,c)=>{let l=o?Vf.default.request(a,A):Jf.default.request(a,A);l.once(\"error\",u=>{c(new yr(u.message,{code:u.code??yr.REQUEST_SEND_ERROR,request:e}))}),r.signal.addEventListener(\"abort\",()=>{let u=new mi(\"The operation was aborted. Rejecting from abort signal callback while making request.\");l.destroy(u),c(u)}),n&&Hu(n)?n.pipe(l):n?typeof n==\"string\"||Buffer.isBuffer(n)?l.end(n):iD(n)?l.end(ArrayBuffer.isView(n)?Buffer.from(n.buffer):Buffer.from(n)):(Pn.error(\"Unrecognized body type\",n),c(new yr(\"Unrecognized body type\"))):l.end()})}getOrCreateAgent(e,r){let n=e.disableKeepAlive;if(r)return n?Vf.default.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new Vf.default.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(n&&!e.tlsSettings)return Jf.default.globalAgent;let i=e.tlsSettings??wG,o=this.cachedHttpsAgents.get(i);return o&&o.options.keepAlive===!n||(Pn.info(\"No cached TLS Agent exist, creating a new Agent\"),o=new Jf.default.Agent({keepAlive:!n,...i}),this.cachedHttpsAgents.set(i,o)),o}}};function RG(t){let e=sn();for(let r of Object.keys(t.headers)){let n=t.headers[r];Array.isArray(n)?n.length>0&&e.set(r,n[0]):n&&e.set(r,n)}return e}function SG(t,e){let r=e.get(\"Content-Encoding\");if(r===\"gzip\"){let n=DI.default.createGunzip();return t.pipe(n),n}else if(r===\"deflate\"){let n=DI.default.createInflate();return t.pipe(n),n}return t}function TG(t){return new Promise((e,r)=>{let n=[];t.on(\"data\",i=>{Buffer.isBuffer(i)?n.push(i):n.push(Buffer.from(i))}),t.on(\"end\",()=>{e(Buffer.concat(n).toString(\"utf8\"))}),t.on(\"error\",i=>{i&&i?.name===\"AbortError\"?r(i):r(new yr(`Error reading response as text: ${i.message}`,{code:yr.PARSE_ERROR}))})})}function bG(t){return t?Buffer.isBuffer(t)?t.length:Hu(t)?null:iD(t)?t.byteLength:typeof t==\"string\"?Buffer.from(t).length:null:0}function oD(){return new xI}function Wf(){return oD()}var vI=\"logPolicy\";function zf(t={}){let e=t.logger??Pn.info,r=new Zn({additionalAllowedHeaderNames:t.additionalAllowedHeaderNames,additionalAllowedQueryParameters:t.additionalAllowedQueryParameters});return{name:vI,async sendRequest(n,i){if(!e.enabled)return i(n);e(`Request: ${r.sanitize(n)}`);let o=await i(n);return e(`Response status code: ${o.status}`),e(`Headers: ${r.sanitize(o.headers)}`),o}}}var NI=\"redirectPolicy\",sD=[\"GET\",\"HEAD\"];function jf(t={}){let{maxRetries:e=20}=t;return{name:NI,async sendRequest(r,n){let i=await n(r);return aD(n,i,e)}}}async function aD(t,e,r,n=0){let{request:i,status:o,headers:s}=e,a=s.get(\"location\");if(a&&(o===300||o===301&&sD.includes(i.method)||o===302&&sD.includes(i.method)||o===303&&i.method===\"POST\"||o===307)&&n<r){let A=new URL(a,i.url);i.url=A.toString(),o===303&&(i.method=\"GET\",i.headers.delete(\"Content-Length\"),delete i.body),i.headers.delete(\"Authorization\");let c=await t(i);return aD(t,c,r,n+1)}return e}function AD(){return\"User-Agent\"}function cD(){return AD()}var DCe=cD();var PI=\"decompressResponsePolicy\";function $f(){return{name:PI,async sendRequest(t,e){return t.method!==\"HEAD\"&&t.headers.set(\"Accept-Encoding\",\"gzip,deflate\"),e(t)}}}var kG=\"The operation was aborted.\";function lD(t,e,r){return new Promise((n,i)=>{let o,s,a=()=>i(new mi(r?.abortErrorMsg?r?.abortErrorMsg:kG)),A=()=>{r?.abortSignal&&s&&r.abortSignal.removeEventListener(\"abort\",s)};if(s=()=>(o&&clearTimeout(o),A(),a()),r?.abortSignal&&r.abortSignal.aborted)return a();o=setTimeout(()=>{A(),n(e)},t),r?.abortSignal&&r.abortSignal.addEventListener(\"abort\",s)})}function uD(t,e){let r=t.headers.get(e);if(!r)return;let n=Number(r);if(!Number.isNaN(n))return n}var MI=\"Retry-After\",DG=[\"retry-after-ms\",\"x-ms-retry-after-ms\",MI];function dD(t){if(t&&[429,503].includes(t.status))try{for(let i of DG){let o=uD(t,i);if(o===0||o)return o*(i===MI?1e3:1)}let e=t.headers.get(MI);if(!e)return;let n=Date.parse(e)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch{return}}function hD(t){return Number.isFinite(dD(t))}function FI(){return{name:\"throttlingRetryStrategy\",retry({response:t}){let e=dD(t);return Number.isFinite(e)?{retryAfterInMs:e}:{skipStrategy:!0}}}}var xG=1e3,vG=1e3*64;function Xf(t={}){let e=t.retryDelayInMs??xG,r=t.maxRetryDelayInMs??vG;return{name:\"exponentialRetryStrategy\",retry({retryCount:n,response:i,responseError:o}){let s=PG(o),a=s&&t.ignoreSystemErrors,A=NG(i),c=A&&t.ignoreHttpStatusCodes;return i&&(hD(i)||!A)||c||a?{skipStrategy:!0}:o&&!s&&!A?{errorToThrow:o}:fu(n,{retryDelayInMs:e,maxRetryDelayInMs:r})}}}function NG(t){return!!(t&&t.status!==void 0&&(t.status>=500||t.status===408)&&t.status!==501&&t.status!==505)}function PG(t){return t?t.code===\"ETIMEDOUT\"||t.code===\"ESOCKETTIMEDOUT\"||t.code===\"ECONNREFUSED\"||t.code===\"ECONNRESET\"||t.code===\"ENOENT\"||t.code===\"ENOTFOUND\":!1}var MG=Au(\"ts-http-runtime retryPolicy\"),FG=\"retryPolicy\";function rs(t,e={maxRetries:3}){let r=e.logger||MG;return{name:FG,async sendRequest(n,i){let o,s,a=-1;e:for(;;){a+=1,o=void 0,s=void 0;try{r.info(`Retry ${a}: Attempting to send request`,n.requestId),o=await i(n),r.info(`Retry ${a}: Received a response from request`,n.requestId)}catch(A){if(r.error(`Retry ${a}: Received an error from request`,n.requestId),s=A,!A||s.name!==\"RestError\")throw A;o=s.response}if(n.abortSignal?.aborted)throw r.error(`Retry ${a}: Request aborted.`),new mi;if(a>=(e.maxRetries??3)){if(r.info(`Retry ${a}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),s)throw s;if(o)return o;throw new Error(\"Maximum retries reached with no response or error to throw\")}r.info(`Retry ${a}: Processing ${t.length} retry strategies.`);t:for(let A of t){let c=A.logger||r;c.info(`Retry ${a}: Processing retry strategy ${A.name}.`);let l=A.retry({retryCount:a,response:o,responseError:s});if(l.skipStrategy){c.info(`Retry ${a}: Skipped.`);continue t}let{errorToThrow:u,retryAfterInMs:d,redirectTo:h}=l;if(u)throw c.error(`Retry ${a}: Retry strategy ${A.name} throws error:`,u),u;if(d||d===0){c.info(`Retry ${a}: Retry strategy ${A.name} retries after ${d}`),await lD(d,void 0,{abortSignal:n.abortSignal});continue e}if(h){c.info(`Retry ${a}: Retry strategy ${A.name} redirects to ${h}`),n.url=h;continue e}}if(s)throw r.info(\"None of the retry strategies could work with the received error. Throwing it.\"),s;if(o)return r.info(\"None of the retry strategies could work with the received response. Returning it.\"),o}}}}var LI=\"defaultRetryPolicy\";function Zf(t={}){return{name:LI,sendRequest:rs([FI(),Xf(t)],{maxRetries:t.maxRetries??3}).sendRequest}}var OI=\"formDataPolicy\";function LG(t){let e={};for(let[r,n]of t.entries())e[r]??=[],e[r].push(n);return e}function ep(){return{name:OI,async sendRequest(t,e){if(Jo&&typeof FormData<\"u\"&&t.body instanceof FormData&&(t.formData=LG(t.body),t.body=void 0),t.formData){let r=t.headers.get(\"Content-Type\");r&&r.indexOf(\"application/x-www-form-urlencoded\")!==-1?t.body=OG(t.formData):await UG(t.formData,t),t.formData=void 0}return e(t)}}}function OG(t){let e=new URLSearchParams;for(let[r,n]of Object.entries(t))if(Array.isArray(n))for(let i of n)e.append(r,i.toString());else e.append(r,n.toString());return e.toString()}async function UG(t,e){let r=e.headers.get(\"Content-Type\");if(r&&!r.startsWith(\"multipart/form-data\"))return;e.headers.set(\"Content-Type\",r??\"multipart/form-data\");let n=[];for(let[i,o]of Object.entries(t))for(let s of Array.isArray(o)?o:[o])if(typeof s==\"string\")n.push({headers:sn({\"Content-Disposition\":`form-data; name=\"${i}\"`}),body:Hr(s,\"utf-8\")});else{if(s==null||typeof s!=\"object\")throw new Error(`Unexpected value for key ${i}: ${s}. Value should be serialized to string first.`);{let a=s.name||\"blob\",A=sn();A.set(\"Content-Disposition\",`form-data; name=\"${i}\"; filename=\"${a}\"`),A.set(\"Content-Type\",s.type||\"application/octet-stream\"),n.push({headers:A,body:s})}}e.multipartBody={parts:n}}var GD=Ae(FD(),1),YD=Ae(UD(),1);var O1=\"HTTPS_PROXY\",U1=\"HTTP_PROXY\",_1=\"ALL_PROXY\",H1=\"NO_PROXY\",JI=\"proxyPolicy\",_D=[],VD=!1,q1=new Map;function lp(t){if(process.env[t])return process.env[t];if(process.env[t.toLowerCase()])return process.env[t.toLowerCase()]}function G1(){if(!process)return;let t=lp(O1),e=lp(_1),r=lp(U1);return t||e||r}function Y1(t,e,r){if(e.length===0)return!1;let n=new URL(t).hostname;if(r?.has(n))return r.get(n);let i=!1;for(let o of e)o[0]===\".\"?(n.endsWith(o)||n.length===o.length-1&&n===o.slice(1))&&(i=!0):n===o&&(i=!0);return r?.set(n,i),i}function V1(){let t=lp(H1);return VD=!0,t?t.split(\",\").map(e=>e.trim()).filter(e=>e.length):[]}function J1(){let t=G1();return t?new URL(t):void 0}function HD(t){let e;try{e=new URL(t.host)}catch{throw new Error(`Expecting a valid host string in proxy settings, but found \"${t.host}\".`)}return e.port=String(t.port),t.username&&(e.username=t.username),t.password&&(e.password=t.password),e}function qD(t,e,r){if(t.agent)return;let i=new URL(t.url).protocol!==\"https:\";t.tlsSettings&&Pn.warning(\"TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.\");let o=t.headers.toJSON();i?(e.httpProxyAgent||(e.httpProxyAgent=new YD.HttpProxyAgent(r,{headers:o})),t.agent=e.httpProxyAgent):(e.httpsProxyAgent||(e.httpsProxyAgent=new GD.HttpsProxyAgent(r,{headers:o})),t.agent=e.httpsProxyAgent)}function up(t,e){VD||_D.push(...V1());let r=t?HD(t):J1(),n={};return{name:JI,async sendRequest(i,o){return!i.proxySettings&&r&&!Y1(i.url,e?.customNoProxyList??_D,e?.customNoProxyList?void 0:q1)?qD(i,n,r):i.proxySettings&&qD(i,n,HD(i.proxySettings)),o(i)}}}var KI=\"agentPolicy\";function dp(t){return{name:KI,sendRequest:async(e,r)=>(e.agent||(e.agent=t),r(e))}}var WI=\"tlsPolicy\";function hp(t){return{name:WI,sendRequest:async(e,r)=>(e.tlsSettings||(e.tlsSettings=t),r(e))}}function gp(t){return typeof t.stream==\"function\"}var fp=require(\"stream\");async function*JD(){let t=this.getReader();try{for(;;){let{done:e,value:r}=await t.read();if(e)return;yield r}}finally{t.releaseLock()}}function K1(t){t[Symbol.asyncIterator]||(t[Symbol.asyncIterator]=JD.bind(t)),t.values||(t.values=JD.bind(t))}function KD(t){return t instanceof ReadableStream?(K1(t),fp.Readable.fromWeb(t)):t}function W1(t){return t instanceof Uint8Array?fp.Readable.from(Buffer.from(t)):gp(t)?KD(t.stream()):KD(t)}async function WD(t){return function(){let e=t.map(r=>typeof r==\"function\"?r():r).map(W1);return fp.Readable.from((async function*(){for(let r of e)for await(let n of r)yield n})())}}function z1(){return`----AzSDKFormBoundary${da()}`}function j1(t){let e=\"\";for(let[r,n]of t)e+=`${r}: ${n}\\r\n`;return e}function $1(t){return t instanceof Uint8Array?t.byteLength:gp(t)?t.size===-1?void 0:t.size:void 0}function X1(t){let e=0;for(let r of t){let n=$1(r);if(n===void 0)return;e+=n}return e}async function Z1(t,e,r){let n=[Hr(`--${r}`,\"utf-8\"),...e.flatMap(o=>[Hr(`\\r\n`,\"utf-8\"),Hr(j1(o.headers),\"utf-8\"),Hr(`\\r\n`,\"utf-8\"),o.body,Hr(`\\r\n--${r}`,\"utf-8\")]),Hr(`--\\r\n\\r\n`,\"utf-8\")],i=X1(n);i&&t.headers.set(\"Content-Length\",i),t.body=await WD(n)}var Gu=\"multipartPolicy\",eY=70,tY=new Set(\"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?\");function rY(t){if(t.length>eY)throw new Error(`Multipart boundary \"${t}\" exceeds maximum length of 70 characters`);if(Array.from(t).some(e=>!tY.has(e)))throw new Error(`Multipart boundary \"${t}\" contains invalid characters`)}function pp(){return{name:Gu,async sendRequest(t,e){if(!t.multipartBody)return e(t);if(t.body)throw new Error(\"multipartBody and regular body cannot be set at the same time\");let r=t.multipartBody.boundary,n=t.headers.get(\"Content-Type\")??\"multipart/mixed\",i=n.match(/^(multipart\\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!i)throw new Error(`Got multipart request body, but content-type header was not multipart: ${n}`);let[,o,s]=i;if(s&&r&&s!==r)throw new Error(`Multipart boundary was specified as ${s} in the header, but got ${r} in the request body`);return r??=s,r?rY(r):r=z1(),t.headers.set(\"Content-Type\",`${o}; boundary=${r}`),await Z1(t,t.multipartBody.parts,r),t.multipartBody=void 0,e(t)}}}function Dc(){return Gf()}var Ii=ve(\"core-rest-pipeline\");function jI(t={}){return zf({logger:Ii.info,...t})}function $I(t={}){return jf(t)}var Ep=Ae(require(\"node:os\"),1),Cp=Ae(require(\"node:process\"),1);function zD(){return\"User-Agent\"}async function jD(t){if(Cp.default&&Cp.default.versions){let e=Cp.default.versions;e.bun?t.set(\"Bun\",e.bun):e.deno?t.set(\"Deno\",e.deno):e.node&&t.set(\"Node\",e.node)}t.set(\"OS\",`(${Ep.default.arch()}-${Ep.default.type()}-${Ep.default.release()})`)}var mp=\"1.22.1\";function gY(t){let e=[];for(let[r,n]of t){let i=n?`${r}/${n}`:r;e.push(i)}return e.join(\" \")}function $D(){return zD()}async function yp(t){let e=new Map;e.set(\"core-rest-pipeline\",mp),await jD(e);let r=gY(e);return t?`${t} ${r}`:r}var XD=$D(),ZD=\"userAgentPolicy\";function XI(t={}){let e=yp(t.userAgentPrefix);return{name:ZD,async sendRequest(r,n){return r.headers.has(XD)||r.headers.set(XD,await e),n(r)}}}var e0=Symbol(\"rawContent\");function ZI(t){return typeof t[e0]==\"function\"}function t0(t){return ZI(t)?t[e0]():t}var Ip=Gu;function eB(){let t=pp();return{name:Ip,sendRequest:async(e,r)=>{if(e.multipartBody)for(let n of e.multipartBody.parts)ZI(n.body)&&(n.body=t0(n.body));return t.sendRequest(e,r)}}}function tB(){return $f()}function rB(t={}){return Zf(t)}function nB(){return ep()}function iB(t,e){return up(t,e)}var r0=\"setClientRequestIdPolicy\";function oB(t=\"x-ms-client-request-id\"){return{name:r0,async sendRequest(e,r){return e.headers.has(t)||e.headers.set(t,e.requestId),r(e)}}}function sB(t){return dp(t)}function aB(t){return hp(t)}var xc={span:Symbol.for(\"@azure/core-tracing span\"),namespace:Symbol.for(\"@azure/core-tracing namespace\")};function n0(t={}){let e=new AB(t.parentContext);return t.span&&(e=e.setValue(xc.span,t.span)),t.namespace&&(e=e.setValue(xc.namespace,t.namespace)),e}var AB=class t{_contextMap;constructor(e){this._contextMap=e instanceof t?new Map(e._contextMap):new Map}setValue(e,r){let n=new t(this);return n._contextMap.set(e,r),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){let r=new t(this);return r._contextMap.delete(e),r}};var o0=Ae(i0(),1),Qp=o0.state;function fY(){return{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{},addEvent:()=>{}}}function pY(){return{createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(t,e)=>({span:fY(),tracingContext:n0({parentContext:e.tracingContext})}),withContext(t,e,...r){return e(...r)}}}function Yu(){return Qp.instrumenterImplementation||(Qp.instrumenterImplementation=pY()),Qp.instrumenterImplementation}function Ta(t){let{namespace:e,packageName:r,packageVersion:n}=t;function i(c,l,u){let d=Yu().startSpan(c,{...u,packageName:r,packageVersion:n,tracingContext:l?.tracingOptions?.tracingContext}),h=d.tracingContext,g=d.span;h.getValue(xc.namespace)||(h=h.setValue(xc.namespace,e)),g.setAttribute(\"az.namespace\",h.getValue(xc.namespace));let p=Object.assign({},l,{tracingOptions:{...l?.tracingOptions,tracingContext:h}});return{span:g,updatedOptions:p}}async function o(c,l,u,d){let{span:h,updatedOptions:g}=i(c,l,d);try{let p=await s(g.tracingOptions.tracingContext,()=>Promise.resolve(u(g,h)));return h.setStatus({status:\"success\"}),p}catch(p){throw h.setStatus({status:\"error\",error:p}),p}finally{h.end()}}function s(c,l,...u){return Yu().withContext(c,l,...u)}function a(c){return Yu().parseTraceparentHeader(c)}function A(c){return Yu().createRequestHeaders(c)}return{startSpan:i,withSpan:o,withContext:s,parseTraceparentHeader:a,createRequestHeaders:A}}var is=yr;function vc(t){return Yf(t)}var s0=\"tracingPolicy\";function cB(t={}){let e=yp(t.userAgentPrefix),r=new Zn({additionalAllowedQueryParameters:t.additionalAllowedQueryParameters}),n=EY();return{name:s0,async sendRequest(i,o){if(!n)return o(i);let s=await e,a={\"http.url\":r.sanitizeUrl(i.url),\"http.method\":i.method,\"http.user_agent\":s,requestId:i.requestId};s&&(a[\"http.user_agent\"]=s);let{span:A,tracingContext:c}=CY(n,i,a)??{};if(!A||!c)return o(i);try{let l=await n.withContext(c,o,i);return yY(A,l),l}catch(l){throw mY(A,l),l}}}}function EY(){try{return Ta({namespace:\"\",packageName:\"@azure/core-rest-pipeline\",packageVersion:mp})}catch(t){Ii.warning(`Error when creating the TracingClient: ${rc(t)}`);return}}function CY(t,e,r){try{let{span:n,updatedOptions:i}=t.startSpan(`HTTP ${e.method}`,{tracingOptions:e.tracingOptions},{spanKind:\"client\",spanAttributes:r});if(!n.isRecording()){n.end();return}let o=t.createRequestHeaders(i.tracingOptions.tracingContext);for(let[s,a]of Object.entries(o))e.headers.set(s,a);return{span:n,tracingContext:i.tracingOptions.tracingContext}}catch(n){Ii.warning(`Skipping creating a tracing span due to an error: ${rc(n)}`);return}}function mY(t,e){try{t.setStatus({status:\"error\",error:jg(e)?e:void 0}),vc(e)&&e.statusCode&&t.setAttribute(\"http.status_code\",e.statusCode),t.end()}catch(r){Ii.warning(`Skipping tracing span processing due to an error: ${rc(r)}`)}}function yY(t,e){try{t.setAttribute(\"http.status_code\",e.status);let r=e.headers.get(\"x-ms-request-id\");r&&t.setAttribute(\"serviceRequestId\",r),e.status>=400&&t.setStatus({status:\"error\"}),t.end()}catch(r){Ii.warning(`Skipping tracing span processing due to an error: ${rc(r)}`)}}function wp(t){if(t instanceof AbortSignal)return{abortSignal:t};if(t.aborted)return{abortSignal:AbortSignal.abort(t.reason)};let e=new AbortController,r=!0;function n(){r&&(t.removeEventListener(\"abort\",i),r=!1)}function i(){e.abort(t.reason),n()}return t.addEventListener(\"abort\",i),{abortSignal:e.signal,cleanup:n}}var IY=\"wrapAbortSignalLikePolicy\";function a0(){return{name:IY,sendRequest:async(t,e)=>{if(!t.abortSignal)return e(t);let{abortSignal:r,cleanup:n}=wp(t.abortSignal);t.abortSignal=r;try{return await e(t)}finally{n?.()}}}}function Rp(t){let e=Dc();return nc&&(t.agent&&e.addPolicy(sB(t.agent)),t.tlsOptions&&e.addPolicy(aB(t.tlsOptions)),e.addPolicy(iB(t.proxyOptions)),e.addPolicy(tB())),e.addPolicy(a0()),e.addPolicy(nB(),{beforePolicies:[Ip]}),e.addPolicy(XI(t.userAgentOptions)),e.addPolicy(oB(t.telemetryOptions?.clientRequestIdHeaderName)),e.addPolicy(eB(),{afterPhase:\"Deserialize\"}),e.addPolicy(rB(t.retryOptions),{phase:\"Retry\"}),e.addPolicy(cB({...t.userAgentOptions,...t.loggingOptions}),{afterPhase:\"Retry\"}),nc&&e.addPolicy($I(t.redirectOptions),{afterPhase:\"Retry\"}),e.addPolicy(jI(t.loggingOptions),{afterPhase:\"Sign\"}),e}function Nc(){let t=Wf();return{async sendRequest(e){let{abortSignal:r,cleanup:n}=e.abortSignal?wp(e.abortSignal):{};try{return e.abortSignal=r,await t.sendRequest(e)}finally{n?.()}}}}function Bi(t){return sn(t)}function An(t){return qf(t)}var QY=ve(\"core-rest-pipeline retryPolicy\");function lB(t,e={maxRetries:3}){return rs(t,{logger:QY,...e})}var wY={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function RY(t,e,r){async function n(){if(Date.now()<r)try{return await t()}catch{return null}else{let o=await t();if(o===null)throw new Error(\"Failed to refresh access token.\");return o}}let i=await n();for(;i===null;)await tc(e),i=await n();return i}function uB(t,e){let r=null,n=null,i,o={...wY,...e},s={get isRefreshing(){return r!==null},get shouldRefresh(){return s.isRefreshing?!1:n?.refreshAfterTimestamp&&n.refreshAfterTimestamp<Date.now()?!0:(n?.expiresOnTimestamp??0)-o.refreshWindowInMs<Date.now()},get mustRefresh(){return n===null||n.expiresOnTimestamp-o.forcedRefreshWindowInMs<Date.now()}};function a(A,c){return s.isRefreshing||(r=RY(()=>t.getToken(A,c),o.retryIntervalInMs,n?.expiresOnTimestamp??Date.now()).then(u=>(r=null,n=u,i=c.tenantId,n)).catch(u=>{throw r=null,n=null,i=void 0,u})),r}return async(A,c)=>{let l=!!c.claims,u=i!==c.tenantId;return l&&(n=null),u||l||s.mustRefresh?a(A,c):(s.shouldRefresh&&a(A,c),n)}}var Tp=\"bearerTokenAuthenticationPolicy\";async function Sp(t,e){try{return[await e(t),void 0]}catch(r){if(vc(r)&&r.response)return[r.response,r];throw r}}async function SY(t){let{scopes:e,getAccessToken:r,request:n}=t,i={abortSignal:n.abortSignal,tracingOptions:n.tracingOptions,enableCae:!0},o=await r(e,i);o&&t.request.headers.set(\"Authorization\",`Bearer ${o.token}`)}function A0(t){return t.status===401&&t.headers.has(\"WWW-Authenticate\")}async function c0(t,e){let{scopes:r}=t,n=await t.getAccessToken(r,{enableCae:!0,claims:e});return n?(t.request.headers.set(\"Authorization\",`${n.tokenType??\"Bearer\"} ${n.token}`),!0):!1}function ba(t){let{credential:e,scopes:r,challengeCallbacks:n}=t,i=t.logger||Ii,o={authorizeRequest:n?.authorizeRequest?.bind(n)??SY,authorizeRequestOnChallenge:n?.authorizeRequestOnChallenge?.bind(n)},s=e?uB(e):()=>Promise.resolve(null);return{name:Tp,async sendRequest(a,A){if(!a.url.toLowerCase().startsWith(\"https://\"))throw new Error(\"Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.\");await o.authorizeRequest({scopes:Array.isArray(r)?r:[r],request:a,getAccessToken:s,logger:i});let c,l,u;if([c,l]=await Sp(a,A),A0(c)){let d=l0(c.headers.get(\"WWW-Authenticate\"));if(d){let h;try{h=atob(d)}catch{return i.warning(`The WWW-Authenticate header contains \"claims\" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${d}`),c}u=await c0({scopes:Array.isArray(r)?r:[r],response:c,request:a,getAccessToken:s,logger:i},h),u&&([c,l]=await Sp(a,A))}else if(o.authorizeRequestOnChallenge&&(u=await o.authorizeRequestOnChallenge({scopes:Array.isArray(r)?r:[r],request:a,response:c,getAccessToken:s,logger:i}),u&&([c,l]=await Sp(a,A)),A0(c)&&(d=l0(c.headers.get(\"WWW-Authenticate\")),d))){let h;try{h=atob(d)}catch{return i.warning(`The WWW-Authenticate header contains \"claims\" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${d}`),c}u=await c0({scopes:Array.isArray(r)?r:[r],response:c,request:a,getAccessToken:s,logger:i},h),u&&([c,l]=await Sp(a,A))}}if(l)throw l;return c}}}function TY(t){let e=/(\\w+)\\s+((?:\\w+=(?:\"[^\"]*\"|[^,]*),?\\s*)+)/g,r=/(\\w+)=\"([^\"]*)\"/g,n=[],i;for(;(i=e.exec(t))!==null;){let o=i[1],s=i[2],a={},A;for(;(A=r.exec(s))!==null;)a[A[1]]=A[2];n.push({scheme:o,params:a})}return n}function l0(t){return t?TY(t).find(r=>r.scheme===\"Bearer\"&&r.params.claims&&r.params.error===\"insufficient_claims\")?.params.claims:void 0}var bp=\"4.10.0\";var tSe={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};var rV=ve(\"keyvault-common\");var Vu=Ta({namespace:\"Microsoft.KeyVault\",packageName:\"@azure/keyvault-keys\",packageVersion:bp});var dB=ve(\"core-lro\");var kp;(function(t){t.Encrypt=\"encrypt\",t.Decrypt=\"decrypt\",t.Sign=\"sign\",t.Verify=\"verify\",t.WrapKey=\"wrapKey\",t.UnwrapKey=\"unwrapKey\",t.Import=\"import\"})(kp||(kp={}));var Ju=class{keyEncryptionKeyResolver;cacheTimeToLive;RsaOaepEncryptionAlgorithm=\"RSA-OAEP\";cacheRefresher;unwrappedEncryptionKeyCache;providerName;constructor(e,r){this.keyEncryptionKeyResolver=e,this.cacheTimeToLive=r,this.keyEncryptionKeyResolver=e,this.providerName=e.encryptionKeyResolverName,this.unwrappedEncryptionKeyCache={},this.cacheTimeToLive=r,this.clearCacheOnTtlExpiry()}async wrapKey(e,r,n){let i=new Uint8Array(n),o=await this.keyEncryptionKeyResolver.wrapKey(e,r,i);return Buffer.from(o)}async unwrapKey(e,r,n){if(this.cacheTimeToLive===0){let i=await this.keyEncryptionKeyResolver.unwrapKey(e,r,n);return Buffer.from(i)}if(!this.unwrappedEncryptionKeyCache[e]){let i=new Uint8Array(n),o=await this.keyEncryptionKeyResolver.unwrapKey(e,r,i),s=Buffer.from(o);this.unwrappedEncryptionKeyCache[e]=[new Date,s]}return this.unwrappedEncryptionKeyCache[e][1]}async clearCacheOnTtlExpiry(){this.cacheRefresher=ZA(async()=>{let e=new Date;for(let r in this.unwrappedEncryptionKeyCache)e.getTime()-this.unwrappedEncryptionKeyCache[r][0].getTime()>this.cacheTimeToLive&&delete this.unwrappedEncryptionKeyCache[r]},E.EncryptionCacheRefreshIntervalInMs)}};var Ku=class{id;containerRid;partitionKeyPaths;pathsToEncrypt=[];encryptionSettingForProperties={};constructor(e,r,n){this.id=e,this.containerRid=r,this.partitionKeyPaths=n}setEncryptionSettingForProperty(e,r){this.encryptionSettingForProperties[e]=r}getEncryptionSettingForProperty(e){return this.encryptionSettingForProperties[e]}};var Wu=class{encryptionAlgorithm;name;path;keyStoreProvider;constructor(e,r,n){this.name=e,this.path=r,this.keyStoreProvider=n,this.encryptionAlgorithm=ts.RSA_OAEP}async wrapEncryptionKey(e){return this.keyStoreProvider.wrapKey(this.path,this.encryptionAlgorithm,e)}async unwrapEncryptionKey(e){return this.keyStoreProvider.unwrapKey(this.path,this.encryptionAlgorithm,e)}};var Ao=require(\"node:crypto\"),zu=class{algoVersion=1;blockSizeInBytes=16;encryptionType;dataEncryptionKey;version;versionSize;keySizeInBytes;minimumCipherTextLength;constructor(e,r){this.dataEncryptionKey=e,this.encryptionType=r,this.version=Buffer.from([this.algoVersion]),this.versionSize=Buffer.from([1]),this.keySizeInBytes=32,this.minimumCipherTextLength=1+2*this.blockSizeInBytes+this.keySizeInBytes}encrypt(e){let r;if(this.encryptionType===ji.RANDOMIZED)r=(0,Ao.randomBytes)(16);else{let s=(0,Ao.createHmac)(\"sha256\",this.dataEncryptionKey.ivKeyBuffer);s.update(e),r=s.digest().slice(0,this.blockSizeInBytes)}let n=(0,Ao.createCipheriv)(\"aes-256-cbc\",this.dataEncryptionKey.encryptionKeyBuffer,r),i=Buffer.concat([n.update(e),n.final()]),o=this.generateAuthenticationTag(r,i);return Buffer.concat([Buffer.from([this.algoVersion]),o,r,i])}decrypt(e){if(e.length<this.minimumCipherTextLength)throw new Error(\"Invalid cipher text length\");if(e[0]!==this.algoVersion)throw new Error(\"Invalid cipher text version\");let r=1,n=this.keySizeInBytes,i=r+n,o=this.blockSizeInBytes,s=i+o,a=e.length-s,A=e.slice(r,r+n),c=e.slice(i,i+o),l=e.slice(s,s+a);this.validateAuthenticationTag(A,c,l);let u=(0,Ao.createDecipheriv)(\"aes-256-cbc\",this.dataEncryptionKey.encryptionKeyBuffer,c),d=u.update(l);return Buffer.concat([d,u.final()])}generateAuthenticationTag(e,r){let n=(0,Ao.createHmac)(\"sha256\",this.dataEncryptionKey.macKeyBuffer),i=Buffer.concat([this.version,e,r,this.versionSize]);return n.update(i).digest()}validateAuthenticationTag(e,r,n){let i=this.generateAuthenticationTag(r,n);if(!e.equals(i))throw new Error(\"Invalid authentication tag\")}};var ju=class{encryptionKeyId;encryptionType;encryptionAlgorithm;constructor(e){this.encryptionKeyId=e.clientEncryptionKeyId,this.encryptionType=e.encryptionType,this.encryptionAlgorithm=e.encryptionAlgorithm}async buildEncryptionAlgorithm(e,r,n){let i=await this.buildProtectedDataEncryptionKey(e,r,n);return new zu(i,this.encryptionType)}async buildProtectedDataEncryptionKey(e,r,n){let i=r.keyEncryptionKeyCache.getOrCreate(e.encryptionKeyWrapMetadata.name,e.encryptionKeyWrapMetadata.value,r.encryptionKeyStoreProvider);return await r.protectedDataEncryptionKeyCache.getOrCreate(this.encryptionKeyId,i,e.wrappedDataEncryptionKey,n)}};var f0=require(\"node:crypto\"),$u=class{rootKeyBuffer;keySizeInBits=256;keySizeInBytes=this.keySizeInBits/8;encryptionKeyBuffer;macKeyBuffer;ivKeyBuffer;name;constructor(e,r){if(e.length!==this.keySizeInBytes)throw new Error(\"Invalid root key size\");this.rootKeyBuffer=e,this.name=r;let n=`Microsoft SQL Server cell encryption key with encryption algorithm:AEAD_AES_256_CBC_HMAC_SHA256 and key length:${this.keySizeInBits}`,i=`Microsoft SQL Server cell MAC key with encryption algorithm:AEAD_AES_256_CBC_HMAC_SHA256 and key length:${this.keySizeInBits}`,o=`Microsoft SQL Server cell IV key with encryption algorithm:AEAD_AES_256_CBC_HMAC_SHA256 and key length:${this.keySizeInBits}`;this.encryptionKeyBuffer=this.getHmacWithSha256(n,this.rootKeyBuffer),this.macKeyBuffer=this.getHmacWithSha256(i,this.rootKeyBuffer),this.ivKeyBuffer=this.getHmacWithSha256(o,this.rootKeyBuffer)}getHmacWithSha256(e,r){let n=(0,f0.createHmac)(\"sha256\",r);return n.update(Buffer.from(e,\"utf16le\")),n.digest()}};var Pc=class extends $u{keyEncryptionKey;encryptedValue;constructor(e,r,n,i){super(n,e),this.name=e,this.keyEncryptionKey=r,this.encryptedValue=i}};var Xu=class{containerId;containerRid;database;clientContext;encryptionManager;constructor(e,r,n,i,o){this.containerId=e,this.containerRid=r,this.database=n,this.clientContext=i,this.encryptionManager=o}async encrypt(e){if(!e)throw new v(\"Input body is null or undefined.\");let r=0,n=await this.getEncryptionSetting();if(!n)return{body:e,propertiesEncryptedCount:r};for(let i of n.pathsToEncrypt){let o=i.slice(1);if(!Object.prototype.hasOwnProperty.call(e,o))continue;let s=n.getEncryptionSettingForProperty(i);if(!s)throw new v(\"Invalid Encryption Setting for the Property: \"+o);e[o]=await this.encryptToken(e[o],s,o===\"id\"),r++}return{body:e,propertiesEncryptedCount:r}}async isPathEncrypted(e){return e=WA(e),!!(await this.getEncryptionSetting()).getEncryptionSettingForProperty(e)}async encryptProperty(e,r){e=WA(e);let n=await this.getEncryptionSetting();if(!n)return r;let i=n.getEncryptionSettingForProperty(e);return i&&(r=await this.encryptToken(r,i,e===\"/id\")),r}async getEncryptedPartitionKeyValue(e){let r=await this.getEncryptionSetting(),n=0;if(!r)return{partitionKeyList:e,encryptedCount:n};let i=r.partitionKeyPaths;for(let o=0;o<i.length;o++){let s=WA(i[o]);if(r.pathsToEncrypt.includes(s)){let a=r.getEncryptionSettingForProperty(s);e[o]=await this.encryptToken(e[o],a,s===\"/id\"),n++}}return{partitionKeyList:e,encryptedCount:n}}async getEncryptedUrl(e){let r=e.split(\"/\"),n=r[r.length-1],i=await this.getEncryptedId(n);return r[r.length-1]=i,r.join(\"/\")}async getEncryptedId(e){let r=await this.getEncryptionSetting();if(!r)return e;let n=r.getEncryptionSettingForProperty(\"/id\");return n&&(e=await this.encryptToken(e,n,!0)),e}async encryptQueryParameter(e,r,n,i){if(r===null)return r;e=WA(e);let o=await this.getEncryptionSetting();if(!o)return r;let s=o.getEncryptionSettingForProperty(e);return s?this.encryptToken(r,s,n,i):r}async encryptToken(e,r,n,i){if(typeof e==\"object\"&&e!==null)for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(e[o]=await this.encryptToken(e[o],r,n,i));else if(Array.isArray(i))for(let o=0;o<e.length;o++)e[o]=await this.encryptToken(e[o],r,n,i);else e=await this.serializeAndEncryptValue(e,r,n,i);return e}async serializeAndEncryptValue(e,r,n,i){if(e===null)return e;let[o,s]=vb(e,i),a=s.serialize(e),c=(await this.buildEncryptionAlgorithm(r)).encrypt(a);if(n&&typeof e!=\"string\")throw new v(\"The id should be of string type.\");let l=Buffer.alloc(c.length+1);l[0]=o,c.forEach((d,h)=>{l[h+1]=d});let u=Buffer.from(l).toString(\"base64\");return n&&(u=u.replace(/\\//g,\"_\").replace(/\\+/g,\"-\")),u}async decrypt(e){let r=0;if(e==null)return{body:e,propertiesDecryptedCount:r};let n=await this.getEncryptionSetting();if(!n)return{body:e,propertiesDecryptedCount:r};for(let i of n.pathsToEncrypt){let o=i.slice(1);if(!Object.prototype.hasOwnProperty.call(e,o))continue;let s=n.getEncryptionSettingForProperty(i);if(s==null)throw new v(\"Invalid Encryption Setting for the Path: \"+i);e[o]=await this.decryptToken(e[o],s,o===\"id\"),r++}return{body:e,propertiesDecryptedCount:r}}async decryptToken(e,r,n){if(typeof e==\"object\")for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=await this.decryptToken(e[i],r,n));else if(Array.isArray(e))for(let i=0;i<e.length;i++)e[i]=await this.decryptToken(e[i],r,n);else e=await this.deserializeAndDecryptValue(e,r,n);return e}async deserializeAndDecryptValue(e,r,n){n&&(e=e.replace(/_/g,\"/\").replace(/-/g,\"+\"));let i=Buffer.from(e,\"base64\");if(i===null)return null;let o=Buffer.alloc(i.length-1);o=Buffer.from(i.slice(1));let a=(await this.buildEncryptionAlgorithm(r)).decrypt(o);if(a===null)throw new v(\"returned null plain text\");return xb(i[0]).deserialize(a)}async getEncryptionSetting(e){let r=this.database._rid+\"/\"+this.containerRid,n=this.encryptionManager.encryptionSettingsCache.get(r);return e||!n?O(async i=>{let o=`/dbs/${this.database.id}/colls/${this.containerId}`,s=`dbs/${this.database.id}/colls/${this.containerId}`,a=await this.clientContext.read({path:o,resourceType:Q.container,resourceId:s,diagnosticNode:i});if(!a||!a.result)throw new v(\"Failed to fetch container definition\");let A=a.result._rid,c=a.result.clientEncryptionPolicy,l=a.result.partitionKey.paths;return await this.encryptionManager.encryptionSettingsCache.create(r,A,l,c)},this.clientContext):n}async buildEncryptionAlgorithm(e){let r=`${this.database._rid}/${e.encryptionKeyId}`,n=this.encryptionManager.clientEncryptionKeyPropertiesCache.get(r);n||(n=await this.fetchClientEncryptionKey(e.encryptionKeyId));try{return await e.buildEncryptionAlgorithm(n,this.encryptionManager)}catch(i){if(i.statusCode!==V.Forbidden)throw i;n=await this.fetchClientEncryptionKey(e.encryptionKeyId);try{return await e.buildEncryptionAlgorithm(n,this.encryptionManager,!0)}catch(o){if(o.statusCode!==V.Forbidden)throw o;return n=await this.fetchClientEncryptionKey(e.encryptionKeyId,n.etag),e.buildEncryptionAlgorithm(n,this.encryptionManager)}}}async fetchClientEncryptionKey(e,r){return O(async n=>{let i=`/dbs/${this.database.id}/clientencryptionkeys/${e}`,o=`dbs/${this.database.id}/clientencryptionkeys/${e}`,s={};r&&(s.accessCondition={type:E.HttpHeaders.IfNoneMatch,condition:r}),s.databaseRid=this.database._rid;let a=await this.clientContext.read({path:i,resourceType:Q.clientencryptionkey,resourceId:o,options:s,diagnosticNode:n});if(!a)throw new v(`Failed to fetch client encryption key ${e}`);if(a.code===V.NotModified)throw new v(`The Client Encryption Key with key id: ${e} on database: ${this.database.id} needs to be rewrapped with a valid Key Encryption Key using rewrapClientEncryptionKey. The Key Encryption Key used to wrap the Client Encryption Key has been revoked`);let A={id:a.result.id,encryptionAlgorithm:a.result.encryptionAlgorithm,wrappedDataEncryptionKey:new Uint8Array(Buffer.from(a.result.wrappedDataEncryptionKey,\"base64\")),encryptionKeyWrapMetadata:a.result.keyWrapMetadata,etag:a.result._etag},c=this.database._rid+\"/\"+e;return this.encryptionManager.clientEncryptionKeyPropertiesCache.set(c,A),A},this.clientContext)}};var Zu;(function(t){t.Integer=\"Integer\",t.Float=\"Float\"})(Zu||(Zu={}));var ka=class{database;id;clientContext;encryptionManager;$items;get items(){return this.$items||(this.$items=new Nu(this,this.clientContext)),this.$items}$scripts;get scripts(){return this.$scripts||(this.$scripts=new Lu(this,this.clientContext)),this.$scripts}$conflicts;get conflicts(){return this.$conflicts||(this.$conflicts=new bu(this,this.clientContext)),this.$conflicts}get url(){return zA(this.database.id,this.id)}encryptionProcessor;_rid;isEncryptionInitialized=!1;encryptionInitializationPromise;constructor(e,r,n,i,o){this.database=e,this.id=r,this.clientContext=n,this.encryptionManager=i,this._rid=o,this.clientContext.enableEncryption&&(this.encryptionProcessor=new Xu(this.id,this._rid,this.database,this.clientContext,this.encryptionManager))}item(e,r){return new Zo(this,e,this.clientContext,r)}conflict(e,r){return new Tu(this,e,this.clientContext,r)}async read(e){return O(async r=>this.readInternal(r,e),this.clientContext)}async readInternal(e,r){let n=_(this.url),i=Y(this.url),o=await this.clientContext.read({path:n,resourceType:Q.container,resourceId:i,options:r,diagnosticNode:e});return this.clientContext.partitionKeyDefinitionCache[this.url]=o.result.partitionKey,new Ei(o.result,o.headers,o.code,this,G())}async replace(e,r){return O(async n=>{let i={};if(!Fe(e,i))throw i;let o=_(this.url),s=Y(this.url),a=await this.clientContext.replace({body:e,path:o,resourceType:Q.container,resourceId:s,options:r,diagnosticNode:n});return new Ei(a.result,a.headers,a.code,this,G())},this.clientContext)}async delete(e){return O(async r=>{let n=_(this.url),i=Y(this.url),o=await this.clientContext.delete({path:n,resourceType:Q.container,resourceId:i,options:e,diagnosticNode:r});return new Ei(o.result,o.headers,o.code,this,G())},this.clientContext)}async getPartitionKeyDefinition(){return O(async e=>this.readPartitionKeyDefinition(e),this.clientContext)}async readPartitionKeyDefinition(e){if(this.url in this.clientContext.partitionKeyDefinitionCache)return e.addData({readFromCache:!0}),new Ne(this.clientContext.partitionKeyDefinitionCache[this.url],{},0,G());let{headers:r,statusCode:n,diagnostics:i}=await ei(async o=>this.readInternal(o),e,_r.ContainerLookUp);return new Ne(this.clientContext.partitionKeyDefinitionCache[this.url],r,n,i)}async readOffer(e={}){return O(async r=>{let{resource:n}=await this.read(),i=\"/offers\",o=n._self,s=await this.clientContext.queryFeed({path:i,resourceId:\"\",resourceType:Q.offer,query:`SELECT * from root where root.resource = \"${o}\"`,resultFn:A=>A.Offers,options:e,diagnosticNode:r}),a=s.result[0]?new ao(this.database.client,s.result[0].id,this.clientContext):void 0;return new Ci(s.result[0],s.headers,s.code,G(),a)},this.clientContext)}async getQueryPlan(e){return O(async r=>{let n=_(this.url);return this.clientContext.getQueryPlan(n+\"/docs\",Q.item,Y(this.url),e,{},r)},this.clientContext)}readPartitionKeyRanges(e){return e=e||{},this.clientContext.queryPartitionKeyRanges(this.url,void 0,e)}async getFeedRanges(){return O(async e=>{let{resources:r}=await this.readPartitionKeyRanges().fetchAllInternal(e),n=[];for(let i of r){let o=new pa(i.minInclusive,i.maxExclusive);Object.freeze(o),n.push(o)}return n},this.clientContext)}async deleteAllItemsForPartitionKey(e,r){return O(async n=>{let i=_(this.url),o=Y(this.url);if(i=i+\"/operations/partitionkeydelete\",this.clientContext.enableEncryption){await this.checkAndInitializeEncryption(),r=r||{},r.containerRid=this._rid,n.beginEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation);let a=Dt(e),{partitionKeyList:A,encryptedCount:c}=await this.encryptionProcessor.getEncryptedPartitionKeyValue(a);e=A,n.endEncryptionDiagnostics(E.Encryption.DiagnosticsEncryptOperation,c)}let s;try{s=await this.clientContext.delete({path:i,resourceType:Q.container,resourceId:o,options:r,partitionKey:e,method:ht.post,diagnosticNode:n})}catch(a){throw this.clientContext.enableEncryption&&await this.throwIfRequestNeedsARetryPostPolicyRefresh(a),a}return new Ei(s.result,s.headers,s.code,this,G())},this.clientContext)}async initializeEncryption(){if(this.clientContext.enableEncryption)await O(async e=>{let r=await this.readInternal(e);if(!r||!r.resource)throw new v(\"Failed to initialize encryption: The container's resource definition could not be retrieved.\");this._rid=r.resource._rid,this.encryptionProcessor.containerRid=this._rid;let n=r.resource.clientEncryptionPolicy;if(!n)return;let i=r.resource.partitionKey.paths,o=await this.database.readInternal(e);if(!o||!o.resource)throw new v(\"Failed to initialize encryption: The database's resource definition could not be retrieved.\");this.database._rid=o.resource._rid;let s=this.database._rid+\"/\"+this._rid;await this.encryptionManager.encryptionSettingsCache.create(s,this._rid,i,n);let a=[...new Set(n.includedPaths.map(A=>A.clientEncryptionKeyId))];for(let A of a){let c=await this.database.readClientEncryptionKey(A);if(!c||!c.clientEncryptionKeyProperties)throw new v(`Failed to initialize encryption: The client encryption key ${A} could not be retrieved.`);let l=c.clientEncryptionKeyProperties,u=this.database._rid+\"/\"+A;this.encryptionManager.clientEncryptionKeyPropertiesCache.set(u,l)}this.isEncryptionInitialized=!0},this.clientContext);else throw new v(\"Encryption is not enabled for the client.\")}async checkAndInitializeEncryption(){this.isEncryptionInitialized||(this.encryptionInitializationPromise||(this.encryptionInitializationPromise=this.initializeEncryption()),await this.encryptionInitializationPromise)}async throwIfRequestNeedsARetryPostPolicyRefresh(e){let r=this.database._rid+\"/\"+this._rid,n=this.encryptionManager.encryptionSettingsCache.get(r);if(!e?.code||!e?.headers?.[E.HttpHeaders.SubStatus])return;let i=e.headers[E.HttpHeaders.SubStatus],o=Number(i)===rt.PartitionKeyMismatch,s=Number(i)===rt.IncorrectContainerRidSubstatus;if(e.code===V.BadRequest&&(o||s)){if(o&&n.partitionKeyPaths.length){let l=null;for(let u of n.partitionKeyPaths){let d=u.split(\"/\")[1];if(l=n.getEncryptionSettingForProperty(d),l)break}if(l==null)return}let a=n.containerRid,c=(await this.encryptionProcessor.getEncryptionSetting(!0)).containerRid;if(a===c)return;throw await this.initializeEncryption(),new v(\"Operation has failed due to a possible mismatch in Client Encryption Policy configured on the container. Retrying may fix the issue. Please refer to https://aka.ms/CosmosClientEncryption for more details.\"+e.message)}}};function Dp(t){if(t.throughput){if(t.maxThroughput)throw console.log(\"should be erroring\"),new Error(\"Cannot specify `throughput` with `maxThroughput`\");if(t.autoUpgradePolicy)throw new Error(\"Cannot specify autoUpgradePolicy with throughput. Use `maxThroughput` instead\")}}var ed=class{database;clientContext;encryptionManager;constructor(e,r,n){this.database=e,this.clientContext=r,this.encryptionManager=n}query(e,r){let n=_(this.database.url,Q.container),i=Y(this.database.url);return new Pe(this.clientContext,e,r,(o,s)=>this.clientContext.queryFeed({path:n,resourceType:Q.container,resourceId:i,resultFn:a=>a.DocumentCollections,query:e,options:s,diagnosticNode:o}))}async create(e,r={}){return O(async n=>this.createInternal(n,e,r),this.clientContext)}async createInternal(e,r,n={}){let i={};if(!Fe(r,i))throw i;let o=_(this.database.url,Q.container),s=Y(this.database.url);if(Dp(r),r.maxThroughput){let c={maxThroughput:r.maxThroughput};r.autoUpgradePolicy&&(c.autoUpgradePolicy=r.autoUpgradePolicy);let l=JSON.stringify(c);n.initialHeaders=Object.assign({},n.initialHeaders,{[E.HttpHeaders.AutoscaleSettings]:l}),delete r.maxThroughput,delete r.autoUpgradePolicy}if(r.throughput&&(n.initialHeaders=Object.assign({},n.initialHeaders,{[E.HttpHeaders.OfferThroughput]:r.throughput}),delete r.throughput),typeof r.partitionKey==\"string\"){if(!r.partitionKey.startsWith(\"/\"))throw new Error(\"Partition key must start with '/'\");r.partitionKey={paths:[r.partitionKey]}}(!r.partitionKey||!r.partitionKey.paths)&&(r.partitionKey={paths:[JA]}),this.clientContext.enableEncryption&&r.clientEncryptionPolicy&&(r.clientEncryptionPolicy.policyFormatVersion=r.clientEncryptionPolicy.policyFormatVersion??1,Nb(r.clientEncryptionPolicy,r.partitionKey));let a=await this.clientContext.create({body:r,path:o,resourceType:Q.container,resourceId:s,diagnosticNode:e,options:n}),A=new ka(this.database,a.result.id,this.clientContext,this.encryptionManager,a.result._rid);return this.clientContext.partitionKeyDefinitionCache[A.url]=a.result.partitionKey,new Ei(a.result,a.headers,a.code,A,G())}async createIfNotExists(e,r){if(!e||e.id===null||e.id===void 0)throw new Error(\"body parameter must be an object with an id property\");return O(async n=>{try{return await this.database.container(e.id).readInternal(n,r)}catch(i){if(i.code===V.NotFound){let o=await this.createInternal(n,e,r);return mt(o.headers,i.headers),o}else throw i}},this.clientContext)}readAll(e){return this.query(void 0,e)}};var Qi=class extends Ne{constructor(e,r,n,i,o){super(e,r,n,o),this.permission=i}permission};var os=class{user;id;clientContext;get url(){return Fb(this.user.database.id,this.user.id,this.id)}constructor(e,r,n){this.user=e,this.id=r,this.clientContext=n}async read(e){return O(async r=>{let n=_(this.url),i=Y(this.url),o=await this.clientContext.read({path:n,resourceType:Q.permission,resourceId:i,options:e,diagnosticNode:r});return new Qi(o.result,o.headers,o.code,this,G())},this.clientContext)}async replace(e,r){return O(async n=>{let i={};if(!Fe(e,i))throw i;let o=_(this.url),s=Y(this.url),a=await this.clientContext.replace({body:e,path:o,resourceType:Q.permission,resourceId:s,options:r,diagnosticNode:n});return new Qi(a.result,a.headers,a.code,this,G())},this.clientContext)}async delete(e){return O(async r=>{let n=_(this.url),i=Y(this.url),o=await this.clientContext.delete({path:n,resourceType:Q.permission,resourceId:i,options:e,diagnosticNode:r});return new Qi(o.result,o.headers,o.code,this,G())},this.clientContext)}};var td=class{user;clientContext;constructor(e,r){this.user=e,this.clientContext=r}query(e,r){let n=_(this.user.url,Q.permission),i=Y(this.user.url);return new Pe(this.clientContext,e,r,(o,s)=>this.clientContext.queryFeed({path:n,resourceType:Q.permission,resourceId:i,resultFn:a=>a.Permissions,query:e,options:s,diagnosticNode:o}))}readAll(e){return this.query(void 0,e)}async create(e,r){return O(async n=>{let i={};if(!Fe(e,i))throw i;let o=_(this.user.url,Q.permission),s=Y(this.user.url),a=await this.clientContext.create({body:e,path:o,resourceType:Q.permission,resourceId:s,diagnosticNode:n,options:r}),A=new os(this.user,a.result.id,this.clientContext);return new Qi(a.result,a.headers,a.code,A,G())},this.clientContext)}async upsert(e,r){return O(async n=>{let i={};if(!Fe(e,i))throw i;let o=_(this.user.url,Q.permission),s=Y(this.user.url),a=await this.clientContext.upsert({body:e,path:o,resourceType:Q.permission,resourceId:s,options:r,diagnosticNode:n}),A=new os(this.user,a.result.id,this.clientContext);return new Qi(a.result,a.headers,a.code,A,G())},this.clientContext)}};var wi=class extends Ne{constructor(e,r,n,i,o){super(e,r,n,o),this.user=i}user};var ss=class{database;id;clientContext;permissions;get url(){return Ly(this.database.id,this.id)}constructor(e,r,n){this.database=e,this.id=r,this.clientContext=n,this.permissions=new td(this,this.clientContext)}permission(e){return new os(this,e,this.clientContext)}async read(e){return O(async r=>{let n=_(this.url),i=Y(this.url),o=await this.clientContext.read({path:n,resourceType:Q.user,resourceId:i,options:e,diagnosticNode:r});return new wi(o.result,o.headers,o.code,this,G())},this.clientContext)}async replace(e,r){return O(async n=>{let i={};if(!Fe(e,i))throw i;let o=_(this.url),s=Y(this.url),a=await this.clientContext.replace({body:e,path:o,resourceType:Q.user,resourceId:s,options:r,diagnosticNode:n});return new wi(a.result,a.headers,a.code,this,G())},this.clientContext)}async delete(e){return O(async r=>{let n=_(this.url),i=Y(this.url),o=await this.clientContext.delete({path:n,resourceType:Q.user,resourceId:i,options:e,diagnosticNode:r});return new wi(o.result,o.headers,o.code,this,G())},this.clientContext)}};var rd=class{database;clientContext;constructor(e,r){this.database=e,this.clientContext=r}query(e,r){let n=_(this.database.url,Q.user),i=Y(this.database.url);return new Pe(this.clientContext,e,r,(o,s)=>this.clientContext.queryFeed({path:n,resourceType:Q.user,resourceId:i,resultFn:a=>a.Users,query:e,options:s,diagnosticNode:o}))}readAll(e){return this.query(void 0,e)}async create(e,r){return O(async n=>{let i={};if(!Fe(e,i))throw i;let o=_(this.database.url,Q.user),s=Y(this.database.url),a=await this.clientContext.create({body:e,path:o,resourceType:Q.user,resourceId:s,options:r,diagnosticNode:n}),A=new ss(this.database,a.result.id,this.clientContext);return new wi(a.result,a.headers,a.code,A,G())},this.clientContext)}async upsert(e,r){return O(async n=>{let i={};if(!Fe(e,i))throw i;let o=_(this.database.url,Q.user),s=Y(this.database.url),a=await this.clientContext.upsert({body:e,path:o,resourceType:Q.user,resourceId:s,options:r,diagnosticNode:n}),A=new ss(this.database,a.result.id,this.clientContext);return new wi(a.result,a.headers,a.code,A,G())},this.clientContext)}};var as=class extends Ne{constructor(e,r,n,i,o){super(e,r,n,o),this.database=i}database};var Da=class{client;id;clientContext;encryptionManager;containers;users;get url(){return Yg(this.id)}_rid;constructor(e,r,n,i,o){this.client=e,this.id=r,this.clientContext=n,this.encryptionManager=i,this.containers=new ed(this,this.clientContext,this.encryptionManager),this.users=new rd(this,this.clientContext),this._rid=o}container(e){return new ka(this,e,this.clientContext,this.encryptionManager)}user(e){return new ss(this,e,this.clientContext)}async read(e){return O(async r=>this.readInternal(r,e),this.clientContext)}async readInternal(e,r){let n=_(this.url),i=Y(this.url),o=await this.clientContext.read({path:n,resourceType:Q.database,resourceId:i,options:r,diagnosticNode:e});return new as(o.result,o.headers,o.code,this,G())}async delete(e){return O(async r=>{let n=_(this.url),i=Y(this.url),o=await this.clientContext.delete({path:n,resourceType:Q.database,resourceId:i,options:e,diagnosticNode:r});return new as(o.result,o.headers,o.code,this,G())},this.clientContext)}async readOffer(e={}){return O(async r=>{let{resource:n}=await ei(async A=>this.readInternal(A),r,_r.DatabaseLookUp),i=\"/offers\",o=n._self,s=await this.clientContext.queryFeed({path:i,resourceId:\"\",resourceType:Q.offer,query:`SELECT * from root where root.resource = \"${o}\"`,resultFn:A=>A.Offers,options:e,diagnosticNode:r}),a=s.result[0]?new ao(this.client,s.result[0].id,this.clientContext):void 0;return new Ci(s.result[0],s.headers,s.code,G(),a)},this.clientContext)}async createClientEncryptionKey(e,r,n){if(e==null||!e.trim())throw new Error(\"encryption key id cannot be null or empty\");if(r!==mc.AEAD_AES_256_CBC_HMAC_SHA256)throw new Error(`Invalid encryption algorithm '${r}' passed.`);if(!n)throw new Error(\"encryptionKeyWrapMetadata cannot be null.\");if(n.algorithm!==ts.RSA_OAEP)throw new Error(`Invalid key wrap algorithm '${n.algorithm}' passed.`);if(!this.clientContext.enableEncryption)throw new Error(\"Creating a client encryption key requires the use of an encryption-enabled client.\");let i=this.encryptionManager.keyEncryptionKeyCache.getOrCreate(n.name,n.value,this.encryptionManager.encryptionKeyStoreProvider),s=(await this.encryptionManager.protectedDataEncryptionKeyCache.getOrCreate(e,i)).encryptedValue,a={id:e,encryptionAlgorithm:r,keyWrapMetadata:n,wrappedDataEncryptionKey:s.toString(\"base64\")};return O(async A=>{let c=_(this.url,Q.clientencryptionkey),l=Y(this.url),u=await this.clientContext.create({body:a,path:c,resourceType:Q.clientencryptionkey,resourceId:l,diagnosticNode:A}),d={id:u.result.id,encryptionAlgorithm:u.result.encryptionAlgorithm,etag:u.result._etag,wrappedDataEncryptionKey:new Uint8Array(Buffer.from(u.result.wrappedDataEncryptionKey,\"base64\")),encryptionKeyWrapMetadata:u.result.keyWrapMetadata};return new es(u.result,u.headers,u.code,d,G())},this.clientContext)}async readClientEncryptionKey(e){if(e==null||!e.trim())throw new v(\"encryption key id cannot be null or empty\");return O(async r=>{if(!this._rid){let a=await this.readInternal(r);if(!a||!a.resource)throw new v(`Error reading database with id ${e}`);this._rid=a.resource._rid}let n=_(this.url,Q.clientencryptionkey),i=Y(this.url),o=await this.clientContext.read({path:n+`/${e}`,resourceType:Q.clientencryptionkey,resourceId:i+`/${Q.clientencryptionkey}/${e}`,options:{databaseRid:this._rid},diagnosticNode:r});if(!o||!o.result)throw new v(`Error reading client encryption key with id ${e}`);let s={id:o.result.id,encryptionAlgorithm:o.result.encryptionAlgorithm,etag:o.result._etag,wrappedDataEncryptionKey:new Uint8Array(Buffer.from(o.result.wrappedDataEncryptionKey,\"base64\")),encryptionKeyWrapMetadata:o.result.keyWrapMetadata};return new es(o.result,o.headers,o.code,s,G())},this.clientContext)}async rewrapClientEncryptionKey(e,r){if(e==null||!e.trim())throw new v(\"encryption key id cannot be null or empty\");if(!r)throw new v(\"encryptionKeyWrapMetadata cannot be null.\");if(r.algorithm!==ts.RSA_OAEP)throw new v(`Invalid key wrap algorithm '${r.algorithm}' passed.`);if(!this.clientContext.enableEncryption)throw new v(\"Rewrapping a client encryption key requires the use of an encryption-enabled client.\");let n=await this.readClientEncryptionKey(e);if(!n||!n.clientEncryptionKeyProperties)throw new v(`Error reading client encryption key with id ${e}`);let i=n.clientEncryptionKeyProperties,o=this.encryptionManager.keyEncryptionKeyCache.getOrCreate(i.encryptionKeyWrapMetadata.name,i.encryptionKeyWrapMetadata.value,this.encryptionManager.encryptionKeyStoreProvider),s=await o.unwrapEncryptionKey(Buffer.from(i.wrappedDataEncryptionKey));o=this.encryptionManager.keyEncryptionKeyCache.getOrCreate(r.name,r.value,this.encryptionManager.encryptionKeyStoreProvider);let a=await o.wrapEncryptionKey(s);i={id:e,encryptionAlgorithm:i.encryptionAlgorithm,etag:i.etag,wrappedDataEncryptionKey:a,encryptionKeyWrapMetadata:r};let A={id:e,encryptionAlgorithm:i.encryptionAlgorithm,keyWrapMetadata:r,wrappedDataEncryptionKey:a.toString(\"base64\")};return O(async c=>{let l=_(this.url,Q.clientencryptionkey),u=Y(this.url),d={accessCondition:{type:\"IfMatch\",condition:i.etag}},h=await this.clientContext.replace({body:A,path:l+`/${e}`,resourceType:Q.clientencryptionkey,resourceId:u+`/${Q.clientencryptionkey}/${e}`,options:d,diagnosticNode:c});if(!h||!h.result)throw new v(`Error rewrapping client encryption key with id ${e}`);let g={id:h.result.id,encryptionAlgorithm:h.result.encryptionAlgorithm,etag:h.result._etag,wrappedDataEncryptionKey:new Uint8Array(Buffer.from(h.result.wrappedDataEncryptionKey,\"base64\")),encryptionKeyWrapMetadata:h.result.keyWrapMetadata};return new es(h.result,h.headers,h.code,g,G())},this.clientContext)}};var nd=class{client;clientContext;encryptionManager;constructor(e,r,n){this.client=e,this.clientContext=r,this.encryptionManager=n}query(e,r){let n=(i,o)=>this.clientContext.queryFeed({path:\"/dbs\",resourceType:Q.database,resourceId:\"\",resultFn:s=>s.Databases,query:e,options:o,diagnosticNode:i});return new Pe(this.clientContext,e,r,n)}async create(e,r={}){return O(async n=>this.createInternal(n,e,r),this.clientContext)}async createInternal(e,r,n={}){let i={};if(!Fe(r,i))throw i;if(Dp(r),r.maxThroughput){let A={maxThroughput:r.maxThroughput};r.autoUpgradePolicy&&(A.autoUpgradePolicy=r.autoUpgradePolicy);let c=JSON.stringify(A);n.initialHeaders=Object.assign({},n.initialHeaders,{[E.HttpHeaders.AutoscaleSettings]:c}),delete r.maxThroughput,delete r.autoUpgradePolicy}r.throughput&&(n.initialHeaders=Object.assign({},n.initialHeaders,{[E.HttpHeaders.OfferThroughput]:r.throughput}),delete r.throughput);let s=await this.clientContext.create({body:r,path:\"/dbs\",resourceType:Q.database,resourceId:void 0,diagnosticNode:e,options:n}),a=new Da(this.client,r.id,this.clientContext,this.encryptionManager,s.result._rid);return new as(s.result,s.headers,s.code,a,G())}async createIfNotExists(e,r){if(!e||e.id===null||e.id===void 0)throw new Error(\"body parameter must be an object with an id property\");return O(async n=>{try{return await this.client.database(e.id).readInternal(n,r)}catch(i){if(i.code===V.NotFound){let o=await this.createInternal(n,e,r);return mt(o.headers,i.headers),o}else throw i}},this.clientContext)}readAll(e){return this.query(void 0,e)}};var sr;(function(t){t.request=\"request\",t.operation=\"operation\"})(sr||(sr={}));async function cn(t,e,r,n){if(!e.plugins)return r(e,t,void 0);let i=0,o=s=>++i>=s.plugins.length?r(e,t,void 0):s.plugins[i].on!==n?o(e):s.plugins[i].plugin(s,t,o);return e.plugins[i].on!==n?o(e):e.plugins[i].plugin(e,t,o)}var fV=10004,pV=10009,EV=10013,CV=10014,mV=10022,yV=10035,IV=10036,BV=10048,QV=10054,wV=10058,RV=10060,SV=10061,TV=10063,bV=10064,kV=10065,DV=\"ECONNRESET\",xV=\"EPIPE\",vV=[fV,pV,EV,CV,mV,yV,IV,BV,QV,wV,RV,SV,TV,bV,kV,DV,Vo,xV];function NV(t,e){return(t===X.Read||t===X.Query)&&vV.includes(e)}var xp=class{operationType;maxTries=10;currentRetryAttemptCount=0;retryAfterInMs=1e3;constructor(e){this.operationType=e}async shouldRetry(e,r){return e&&this.currentRetryAttemptCount<this.maxTries&&NV(this.operationType,e.code)?(r.addData({successfulRetryPolicy:\"default\"}),this.currentRetryAttemptCount++,!0):!1}};var vp=class t{globalEndpointManager;resourceType;operationType;globalPartitionEndpointManager;currentRetryAttemptCount;retryAfterInMs;maxTries;static maxTries=120;static retryAfterInMs=1e3;constructor(e,r,n,i){this.globalEndpointManager=e,this.resourceType=r,this.operationType=n,this.globalPartitionEndpointManager=i,this.maxTries=t.maxTries,this.currentRetryAttemptCount=0,this.retryAfterInMs=t.retryAfterInMs}async shouldRetry(e,r,n,i,o){return!e||!n||!i||!this.globalEndpointManager.enableEndpointDiscovery?!1:this.globalPartitionEndpointManager&&await this.globalPartitionEndpointManager.tryPartitionLevelFailover(o,r)?!0:this.currentRetryAttemptCount>=this.maxTries?!1:(this.currentRetryAttemptCount++,n.retryCount=this.currentRetryAttemptCount,n.clearSessionTokenNotAvailable=!1,n.retryRequestOnPreferredLocations=!1,r.addData({successfulRetryPolicy:\"endpointDiscovery\"}),this.resourceType===Q.none&&this.operationType===X.Read||(zt(this.operationType)?await this.globalEndpointManager.markCurrentLocationUnavailableForRead(r,i):await this.globalEndpointManager.markCurrentLocationUnavailableForWrite(r,i)),!0)}};var Np=class{globalEndpointManager;resourceType;operationType;connectionPolicy;currentRetryAttemptCount=0;retryAfterInMs=0;constructor(e,r,n,i){this.globalEndpointManager=e,this.resourceType=r,this.operationType=n,this.connectionPolicy=i}async shouldRetry(e,r,n){if(!e||!n||!this.connectionPolicy.enableEndpointDiscovery)return!1;if(this.globalEndpointManager.canUseMultipleWriteLocations(this.resourceType,this.operationType)){let i=zt(this.operationType)?await this.globalEndpointManager.getReadEndpoints():await this.globalEndpointManager.getWriteEndpoints();return this.currentRetryAttemptCount>i.length?!1:(this.currentRetryAttemptCount++,n.retryCount++,n.retryRequestOnPreferredLocations=this.currentRetryAttemptCount>1,n.clearSessionTokenNotAvailable=this.currentRetryAttemptCount===i.length,r.addData({successfulRetryPolicy:\"session\"}),!0)}else return this.currentRetryAttemptCount>1?!1:(this.currentRetryAttemptCount++,n.retryCount++,n.retryRequestOnPreferredLocations=!1,n.clearSessionTokenNotAvailable=!0,r.addData({successfulRetryPolicy:\"session\"}),!0)}};var Pp=class{globalEndpointManager;headers;methodType;resourceType;operationType;enableEndPointDiscovery;globalPartitionEndpointManager;maxRetryAttemptCount=120;maxServiceUnavailableRetryCount=1;retryAfterInMs=0;failoverRetryCount=0;request;locationEndpoint;constructor(e,r,n,i,o,s,a){this.globalEndpointManager=e,this.headers=r,this.methodType=n,this.resourceType=i,this.operationType=o,this.enableEndPointDiscovery=s,this.globalPartitionEndpointManager=a}isValidRequestForTimeoutError(){let e=E.HttpHeaders.IsQuery in this.headers,r=E.HttpHeaders.IsQueryPlan in this.headers;return!!(this.methodType===ht.get||e||r)}async shouldRetry(e,r,n,i,o){if(!e||!n||!i||!this.enableEndPointDiscovery||(o&&this.globalPartitionEndpointManager&&await this.globalPartitionEndpointManager.tryPartitionLevelFailover(o,r),e.code===Vo&&!this.isValidRequestForTimeoutError())||e.code===V.ServiceUnavailable&&this.failoverRetryCount>=this.maxServiceUnavailableRetryCount||this.failoverRetryCount>=this.maxRetryAttemptCount)return!1;let s=this.globalEndpointManager.canUseMultipleWriteLocations(this.resourceType,this.operationType),a=zt(this.operationType);return!s&&!a&&!this.globalEndpointManager.enablePartitionLevelFailover?!1:(this.failoverRetryCount++,n.retryLocationServerIndex=await this.findEndpointIndex(this.failoverRetryCount),r.addData({successfulRetryPolicy:\"timeout-failover\"}),!0)}async findEndpointIndex(e){let r=this.globalEndpointManager.preferredLocationsCount,n=zt(this.operationType),i=0;if(r!==0)i=e%r;else if(n){let o=await this.globalEndpointManager.getReadEndpoints();o&&o.length>0&&(i=e%o.length)}else{let o=await this.globalEndpointManager.getWriteEndpoints();o&&o.length>0&&(i=e%o.length)}return i}};async function gB({diagnosticNode:t,retryContext:e={retryCount:0},retryPolicies:r,requestContext:n,executeRequest:i}){return fi(async o=>{o.addData({requestAttempNumber:e.retryCount}),r||(r={endpointDiscoveryRetryPolicy:new vp(n.globalEndpointManager,n.resourceType,n.operationType,n.globalPartitionEndpointManager),resourceThrottleRetryPolicy:new Cc(n.connectionPolicy.retryOptions??{}),sessionReadRetryPolicy:new Np(n.globalEndpointManager,n.resourceType,n.operationType,n.connectionPolicy),defaultRetryPolicy:new xp(n.operationType),timeoutFailoverRetryPolicy:new Pp(n.globalEndpointManager,n.headers,n.method,n.resourceType,n.operationType,n.connectionPolicy.enableEndpointDiscovery,n.globalPartitionEndpointManager)}),e&&e.clearSessionTokenNotAvailable&&(n.client.clearSessionToken(n.path),delete n.headers[\"x-ms-session-token\"]),e&&e.retryLocationServerIndex?n.endpoint=await n.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:o,resourceType:n.resourceType,operationType:n.operationType,startServiceEndpointIndex:e.retryLocationServerIndex,excludedLocations:n.options?.excludedLocations}):n.endpoint=await n.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:o,resourceType:n.resourceType,operationType:n.operationType,startServiceEndpointIndex:0,excludedLocations:n.options?.excludedLocations});let s=xt(),a=n.headers[E.HttpHeaders.CorrelatedActivityId];n.globalPartitionEndpointManager&&(n=await n.globalPartitionEndpointManager.tryAddPartitionLevelLocationOverride(n,o));try{let A=await i(o,n);return A.headers[E.ThrottleRetryCount]=r.resourceThrottleRetryPolicy.currentRetryAttemptCount,A.headers[E.ThrottleRetryWaitTimeInMs]=r.resourceThrottleRetryPolicy.cummulativeWaitTimeinMs,a&&(A.headers[E.HttpHeaders.CorrelatedActivityId]=a),A}catch(A){let c=null,l=A.headers||{};a&&(l[E.HttpHeaders.CorrelatedActivityId]=a),A.code===V.ENOTFOUND||A.code===\"REQUEST_SEND_ERROR\"||A.code===V.Forbidden&&(A.substatus===rt.DatabaseAccountNotFound||A.substatus===rt.WriteForbidden)?c=r.endpointDiscoveryRetryPolicy:A.code===V.TooManyRequests&&!PV(n)?c=r.resourceThrottleRetryPolicy:A.code===V.NotFound&&A.substatus===rt.ReadSessionNotAvailable?c=r.sessionReadRetryPolicy:A.code===V.ServiceUnavailable||A.code===Vo?c=r.timeoutFailoverRetryPolicy:c=r.defaultRetryPolicy;let u=await c.shouldRetry(A,o,e,n.endpoint,n);if(u){n.retryCount++;let d=u[1];return d!==void 0&&(n.endpoint=d),o.recordFailedNetworkCall(s,n,e.retryCount,A.code,A.subsstatusCode,l),await ra(c.retryAfterInMs),gB({diagnosticNode:t,executeRequest:i,requestContext:n,retryContext:e,retryPolicies:r})}else throw l[E.ThrottleRetryCount]=r.resourceThrottleRetryPolicy.currentRetryAttemptCount,l[E.ThrottleRetryWaitTimeInMs]=r.resourceThrottleRetryPolicy.cummulativeWaitTimeinMs,A.headers={...A.headers,...l},A}},t,_e.HTTP_REQUEST)}function PV(t){return t.operationType===\"batch\"&&!t.headers[E.HttpHeaders.IsBatchAtomic]}var p0=Ae(require(\"node:https\"),1),E0=Ae(require(\"node:http\"),1),C0=new p0.default.Agent({keepAlive:!0,minVersion:\"TLSv1.2\"}),m0=new E0.default.Agent({keepAlive:!0});var fB;function y0(){return fB||(fB=Nc()),fB}var FV=ve(\"RequestHandler\");async function LV(t,e){return cn(t,e,OV,sr.request)}async function OV(t,e){let r=new AbortController,n=r.signal,i=t.options&&t.options.abortSignal;i&&(i.aborted?r.abort():i.addEventListener(\"abort\",()=>{r.abort()}));let o=t.connectionPolicy.requestTimeout;(t.globalEndpointManager.enablePartitionLevelFailover||t.globalEndpointManager.enablePartitionLevelCircuitBreaker)&&t.partitionKeyRangeId&&t.resourceType===Q.item&&zt(t.operationType)&&(o=Math.min(t.connectionPolicy.requestTimeout,E.RequestTimeoutForReadsInMs));let s=setTimeout(()=>{r.abort()},o),a;t.body&&(t.body=Bu(t.body));let A=t.httpClient??y0(),c=Gg(t.endpoint,t.path),l=Bi(t.headers),u=An({url:c,headers:l,method:t.method,abortSignal:n,body:t.body});if(t.requestAgent)u.agent=t.requestAgent;else{let f=new URL(c);u.agent=f.protocol===\"http:\"?m0:C0,u.allowInsecureConnection=f.protocol===\"http:\"}let d=xt();try{t.pipeline?a=await t.pipeline.sendRequest(A,u):a=await A.sendRequest(u)}catch(f){throw f.name===\"AbortError\"?i&&i.aborted===!0?(clearTimeout(s),f):new hu(`Timeout Error! Request took more than ${t.connectionPolicy.requestTimeout} ms`):f}clearTimeout(s);let h=a.status===204||a.status===304||a.bodyAsText===\"\"?null:JSON.parse(a.bodyAsText),g=a.headers.toJSON(),p=g[E.HttpHeaders.SubStatus]?parseInt(g[E.HttpHeaders.SubStatus],10):void 0;if(e.recordSuccessfulNetworkCall(d,t,a,p,c),a.status>=400){let f=new v(h.message);throw FV.warning(a.status+\" \"+t.endpoint+\" \"+t.path+\" \"+h.message),f.code=a.status,f.body=h,f.headers=g,E.HttpHeaders.ActivityId in g&&(f.activityId=g[E.HttpHeaders.ActivityId]),E.HttpHeaders.SubStatus in g&&(f.substatus=p),E.HttpHeaders.RetryAfterInMs in g&&(f.retryAfterInMs=parseInt(g[E.HttpHeaders.RetryAfterInMs],10),Object.defineProperty(f,\"retryAfterInMilliseconds\",{get:()=>f.retryAfterInMs})),f}return{headers:g,result:h,code:a.status,substatus:p}}async function UV(t,e){if(t.body&&(t.body=Bu(t.body),!t.body))throw new Error(\"parameter data must be a javascript object, string, or Buffer\");return fi(async r=>gB({diagnosticNode:r,requestContext:t,executeRequest:LV}),e,_e.REQUEST_ATTEMPTS)}var ln={request:UV};function pB(t){return Buffer.from(t,\"base64\").toString(\"binary\")}var Mp=class t{version;globalLsn;localLsnByregion;sessionToken;static SEGMENT_SEPARATOR=\"#\";static REGION_PROGRESS_SEPARATOR=\"=\";constructor(e,r,n,i){if(this.version=e,this.globalLsn=r,this.localLsnByregion=n,this.sessionToken=i,!this.sessionToken){let o=[];for(let[a,A]of this.localLsnByregion.entries())o.push(`${a}${t.REGION_PROGRESS_SEPARATOR}${A}`);let s=o.join(t.SEGMENT_SEPARATOR);s===\"\"?this.sessionToken=`${this.version}${t.SEGMENT_SEPARATOR}${this.globalLsn}`:this.sessionToken=`${this.version}${t.SEGMENT_SEPARATOR}${this.globalLsn}${t.SEGMENT_SEPARATOR}${s}`}}static create(e){let[r,n,...i]=e.split(t.SEGMENT_SEPARATOR),o=parseInt(r,10),s=parseFloat(n);if(typeof o!=\"number\"||typeof s!=\"number\")return null;let a=new Map;for(let A of i){let[c,l]=A.split(t.REGION_PROGRESS_SEPARATOR);if(!c||!l)return null;let u=parseInt(c,10),d;try{d=l}catch{return null}if(typeof u!=\"number\")return null;a.set(u,d)}return new t(o,s,a,e)}equals(e){return e?this.version===e.version&&this.globalLsn===e.globalLsn&&this.areRegionProgressEqual(e.localLsnByregion):!1}merge(e){if(e==null)throw new Error(\"other (Vector Session Token) must not be null\");if(this.version===e.version&&this.localLsnByregion.size!==e.localLsnByregion.size)throw new Error(`Compared session tokens ${this.sessionToken} and ${e.sessionToken} have unexpected regions`);let[r,n]=this.version<e.version?[e,this]:[this,e],i=new Map;for(let[o,s]of r.localLsnByregion.entries()){let a=n.localLsnByregion.get(o);if(a)i.set(o,_V(s,a));else{if(this.version===e.version)throw new Error(`Compared session tokens have unexpected regions. Session 1: ${this.sessionToken} - Session 2: ${this.sessionToken}`);i.set(o,s)}}return new t(Math.max(this.version,e.version),Math.max(this.globalLsn,e.globalLsn),i)}toString(){return this.sessionToken}areRegionProgressEqual(e){if(this.localLsnByregion.size!==e.size)return!1;for(let[r,n]of this.localLsnByregion.entries()){let i=e.get(r);if(n!==i)return!1}return!0}};function _V(t,e){return t.length===e.length?t>e?t:e:t.length>e.length?t:e}var Fp=class t{collectionNameToCollectionResourceId;collectionResourceIdToSessionTokens;static EMPTY_SESSION_TOKEN=\"\";static SESSION_TOKEN_SEPARATOR=\",\";static SESSION_TOKEN_PARTITION_SPLITTER=\":\";constructor(e=new Map,r=new Map){this.collectionNameToCollectionResourceId=e,this.collectionResourceIdToSessionTokens=r}get(e){if(!e)throw new Error(\"request cannot be null\");let r=qg(na(e.resourceAddress)),n=this.getPartitionKeyRangeIdToTokenMap(r);return t.getCombinedSessionTokenString(n)}remove(e){let r,n=na(e.resourceAddress),i=qg(n);i&&(r=this.collectionNameToCollectionResourceId.get(i),this.collectionNameToCollectionResourceId.delete(i)),r!==void 0&&this.collectionResourceIdToSessionTokens.delete(r)}set(e,r){if(!r||t.isReadingFromMaster(e.resourceType,e.operationType))return;let n=r[E.HttpHeaders.SessionToken];if(!n)return;let i=this.getContainerName(e,r),o=e.isNameBased&&r[E.HttpHeaders.OwnerId]||e.resourceId;if(o&&i&&this.validateOwnerID(o)){this.collectionResourceIdToSessionTokens.has(o)||this.collectionResourceIdToSessionTokens.set(o,new Map),this.collectionNameToCollectionResourceId.has(i)||this.collectionNameToCollectionResourceId.set(i,o);let s=this.collectionResourceIdToSessionTokens.get(o);t.compareAndSetToken(n,s)}}validateOwnerID(e){return pB(e.replace(/-/g,\"/\")).length===8}getPartitionKeyRangeIdToTokenMap(e){let r=null;return e&&this.collectionNameToCollectionResourceId.has(e)&&(r=this.collectionResourceIdToSessionTokens.get(this.collectionNameToCollectionResourceId.get(e))),r}static getCombinedSessionTokenString(e){if(!e||e.size===0)return t.EMPTY_SESSION_TOKEN;let r=\"\";for(let[n,i]of e.entries())r+=n+t.SESSION_TOKEN_PARTITION_SPLITTER+i.toString()+t.SESSION_TOKEN_SEPARATOR;return r.slice(0,-1)}static compareAndSetToken(e,r){if(!e)return;let n=e.split(t.SESSION_TOKEN_SEPARATOR);for(let i of n){let o=i.split(t.SESSION_TOKEN_PARTITION_SPLITTER);if(o.length!==2)return;let s=o[0],a=Mp.create(o[1]),A=r.get(s)?r.get(s).merge(a):a;r.set(s,A)}}static isReadingFromMaster(e,r){return e===E.Path.OffersPathSegment||e===E.Path.DatabasesPathSegment||e===E.Path.UsersPathSegment||e===E.Path.PermissionsPathSegment||e===E.Path.TopologyPathSegment||e===E.Path.DatabaseAccountPathSegment||e===E.Path.PartitionKeyRangesPathSegment||e===E.Path.CollectionsPathSegment&&r===X.Query}getContainerName(e,r){let n=r[E.HttpHeaders.OwnerFullName];return n||(n=na(e.resourceAddress)),qg(n)}};function I0(t){return new URL(t)}function B0(t){return new URL(t).href.replace(/\\/$/,\"\")}function co(t){return t.replace(/\\s+/g,\"\").toLowerCase()}function Q0(t){let e=Object.keys(KA),r=[];return t.disableNonStreamingOrderByQuery&&r.push(KA.NonStreamingOrderBy),t.disableHybridSearchQueryPlanOptimization&&r.push(KA.HybridSearchSkipOrderByRewrite),e.filter(n=>!r.includes(n)).join(\",\")}var Lp=class{logger=ve(\"CosmosDBDiagnostics\");async write(e){this.logger.verbose(e)}},Op=class{async write(e){}};var Up=class{format(e){return JSON.stringify(e)}};function _p(t,e){let r=`${HV()} ${E.SDKName}/${E.SDKVersion}`;return e&&(r=r+\" \"+e),t&&t.userAgentSuffix&&(r=r+\" \"+t.userAgentSuffix),r}function HV(){let t=\"<environment undetectable>\";return globalThis.navigator&&globalThis.navigator.userAgent&&(t=globalThis.navigator.userAgent),globalThis.process&&globalThis.process.version&&(t=`Node.js/${process.version.slice(1)} (${process.platform}; ${process.arch})`),t}var EB=ve(\"ClientContext\"),w0=\"application/query+json\",yt=E.HttpHeaders,id=class{cosmosClientOptions;globalEndpointManager;clientConfig;diagnosticLevel;globalPartitionEndpointManager;sessionContainer;connectionPolicy;pipeline;diagnosticWriter;diagnosticFormatter;partitionKeyDefinitionCache;partitionKeyRangeCache;enableEncryption=!1;constructor(e,r,n,i,o){if(this.cosmosClientOptions=e,this.globalEndpointManager=r,this.clientConfig=n,this.diagnosticLevel=i,this.globalPartitionEndpointManager=o,e.clientEncryptionOptions&&(this.enableEncryption=!0),this.connectionPolicy=e.connectionPolicy,this.sessionContainer=new Fp,this.partitionKeyDefinitionCache={},this.pipeline=null,e.aadCredentials){this.pipeline=Dc();let a=`${B0(e.endpoint)}/.default`,A=e.aadScope||a,c=Bb;this.pipeline.addPolicy(ba({credential:e.aadCredentials,scopes:A,challengeCallbacks:{async authorizeRequest({request:l,getAccessToken:u}){try{let d=await u([A],{}),h=`${Py}${d.token}`;l.headers.set(E.HttpHeaders.Authorization,h)}catch(d){if(!e.aadScope&&d?.message?.includes(Qb))try{let h=await u([c],{}),g=`${Py}${h.token}`;l.headers.set(E.HttpHeaders.Authorization,g)}catch{throw d}else throw d}}}}))}this.initializeDiagnosticSettings(i),this.partitionKeyRangeCache=new sc(this)}async read({path:e,resourceType:r,resourceId:n,options:i={},partitionKey:o,diagnosticNode:s,partitionKeyRangeId:a}){try{let A={...this.getContextDerivedPropsForRequestCreation(),method:ht.get,path:e,operationType:X.Read,resourceId:n,options:i,resourceType:r,partitionKey:o};s.addData({operationType:X.Read,resourceType:r}),A.headers=await this.buildHeaders(A),A.partitionKeyRangeId=a,r===Q.clientencryptionkey&&(A.headers[yt.AllowCachedReadsHeader]=!0,i.databaseRid&&(A.headers[yt.DatabaseRidHeader]=i.databaseRid)),this.applySessionToken(A),A.endpoint=await this.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:s,resourceType:A.resourceType,operationType:A.operationType,startServiceEndpointIndex:0,excludedLocations:i?.excludedLocations});let c=await cn(s,A,ln.request,sr.operation);return this.captureSessionToken(void 0,e,X.Read,c.headers),c}catch(A){throw this.captureSessionToken(A,e,X.Upsert,A.headers),A}}async queryFeed({path:e,resourceType:r,resourceId:n,resultFn:i,query:o,options:s,diagnosticNode:a,partitionKeyRangeId:A,partitionKey:c,startEpk:l,endEpk:u,correlatedActivityId:d}){let h={...this.getContextDerivedPropsForRequestCreation(),method:ht.get,path:e,operationType:X.Query,partitionKeyRangeId:A,resourceId:n,resourceType:r,options:s,body:o,partitionKey:c};a.addData({operationType:X.Query,resourceType:r});let g=pr();o!==void 0&&(h.method=ht.post),h.endpoint=await this.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:a,resourceType:h.resourceType,operationType:h.operationType,startServiceEndpointIndex:0,excludedLocations:s?.excludedLocations}),h.headers=await this.buildHeaders(h),l!==void 0&&u!==void 0&&(h.headers[yt.StartEpk]=l,h.headers[yt.EndEpk]=u,h.headers[yt.ReadFeedKeyType]=\"EffectivePartitionKeyRange\"),o!==void 0&&(d!==void 0&&(h.headers[yt.CorrelatedActivityId]=d),h.headers[yt.IsQuery]=\"true\",h.headers[yt.ContentType]=w0,typeof o==\"string\"&&(h.body={query:o})),this.applySessionToken(h),EB.info(\"query \"+g+\" started\"+(h.partitionKeyRangeId?\" pkrid: \"+h.partitionKeyRangeId:\"\")),EB.verbose(h);let p=Date.now(),f=await ln.request(h,a);return EB.info(\"query \"+g+\" finished - \"+(Date.now()-p)+\"ms\"),this.captureSessionToken(void 0,e,X.Query,f.headers),this.processQueryFeedResponse(f,!!o,i)}async getQueryPlan(e,r,n,i,o={},s,a){let A={...this.getContextDerivedPropsForRequestCreation(),method:ht.post,path:e,operationType:X.Read,resourceId:n,resourceType:r,options:o,body:i};s.addData({operationType:X.Read,resourceType:r}),A.endpoint=await this.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:s,resourceType:A.resourceType,operationType:A.operationType,startServiceEndpointIndex:0,excludedLocations:o?.excludedLocations}),A.headers=await this.buildHeaders(A),a!==void 0&&(A.headers[yt.CorrelatedActivityId]=a),A.headers[yt.IsQueryPlan]=\"True\",A.headers[yt.QueryVersion]=\"1.4\",A.headers[yt.ContentType]=w0,A.headers[yt.SupportedQueryFeatures]=Q0(o),typeof i==\"string\"&&(A.body={query:i}),this.applySessionToken(A);let c=await ln.request(A,s);return this.captureSessionToken(void 0,e,X.Query,c.headers),c}queryPartitionKeyRanges(e,r,n){let i=_(e,Q.pkranges),o=Y(e),s=async(a,A)=>await this.queryFeed({path:i,resourceType:Q.pkranges,resourceId:o,resultFn:l=>l.PartitionKeyRanges,query:r,options:A,diagnosticNode:a});return new Pe(this,r,n,s)}async delete({path:e,resourceType:r,resourceId:n,options:i={},partitionKey:o,method:s=ht.delete,diagnosticNode:a,partitionKeyRangeId:A}){try{let c={...this.getContextDerivedPropsForRequestCreation(),method:s,operationType:X.Delete,path:e,resourceType:r,options:i,resourceId:n,partitionKey:o};a.addData({operationType:X.Delete,resourceType:r}),c.headers=await this.buildHeaders(c),c.partitionKeyRangeId=A,this.applySessionToken(c),c.endpoint=await this.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:a,resourceType:c.resourceType,operationType:c.operationType,startServiceEndpointIndex:0,excludedLocations:i?.excludedLocations});let l=await cn(a,c,ln.request,sr.operation);return My(e).type!==\"colls\"?this.captureSessionToken(void 0,e,X.Delete,l.headers):this.clearSessionToken(e),l}catch(c){throw this.captureSessionToken(c,e,X.Upsert,c.headers),c}}async patch({body:e,path:r,resourceType:n,resourceId:i,options:o={},partitionKey:s,diagnosticNode:a,partitionKeyRangeId:A}){try{let c={...this.getContextDerivedPropsForRequestCreation(),method:ht.patch,operationType:X.Patch,path:r,resourceType:n,body:e,resourceId:i,options:o,partitionKey:s};a.addData({operationType:X.Patch,resourceType:n}),c.headers=await this.buildHeaders(c),c.partitionKeyRangeId=A,this.applySessionToken(c),c.endpoint=await this.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:a,resourceType:c.resourceType,operationType:c.operationType,startServiceEndpointIndex:0,excludedLocations:o?.excludedLocations});let l=await cn(a,c,ln.request,sr.operation);return this.captureSessionToken(void 0,r,X.Patch,l.headers),l}catch(c){throw this.captureSessionToken(c,r,X.Upsert,c.headers),c}}async create({body:e,path:r,resourceType:n,resourceId:i,diagnosticNode:o,options:s={},partitionKey:a,partitionKeyRangeId:A}){try{let c={...this.getContextDerivedPropsForRequestCreation(),method:ht.post,operationType:X.Create,path:r,resourceType:n,resourceId:i,body:e,options:s,partitionKey:a};o.addData({operationType:X.Create,resourceType:n}),c.headers=await this.buildHeaders(c),c.partitionKeyRangeId=A,this.applySessionToken(c),c.endpoint=await this.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:o,resourceType:c.resourceType,operationType:c.operationType,startServiceEndpointIndex:0,excludedLocations:s?.excludedLocations});let l=await cn(o,c,ln.request,sr.operation);return this.captureSessionToken(void 0,r,X.Create,l.headers),l}catch(c){throw this.captureSessionToken(c,r,X.Upsert,c.headers),c}}processQueryFeedResponse(e,r,n){return r?{result:n(e.result),headers:e.headers,code:e.code}:{result:n(e.result).map(o=>o),headers:e.headers,code:e.code}}applySessionToken(e){let r=this.getSessionParams(e.path);if(e.headers&&e.headers[yt.SessionToken])return;let n=e.headers[yt.ConsistencyLevel];if(n&&n===ia.Session&&r.resourceAddress){let i=this.sessionContainer.get(r);i&&(e.headers[yt.SessionToken]=i)}}async replace({body:e,path:r,resourceType:n,resourceId:i,options:o={},partitionKey:s,diagnosticNode:a,partitionKeyRangeId:A}){try{let c={...this.getContextDerivedPropsForRequestCreation(),method:ht.put,operationType:X.Replace,path:r,resourceType:n,body:e,resourceId:i,options:o,partitionKey:s};a.addData({operationType:X.Replace,resourceType:n}),c.headers=await this.buildHeaders(c),c.partitionKeyRangeId=A,this.applySessionToken(c),c.endpoint=await this.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:a,resourceType:c.resourceType,operationType:c.operationType,startServiceEndpointIndex:0,excludedLocations:o?.excludedLocations});let l=await cn(a,c,ln.request,sr.operation);return this.captureSessionToken(void 0,r,X.Replace,l.headers),l}catch(c){throw this.captureSessionToken(c,r,X.Upsert,c.headers),c}}async upsert({body:e,path:r,resourceType:n,resourceId:i,options:o={},partitionKey:s,diagnosticNode:a,partitionKeyRangeId:A}){try{let c={...this.getContextDerivedPropsForRequestCreation(),method:ht.post,operationType:X.Upsert,path:r,resourceType:n,body:e,resourceId:i,options:o,partitionKey:s};a.addData({operationType:X.Upsert,resourceType:n}),c.headers=await this.buildHeaders(c),c.partitionKeyRangeId=A,c.headers[yt.IsUpsert]=!0,this.applySessionToken(c),c.endpoint=await this.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:a,resourceType:c.resourceType,operationType:c.operationType,startServiceEndpointIndex:0,excludedLocations:o?.excludedLocations});let l=await cn(a,c,ln.request,sr.operation);return this.captureSessionToken(void 0,r,X.Upsert,l.headers),l}catch(c){throw this.captureSessionToken(c,r,X.Upsert,c.headers),c}}async execute({sprocLink:e,params:r,options:n={},partitionKey:i,diagnosticNode:o,partitionKeyRangeId:s}){r!=null&&!Array.isArray(r)&&(r=[r]);let a=_(e),A=Y(e),c={...this.getContextDerivedPropsForRequestCreation(),method:ht.post,operationType:X.Execute,path:a,resourceType:Q.sproc,options:n,resourceId:A,body:r,partitionKey:i};return o.addData({operationType:X.Execute,resourceType:Q.sproc}),c.headers=await this.buildHeaders(c),c.partitionKeyRangeId=s,c.endpoint=await this.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:o,resourceType:c.resourceType,operationType:c.operationType,startServiceEndpointIndex:0,excludedLocations:n?.excludedLocations}),await cn(o,c,ln.request,sr.operation)}async getDatabaseAccount(e,r={}){let n=r.urlConnection||this.cosmosClientOptions.endpoint,i={...this.getContextDerivedPropsForRequestCreation(),endpoint:n,method:ht.get,operationType:X.Read,path:\"\",resourceType:Q.none,options:r};e.addData({operationType:X.Read,resourceType:Q.none}),i.headers=await this.buildHeaders(i);let{result:o,headers:s,code:a,substatus:A,diagnostics:c}=await cn(e,i,ln.request,sr.operation);return{result:new lu(o,s),headers:s,diagnostics:c,code:a,substatus:A}}getWriteEndpoint(e){return this.globalEndpointManager.getWriteEndpoint(e)}getReadEndpoint(e){return this.globalEndpointManager.getReadEndpoint(e)}getWriteEndpoints(){return this.globalEndpointManager.getWriteEndpoints()}getReadEndpoints(){return this.globalEndpointManager.getReadEndpoints()}async batch({body:e,path:r,partitionKey:n,resourceId:i,options:o={},diagnosticNode:s,partitionKeyRangeId:a}){try{let A={...this.getContextDerivedPropsForRequestCreation(),method:ht.post,operationType:X.Batch,path:r,body:e,resourceType:Q.item,resourceId:i,options:o,partitionKey:n};s.addData({operationType:X.Batch,resourceType:Q.item}),A.headers=await this.buildHeaders(A),A.partitionKeyRangeId=a,A.headers[yt.IsBatchRequest]=!0,A.headers[yt.IsBatchAtomic]=!0,this.applySessionToken(A),A.endpoint=await this.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:s,resourceType:A.resourceType,operationType:A.operationType,startServiceEndpointIndex:0,excludedLocations:o?.excludedLocations});let c=await cn(s,A,ln.request,sr.operation);return this.captureSessionToken(void 0,r,X.Batch,c.headers),c.diagnostics=s.toDiagnostic(this.getClientConfig()),c}catch(A){throw this.captureSessionToken(A,r,X.Upsert,A.headers),A}}async bulk({body:e,path:r,partitionKeyRangeId:n,resourceId:i,bulkOptions:o={},options:s={},diagnosticNode:a}){try{let A={...this.getContextDerivedPropsForRequestCreation(),method:ht.post,operationType:X.Batch,path:r,body:e,resourceType:Q.item,resourceId:i,options:s};a.addData({operationType:X.Batch,resourceType:Q.item}),A.headers=await this.buildHeaders(A),A.partitionKeyRangeId=n,A.headers[yt.IsBatchRequest]=!0,A.headers[yt.PartitionKeyRangeID]=n,A.headers[yt.IsBatchAtomic]=!1,A.headers[yt.BatchContinueOnError]=o.continueOnError??!0,this.applySessionToken(A),A.endpoint=await this.globalEndpointManager.resolveServiceEndpointInternal({diagnosticNode:a,resourceType:A.resourceType,operationType:A.operationType,startServiceEndpointIndex:0,excludedLocations:s?.excludedLocations});let c=await cn(a,A,ln.request,sr.operation);return this.captureSessionToken(void 0,r,X.Batch,c.headers),c}catch(A){throw this.captureSessionToken(A,r,X.Upsert,A.headers),A}}captureSessionToken(e,r,n,i){let o=this.getSessionParams(r);o.operationType=n,(!e||!this.isMasterResource(o.resourceType)&&(e.code===V.PreconditionFailed||e.code===V.Conflict||e.code===V.NotFound&&e.substatus!==rt.ReadSessionNotAvailable))&&this.sessionContainer.set(o,i)}clearSessionToken(e){let r=this.getSessionParams(e);this.sessionContainer.remove(r)}recordDiagnostics(e){let r=this.diagnosticFormatter.format(e);this.diagnosticWriter.write(r)}initializeDiagnosticSettings(e){switch(this.diagnosticFormatter=new Up,e){case gt.info:this.diagnosticWriter=new Op;break;default:this.diagnosticWriter=new Lp}}getSessionParams(e){let n=null,i=My(e);n=i.objectBody.self;let o=i.type;return{resourceId:null,resourceAddress:n,resourceType:o,isNameBased:!0}}isMasterResource(e){return e===E.Path.OffersPathSegment||e===E.Path.DatabasesPathSegment||e===E.Path.UsersPathSegment||e===E.Path.PermissionsPathSegment||e===E.Path.TopologyPathSegment||e===E.Path.DatabaseAccountPathSegment||e===E.Path.PartitionKeyRangesPathSegment||e===E.Path.CollectionsPathSegment}buildHeaders(e){return Lk({clientOptions:this.cosmosClientOptions,defaultHeaders:{...this.cosmosClientOptions.defaultHeaders,...e.options.initialHeaders},verb:e.method,path:e.path,resourceId:e.resourceId,resourceType:e.resourceType,options:e.options,partitionKeyRangeId:e.partitionKeyRangeId,useMultipleWriteLocations:this.connectionPolicy.useMultipleWriteLocations,partitionKey:e.partitionKey!==void 0?Dt(e.partitionKey):void 0,operationType:e.operationType})}getContextDerivedPropsForRequestCreation(){return{globalEndpointManager:this.globalEndpointManager,requestAgent:this.cosmosClientOptions.agent,connectionPolicy:this.connectionPolicy,client:this,plugins:this.cosmosClientOptions.plugins,pipeline:this.pipeline,httpClient:this.cosmosClientOptions.httpClient,globalPartitionEndpointManager:this.globalPartitionEndpointManager}}getClientConfig(){return this.clientConfig}refreshUserAgent(e){let r=_p(this.cosmosClientOptions,e);this.cosmosClientOptions.defaultHeaders[E.HttpHeaders.UserAgent]=r,this.cosmosClientOptions.defaultHeaders[E.HttpHeaders.CustomUserAgent]=r}getRetryOptions(){return this.connectionPolicy.retryOptions}isPartitionLevelFailOverEnabled(){return this.globalEndpointManager.enablePartitionLevelFailover||this.globalEndpointManager.enablePartitionLevelCircuitBreaker}};function R0(t){return typeof t==\"string\"&&t.trim().length>0}var S0=Ae(require(\"node:process\"),1);var od=S0.default.env[E.CosmosDbDiagnosticLevelEnvVarName];var qV=gt.info,CB=Object.values(gt).map(t=>t.toString()),T0;R0(od)&&(k0(od)?GV(od):console.error(`${E.CosmosDbDiagnosticLevelEnvVarName} set to unknown diagnostic level '${od}'; Setting Cosmos Db diagnostic level to info. Acceptable values: ${CB.join(\", \")}.`));function GV(t){if(t&&!k0(t))throw new Error(`Unknown diagnostic level '${t}'. Acceptable values: ${CB.join(\",\")}`);T0=t}function b0(){return T0}function k0(t){return CB.includes(t)}function D0(t,e){return e??t??qV}var x0=require(\"node:crypto\");var Hp=class{cacheTimeToLive;cache;cacheRefresher;constructor(e){this.cacheTimeToLive=e,this.cache=new Map,this.clearCacheOnTtlExpiry()}get(e){if(this.cache.has(e))return this.cache.get(e)[1]}set(e,r){this.cacheTimeToLive!==0&&this.cache.set(e,[new Date,r])}async clearCacheOnTtlExpiry(){this.cacheRefresher=ZA(async()=>{let e=new Date;for(let r of this.cache.keys())e.getTime()-this.cache.get(r)[0].getTime()>this.cacheTimeToLive&&this.cache.delete(r)},E.EncryptionCacheRefreshIntervalInMs)}async createProtectedDataEncryptionKey(e,r,n){let i,o;n?(i=await r.unwrapEncryptionKey(n),o=n):(i=this.generateColumnEncryptionKey(),o=await r.wrapEncryptionKey(i));let s=new Pc(e,r,i,o);if(this.cacheTimeToLive!==0){let a=JSON.stringify([e,r.name,r.path,o.toString(\"hex\")]);this.set(a,s)}return s}async getOrCreate(e,r,n,i){let o=n?Buffer.from(n):void 0;if(this.cacheTimeToLive===0||i)return this.createProtectedDataEncryptionKey(e,r,o);if(o){let s=JSON.stringify([e,r.name,r.path,o.toString(\"hex\")]),a=this.get(s);if(a)return a}return this.createProtectedDataEncryptionKey(e,r,o)}generateColumnEncryptionKey(){return(0,x0.randomBytes)(32)}};var qp=class{cache;constructor(){this.cache=new Map}getOrCreate(e,r,n){let i=JSON.stringify([e,r]),o=this.get(i);return o||(o=new Wu(e,r,n),this.set(i,o)),o}get(e){return this.cache.get(e)}set(e,r){this.cache.set(e,r)}};var Gp=class{cache;constructor(){this.cache=new Map}async create(e,r,n,i){let o=new Ku(e,r,n);if(i){for(let s of i.includedPaths){let a=new ju(s);o.pathsToEncrypt.push(s.path),o.setEncryptionSettingForProperty(s.path,a)}return this.set(e,o),o}}get(e){return this.cache.get(e)}set(e,r){this.cache.set(e,r)}};var Yp=class{clientEncryptionKeyPropertiesCache;constructor(){this.clientEncryptionKeyPropertiesCache=new Map}get(e){return this.clientEncryptionKeyPropertiesCache.get(e)}set(e,r){this.clientEncryptionKeyPropertiesCache.set(e,r)}};var Vp=class{cacheTimeToLive;encryptionKeyStoreProvider;protectedDataEncryptionKeyCache;keyEncryptionKeyCache;encryptionSettingsCache;clientEncryptionKeyPropertiesCache;constructor(e,r){this.cacheTimeToLive=r!==void 0?r:E.DefaultEncryptionCacheTimeToLiveInSeconds;let n=this.getCacheTTlInMs();this.encryptionKeyStoreProvider=new Ju(e,n),this.protectedDataEncryptionKeyCache=new Hp(n),this.keyEncryptionKeyCache=new qp,this.encryptionSettingsCache=new Gp,this.clientEncryptionKeyPropertiesCache=new Yp}getCacheTTlInMs(){return Number(this.cacheTimeToLive*1e3)}};var sd=class t{readDatabaseAccount;defaultEndpoint;enableEndpointDiscovery;isRefreshing;options;preferredLocations;writeableLocations=[];readableLocations=[];unavailableReadableLocations=[];unavailableWriteableLocations=[];enableMultipleWriteLocations;preferredLocationsCount;enablePartitionLevelFailover;enablePartitionLevelCircuitBreaker;constructor(e,r){this.readDatabaseAccount=r,this.options=e,this.defaultEndpoint=e.endpoint,this.enableEndpointDiscovery=e.connectionPolicy.enableEndpointDiscovery,this.isRefreshing=!1,this.preferredLocations=this.options.connectionPolicy.preferredLocations,this.preferredLocationsCount=this.preferredLocations?this.preferredLocations.length:0,this.enablePartitionLevelFailover=e.connectionPolicy.enablePartitionLevelFailover,this.enablePartitionLevelCircuitBreaker=e.connectionPolicy.enablePartitionLevelCircuitBreaker||e.connectionPolicy.enablePartitionLevelFailover}async getReadEndpoint(e){return this.resolveServiceEndpoint(e,Q.item,X.Read)}async getWriteEndpoint(e){return this.resolveServiceEndpoint(e,Q.item,X.Replace)}async getReadEndpoints(){return this.readableLocations.map(e=>e.databaseAccountEndpoint)}async getWriteEndpoints(){return this.writeableLocations.map(e=>e.databaseAccountEndpoint)}async getReadLocations(){return this.readableLocations}async markCurrentLocationUnavailableForRead(e,r){await this.refreshEndpointList(e);let n=this.readableLocations.find(i=>i.databaseAccountEndpoint===r);n&&(n.unavailable=!0,n.lastUnavailabilityTimestampInMs=Date.now(),this.unavailableReadableLocations.push(n))}async markCurrentLocationUnavailableForWrite(e,r){await this.refreshEndpointList(e);let n=this.writeableLocations.find(i=>i.databaseAccountEndpoint===r);n&&(n.unavailable=!0,n.lastUnavailabilityTimestampInMs=Date.now(),this.unavailableWriteableLocations.push(n))}canUseMultipleWriteLocations(e,r){let n=this.options.connectionPolicy.useMultipleWriteLocations&&this.enableMultipleWriteLocations;return e&&(n=n&&(e===Q.item||e===Q.sproc&&r===X.Execute)),n}getEffectiveExcludedLocations(e=[],r){return Pb(r)?e.length?new Set(e.map(co)):new Set:new Set}filterExcludedLocations(e,r){return!r||r.size===0?e:e.filter(i=>!r.has(co(i)))}async resolveServiceEndpoint(e,r,n,i=0){return this.resolveServiceEndpointInternal({diagnosticNode:e,resourceType:r,operationType:n,startServiceEndpointIndex:i})}async resolveServiceEndpointInternal(e){let{diagnosticNode:r,resourceType:n,operationType:i,startServiceEndpointIndex:o,excludedLocations:s=[]}=e;if(!this.options.connectionPolicy.enableEndpointDiscovery)return r.addData({readFromCache:!0},\"default_endpoint\"),r.recordEndpointResolution(this.defaultEndpoint),this.defaultEndpoint;if(n===Q.none)return r.addData({readFromCache:!0},\"none_resource\"),r.recordEndpointResolution(this.defaultEndpoint),this.defaultEndpoint;if(this.readableLocations.length===0||this.writeableLocations.length===0){let u=await ei(async d=>this.readDatabaseAccount(d,{urlConnection:this.defaultEndpoint}),r,_r.DatabaseAccountLookUp);this.writeableLocations=u.resource.writableLocations,this.readableLocations=u.resource.readableLocations,this.enableMultipleWriteLocations=u.resource.enableMultipleWritableLocations,this.refreshPPAFFeatureFlag(u.resource.enablePerPartitionFailover)}let a=zt(i)?this.readableLocations:this.writeableLocations,A=this.getEffectiveExcludedLocations(s,n);r.addData({excludedLocations:Array.from(A)},\"excluded_locations\");let c=this.filterExcludedLocations(this.preferredLocations,A),l;if(c&&c.length>0&&o<c.length){this.preferredLocationsCount=c.length;for(let u=o;u<c.length;u++){let d=c[u];if(l=a.find(h=>h.unavailable!==!0&&co(h.name)===co(d)),l)break}}return l||(l=(o>=0&&o<a.length?a.slice(o):a).find(h=>h.unavailable!==!0&&!A.has(co(h.name)))),l=l||{name:\"\",databaseAccountEndpoint:this.defaultEndpoint},r.recordEndpointResolution(l.databaseAccountEndpoint),l.databaseAccountEndpoint}async refreshEndpointList(e){if(!this.isRefreshing&&this.enableEndpointDiscovery){this.isRefreshing=!0;let r=await this.getDatabaseAccountFromAnyEndpoint(e);r&&(this.refreshStaleUnavailableLocations(),this.refreshEndpoints(r)),this.isRefreshing=!1}}refreshEndpoints(e){let r=this.writeableLocations,n=this.readableLocations;function i(o,s){let a=s.find(A=>A.name===o.name);return a&&(o.unavailable=a.unavailable,o.lastUnavailabilityTimestampInMs=a.lastUnavailabilityTimestampInMs),o}this.writeableLocations=e.writableLocations.map(o=>i({...o},r)),this.readableLocations=e.readableLocations.map(o=>i({...o},n))}refreshStaleUnavailableLocations(){let e=Date.now();this.updateLocation(e,this.unavailableReadableLocations,this.readableLocations),this.unavailableReadableLocations=this.cleanUnavailableLocationList(e,this.unavailableReadableLocations),this.updateLocation(e,this.unavailableWriteableLocations,this.writeableLocations),this.unavailableWriteableLocations=this.cleanUnavailableLocationList(e,this.unavailableWriteableLocations)}updateLocation(e,r,n){for(let i of r){let o=n.find(s=>s.name===i.name);o&&e-o.lastUnavailabilityTimestampInMs>E.LocationUnavailableExpirationTimeInMs&&(o.unavailable=!1)}}cleanUnavailableLocationList(e,r){return r.filter(n=>e-n.lastUnavailabilityTimestampInMs<E.LocationUnavailableExpirationTimeInMs)}async getDatabaseAccountFromAnyEndpoint(e){try{let r={urlConnection:this.defaultEndpoint},{resource:n}=await this.readDatabaseAccount(e,r);return n}catch{}if(this.preferredLocations)for(let r of this.preferredLocations)try{let i={urlConnection:t.getLocationalEndpoint(this.defaultEndpoint,r)},{resource:o}=await this.readDatabaseAccount(e,i);if(o)return o}catch{}}static getLocationalEndpoint(e,r){let n=new URL(e);if(n.hostname){let i=n.hostname.toString().toLowerCase().split(\".\");if(i){let o=i[0],s=o+\"-\"+r.replace(\" \",\"\");return e.toLowerCase().replace(o,s)}}return null}refreshPPAFFeatureFlag(e){e===!1&&(this.enablePartitionLevelFailover=e,this.enablePartitionLevelCircuitBreaker=e)}};var mB=Ae(wu(),1),Mc=class{failedEndPoints=[];currentEndPoint;consecutiveReadRequestFailureCount=0;consecutiveWriteRequestFailureCount=0;firstRequestFailureTime=Date.now();lastRequestFailureTime=Date.now();failureCountSemaphore;tryMoveNextLocationSemaphore;constructor(e){this.currentEndPoint=e,this.failureCountSemaphore=(0,mB.default)(1),this.tryMoveNextLocationSemaphore=(0,mB.default)(1)}async canCircuitBreakerTriggerPartitionFailOver(e){let{consecutiveReadRequestFailureCount:r,consecutiveWriteRequestFailureCount:n}=await this.snapshotConsecutiveRequestFailureCount();return e?r>E.ReadRequestFailureCountThreshold:n>E.WriteRequestFailureCountThreshold}async incrementRequestFailureCounts(e,r){return new Promise((n,i)=>{this.failureCountSemaphore.take(async()=>{try{let{lastRequestFailureTime:o}=await this.snapshotPartitionFailoverTimestamps();return r-o>E.ConsecutiveFailureCountResetIntervalInMS&&(this.consecutiveReadRequestFailureCount=0,this.consecutiveWriteRequestFailureCount=0),e?this.consecutiveReadRequestFailureCount++:this.consecutiveWriteRequestFailureCount++,this.lastRequestFailureTime=r,n()}catch(o){i(o)}finally{this.failureCountSemaphore.leave()}})})}async snapshotPartitionFailoverTimestamps(){return{firstRequestFailureTime:this.firstRequestFailureTime,lastRequestFailureTime:this.lastRequestFailureTime}}async tryMoveNextLocation(e,r,n,i){return r!==this.currentEndPoint?!0:new Promise((o,s)=>{this.tryMoveNextLocationSemaphore.take(()=>{try{for(let a of e)if(this.currentEndPoint!==a&&!this.failedEndPoints.includes(a))return this.failedEndPoints.push(r),this.currentEndPoint=a,o(!0);return n.addData({partitionKeyRangeFailoverInfo:`PartitionKeyRangeId: ${i}, failedLocations: ${this.failedEndPoints}, newLocation: ${this.currentEndPoint}`}),o(!1)}catch(a){s(a)}finally{this.tryMoveNextLocationSemaphore.leave()}})})}getCurrentEndPoint(){return this.currentEndPoint}async snapshotConsecutiveRequestFailureCount(){return{consecutiveReadRequestFailureCount:this.consecutiveReadRequestFailureCount,consecutiveWriteRequestFailureCount:this.consecutiveWriteRequestFailureCount}}};var Jp=class{globalEndpointManager;partitionKeyRangeToLocationForWrite;partitionKeyRangeToLocationForReadAndWrite;preferredLocations;preferredLocationsCount;circuitBreakerFailbackBackgroundRefresher;constructor(e,r){this.globalEndpointManager=r,this.partitionKeyRangeToLocationForWrite=new Map,this.partitionKeyRangeToLocationForReadAndWrite=new Map,this.preferredLocations=e.connectionPolicy.preferredLocations,this.preferredLocationsCount=this.preferredLocations?this.preferredLocations.length:0,(this.globalEndpointManager.enablePartitionLevelCircuitBreaker||this.globalEndpointManager.enablePartitionLevelFailover)&&this.initiateCircuitBreakerFailbackLoop()}async tryPartitionLevelFailover(e,r){if(!await this.isRequestEligibleForPartitionFailover(e,!0))return!1;let n=this.isRequestEligibleForPerPartitionAutomaticFailover(e),i=this.isRequestEligibleForPartitionLevelCircuitBreaker(e);return n||i&&await this.incrementFailureCounterAndCheckFailover(e,n,i)?this.tryMarkEndpointUnavailableForPartitionKeyRange(e,r,n,i):!1}async tryAddPartitionLevelLocationOverride(e,r){if(!await this.isRequestEligibleForPartitionFailover(e,!1))return e;let n=e.partitionKeyRangeId;if(this.isRequestEligibleForPerPartitionAutomaticFailover(e)){if(this.partitionKeyRangeToLocationForWrite.has(n)){let i=this.partitionKeyRangeToLocationForWrite.get(n);return e.endpoint=i.getCurrentEndPoint(),r.recordEndpointResolution(e.endpoint),e}}else if(this.isRequestEligibleForPartitionLevelCircuitBreaker(e)&&this.partitionKeyRangeToLocationForReadAndWrite.has(n)){let i=this.partitionKeyRangeToLocationForReadAndWrite.get(n);if(await i.canCircuitBreakerTriggerPartitionFailOver(zt(e.operationType)))return e.endpoint=i.getCurrentEndPoint(),r.recordEndpointResolution(e.endpoint),e}return e}dispose(){this.circuitBreakerFailbackBackgroundRefresher&&clearTimeout(this.circuitBreakerFailbackBackgroundRefresher)}async tryMarkEndpointUnavailableForPartitionKeyRange(e,r,n,i){let o=e.partitionKeyRangeId,s=e.endpoint,a=await this.globalEndpointManager.getReadLocations(),A=[];if(n){for(let c of a)A.push(c.databaseAccountEndpoint);return this.tryAddOrUpdatePartitionFailoverInfoAndMoveToNextLocation(o,s,A,this.partitionKeyRangeToLocationForWrite,r)}else if(i){if(this.preferredLocations&&this.preferredLocations.length>0){for(let c of this.preferredLocations){let l=a.find(u=>co(u.name)===co(c));l&&A.push(l.databaseAccountEndpoint)}for(let c of a)A.includes(c.databaseAccountEndpoint)||A.push(c.databaseAccountEndpoint)}else for(let c of a)A.push(c.databaseAccountEndpoint);return this.tryAddOrUpdatePartitionFailoverInfoAndMoveToNextLocation(o,s,A,this.partitionKeyRangeToLocationForReadAndWrite,r)}return!1}async incrementFailureCounterAndCheckFailover(e,r,n){let i=e.partitionKeyRangeId,o=e.endpoint,s;if(r){if(!this.partitionKeyRangeToLocationForWrite.has(i)){let A=new Mc(o);this.partitionKeyRangeToLocationForWrite.set(i,A)}s=this.partitionKeyRangeToLocationForWrite.get(i)}else if(n){if(!this.partitionKeyRangeToLocationForReadAndWrite.has(i)){let A=new Mc(o);this.partitionKeyRangeToLocationForReadAndWrite.set(i,A)}s=this.partitionKeyRangeToLocationForReadAndWrite.get(i)}else return!1;Zi(s,\"partitionKeyRangeFailoverInfo should be set if failover flags are true.\");let a=Date.now();return await s.incrementRequestFailureCounts(zt(e.operationType),a),s.canCircuitBreakerTriggerPartitionFailOver(zt(e.operationType))}async isRequestEligibleForPartitionFailover(e,r){return!(!e||!e.operationType||!e.resourceType||!e.partitionKeyRangeId||!await this.canUsePartitionLevelFailoverLocations(e.operationType,e.resourceType)||r&&!e.endpoint)}async canUsePartitionLevelFailoverLocations(e,r){return(await this.globalEndpointManager.getReadEndpoints()).length<=1?!1:r===Q.item||r===Q.sproc&&e===X.Execute}isRequestEligibleForPerPartitionAutomaticFailover(e){return this.globalEndpointManager.enablePartitionLevelFailover&&!zt(e.operationType)&&!this.globalEndpointManager.canUseMultipleWriteLocations(e.resourceType,e.operationType)}isRequestEligibleForPartitionLevelCircuitBreaker(e){return this.globalEndpointManager.enablePartitionLevelCircuitBreaker||this.globalEndpointManager.enablePartitionLevelFailover?zt(e.operationType)?!0:this.globalEndpointManager.canUseMultipleWriteLocations(e.resourceType,e.operationType):!1}async tryAddOrUpdatePartitionFailoverInfoAndMoveToNextLocation(e,r,n,i,o){if(!i.has(e)){let a=new Mc(r);i.set(e,a)}return await i.get(e).tryMoveNextLocation(n,r,o,e)?!0:(i.delete(e),!1)}initiateCircuitBreakerFailbackLoop(){this.circuitBreakerFailbackBackgroundRefresher=ZA(async()=>{try{await this.openConnectionToUnhealthyEndpointsWithFailback()}catch(e){console.error(\"Failed to open connection to unhealthy endpoints: \",e)}},E.StalePartitionUnavailabilityRefreshIntervalInMs)}async openConnectionToUnhealthyEndpointsWithFailback(){if(!(this.globalEndpointManager.enablePartitionLevelCircuitBreaker||this.globalEndpointManager.enablePartitionLevelFailover)){this.dispose();return}for(let r of this.partitionKeyRangeToLocationForReadAndWrite.keys()){let n=this.partitionKeyRangeToLocationForReadAndWrite.get(r);if(!n)continue;let{firstRequestFailureTime:i}=await n.snapshotPartitionFailoverTimestamps();new Date().getTime()-i>E.AllowedPartitionUnavailabilityDurationInMs&&this.partitionKeyRangeToLocationForReadAndWrite.delete(r)}}};var ad=class{databases;offers;clientContext;endpointRefresher;encryptionManager;globalPartitionEndpointManager;constructor(e){if(typeof e==\"string\")e=Fy(e);else if(e.connectionString){let{endpoint:s,key:a}=Fy(e.connectionString);e.endpoint=s,e.key=a}if(!I0(e.endpoint))throw new Error(\"Invalid endpoint specified\");if(e.clientEncryptionOptions){if(!e.clientEncryptionOptions.keyEncryptionKeyResolver)throw new Error(\"KeyEncryptionKeyResolver needs to be provided to enable client-side encryption.\");if(e.clientEncryptionOptions.encryptionKeyTimeToLiveInSeconds&&e.clientEncryptionOptions.encryptionKeyTimeToLiveInSeconds<60)throw new Error(\"EncryptionKeyTimeToLiveInSeconds needs to be >= 60 seconds.\");this.encryptionManager=new Vp(e.clientEncryptionOptions.keyEncryptionKeyResolver,e.clientEncryptionOptions.encryptionKeyTimeToLiveInSeconds)}let n=this.initializeClientConfigDiagnostic(e);e.connectionPolicy=Object.assign({},Vy,e.connectionPolicy),e.connectionPolicy.enableEndpointDiscovery||(e.connectionPolicy.enablePartitionLevelFailover=!1,e.connectionPolicy.enablePartitionLevelCircuitBreaker=!1),e.defaultHeaders=e.defaultHeaders||{},e.defaultHeaders[E.HttpHeaders.CacheControl]=\"no-cache\",e.defaultHeaders[E.HttpHeaders.Version]=E.CurrentVersion,e.consistencyLevel!==void 0&&(e.defaultHeaders[E.HttpHeaders.ConsistencyLevel]=e.consistencyLevel),e.throughputBucket!==void 0&&(e.defaultHeaders[E.HttpHeaders.ThroughputBucket]=e.throughputBucket);let i=_p(e);e.defaultHeaders[E.HttpHeaders.UserAgent]=i,e.defaultHeaders[E.HttpHeaders.CustomUserAgent]=i;let o=new sd(e,async(s,a)=>this.getDatabaseAccountInternal(s,a));(e.connectionPolicy.enablePartitionLevelFailover||e.connectionPolicy.enablePartitionLevelCircuitBreaker)&&(this.globalPartitionEndpointManager=new Jp(e,o)),this.clientContext=new id(e,o,n,D0(e.diagnosticLevel,b0()),this.globalPartitionEndpointManager),e.connectionPolicy?.enableEndpointDiscovery&&e.connectionPolicy?.enableBackgroundEndpointRefreshing&&this.backgroundRefreshEndpointList(o,e.connectionPolicy.endpointRefreshRateInMs||Vy.endpointRefreshRateInMs),this.databases=new nd(this,this.clientContext,this.encryptionManager),this.offers=new Ou(this,this.clientContext)}initializeClientConfigDiagnostic(e){return{endpoint:e.endpoint,resourceTokensConfigured:e.resourceTokens!==void 0,tokenProviderConfigured:e.tokenProvider!==void 0,aadCredentialsConfigured:e.aadCredentials!==void 0,connectionPolicyConfigured:e.connectionPolicy!==void 0,consistencyLevel:e.consistencyLevel,defaultHeaders:e.defaultHeaders,agentConfigured:e.agent!==void 0,userAgentSuffix:e.userAgentSuffix,diagnosticLevel:e.diagnosticLevel,pluginsConfigured:e.plugins!==void 0,sDKVersion:E.SDKVersion,aadScopeOverride:e.aadScope!==void 0}}async getDatabaseAccount(e){return O(async r=>this.getDatabaseAccountInternal(r,e),this.clientContext)}async getDatabaseAccountInternal(e,r){let n=await this.clientContext.getDatabaseAccount(e,r);return new Ne(n.result,n.headers,n.code,G(),n.substatus)}async getWriteEndpoint(){return O(async e=>this.clientContext.getWriteEndpoint(e),this.clientContext)}async getReadEndpoint(){return O(async e=>this.clientContext.getReadEndpoint(e),this.clientContext)}getWriteEndpoints(){return this.clientContext.getWriteEndpoints()}getReadEndpoints(){return this.clientContext.getReadEndpoints()}database(e){return new Da(this,e,this.clientContext,this.encryptionManager)}offer(e){return new ao(this,e,this.clientContext)}dispose(){clearTimeout(this.endpointRefresher),this.clientContext.enableEncryption&&(clearTimeout(this.encryptionManager.encryptionKeyStoreProvider.cacheRefresher),clearTimeout(this.encryptionManager.protectedDataEncryptionKeyCache.cacheRefresher)),this.globalPartitionEndpointManager&&this.globalPartitionEndpointManager.dispose()}async backgroundRefreshEndpointList(e,r){this.endpointRefresher=setInterval(()=>{try{return O(async n=>e.refreshEndpointList(n),this.clientContext,_e.BACKGROUND_REFRESH_THREAD)}catch(n){console.warn(\"Failed to refresh endpoints\",n)}},r),this.endpointRefresher.unref&&typeof this.endpointRefresher.unref==\"function\"&&this.endpointRefresher.unref()}async updateHostFramework(e){this.clientContext.refreshUserAgent(e)}};var wq=Ae(yL());var MC=\"4.13.0\",$a=\"04b07795-8ddb-461a-bbee-02f9e1bf7b46\",IL=\"common\",PC;(function(t){t.AzureChina=\"https://login.chinacloudapi.cn\",t.AzureGermany=\"https://login.microsoftonline.de\",t.AzureGovernment=\"https://login.microsoftonline.us\",t.AzurePublicCloud=\"https://login.microsoftonline.com\"})(PC||(PC={}));var zd=PC.AzurePublicCloud,BL=\"login.microsoftonline.com\",QL=[\"*\"],wL=\"cae\",RL=\"nocae\",SL=\"msal.cache\";var mR;var z3,FC,bL;function kL(){return FC!==void 0&&bL!==void 0}function j3(t){let e={cache:{},broker:{...t.brokerOptions,isEnabled:t.brokerOptions?.enabled??!1,enableMsaPassthrough:t.brokerOptions?.legacyEnableMsaPassthrough??!1}};if(t.tokenCachePersistenceOptions?.enabled){if(mR===void 0)throw new Error([\"Persistent token caching was requested, but no persistence provider was configured.\",\"You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`)\",\"and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling\",\"`useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`.\"].join(\" \"));let r=t.tokenCachePersistenceOptions.name||SL;e.cache.cachePlugin=mR({name:`${r}.${RL}`,...t.tokenCachePersistenceOptions}),e.cache.cachePluginCae=mR({name:`${r}.${wL}`,...t.tokenCachePersistenceOptions})}return t.brokerOptions?.enabled&&(e.broker.nativeBrokerPlugin=X3(t.isVSCodeCredential||!1)),e}var TL={missing:(t,e,r)=>[`${t} was requested, but no plugin was configured or no authentication record was found.`,`You must install the ${e} plugin package (npm install --save ${e})`,\"and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling\",`useIdentityPlugin(${r}) before using enableBroker.`].join(\" \"),unavailable:(t,e)=>[`${t} was requested, and the plugin is configured, but the broker is unavailable.`,`Ensure the ${t} plugin is properly installed and configured.`,\"Check for missing native dependencies and ensure the package is properly installed.\",`See the README for prerequisites on installing and using ${e}.`].join(\" \")},$3={vsCode:{credentialName:\"Visual Studio Code Credential\",packageName:\"@azure/identity-vscode\",pluginVar:\"vsCodePlugin\",get brokerInfo(){return bL}},native:{credentialName:\"Broker for WAM\",packageName:\"@azure/identity-broker\",pluginVar:\"nativeBrokerPlugin\",get brokerInfo(){return z3}}};function X3(t){let{credentialName:e,packageName:r,pluginVar:n,brokerInfo:i}=$3[t?\"vsCode\":\"native\"];if(i===void 0)throw new Error(TL.missing(e,r,n));if(i.broker.isBrokerAvailable===!1)throw new Error(TL.unavailable(e,r));return i.broker}var DL={generatePluginConfiguration:j3};function Z3(t){return t&&typeof t.error==\"string\"&&typeof t.error_description==\"string\"}var vL=\"CredentialUnavailableError\",$=class extends Error{constructor(e,r){super(e,r),this.name=vL}},LC=\"AuthenticationError\",Is=class extends Error{statusCode;errorResponse;constructor(e,r,n){let i={error:\"unknown\",errorDescription:\"An unknown error occurred and no additional details are available.\"};if(Z3(r))i=xL(r);else if(typeof r==\"string\")try{let o=JSON.parse(r);i=xL(o)}catch{e===400?i={error:\"invalid_request\",errorDescription:`The service indicated that the request was invalid.\n\n${r}`}:i={error:\"unknown_error\",errorDescription:`An unknown error has occurred. Response body:\n\n${r}`}}else i={error:\"unknown_error\",errorDescription:\"An unknown error occurred and no additional details are available.\"};super(`${i.error} Status code: ${e}\nMore details:\n${i.errorDescription},`,n),this.statusCode=e,this.errorResponse=i,this.name=LC}},NL=\"AggregateAuthenticationError\",jd=class extends Error{errors;constructor(e,r){let n=e.join(`\n`);super(`${r}\n${n}`),this.errors=e,this.name=NL}};function xL(t){return{error:t.error,errorDescription:t.error_description,correlationId:t.correlation_id,errorCodes:t.error_codes,timestamp:t.timestamp,traceId:t.trace_id}}var Yn=class extends Error{scopes;getTokenOptions;constructor(e){super(e.message,e.cause?{cause:e.cause}:void 0),this.scopes=e.scopes,this.getTokenOptions=e.getTokenOptions,this.name=\"AuthenticationRequiredError\"}};var In=ve(\"identity\");function OC(t){return t.reduce((e,r)=>(process.env[r]?e.assigned.push(r):e.missing.push(r),e),{missing:[],assigned:[]})}function qt(t){return`SUCCESS. Scopes: ${Array.isArray(t)?t.join(\", \"):t}.`}function Se(t,e){let r=\"ERROR.\";return t?.length&&(r+=` Scopes: ${Array.isArray(t)?t.join(\", \"):t}.`),`${r} Error message: ${typeof e==\"string\"?e:e.message}.`}function PL(t,e,r=In){let n=e?`${e.fullTitle} ${t}`:t;function i(A){r.info(`${n} =>`,A)}function o(A){r.warning(`${n} =>`,A)}function s(A){r.verbose(`${n} =>`,A)}function a(A){r.error(`${n} =>`,A)}return{title:t,fullTitle:n,info:i,warning:o,verbose:s,error:a}}function le(t,e=In){let r=PL(t,void 0,e);return{...r,parent:e,getToken:PL(\"=> getToken()\",r,e)}}var Ue=Ta({namespace:\"Microsoft.AAD\",packageName:\"@azure/identity\",packageVersion:MC});var yR=le(\"ChainedTokenCredential\"),$d=class{_sources=[];constructor(...e){this._sources=e}async getToken(e,r={}){let{token:n}=await this.getTokenInternal(e,r);return n}async getTokenInternal(e,r={}){let n=null,i,o=[];return Ue.withSpan(\"ChainedTokenCredential.getToken\",r,async s=>{for(let a=0;a<this._sources.length&&n===null;a++)try{n=await this._sources[a].getToken(e,s),i=this._sources[a]}catch(A){if(A.name===\"CredentialUnavailableError\"||A.name===\"AuthenticationRequiredError\")o.push(A);else throw yR.getToken.info(Se(e,A)),A}if(!n&&o.length>0){let a=new jd(o,\"ChainedTokenCredential authentication failed.\");throw yR.getToken.info(Se(e,a)),a}if(yR.getToken.info(`Result for ${i.constructor.name}: ${qt(e)}`),n===null)throw new $(\"Failed to retrieve a valid token\");return{token:n,successfulCredential:i}})}};var bn={};fr(bn,{AuthError:()=>fe,AuthErrorCodes:()=>bl,AuthErrorMessage:()=>BR,AzureCloudInstance:()=>bo,ClientApplication:()=>Gs,ClientAssertion:()=>Fo,ClientAuthError:()=>Ds,ClientAuthErrorCodes:()=>We,ClientAuthErrorMessage:()=>wR,ClientConfigurationError:()=>vl,ClientConfigurationErrorCodes:()=>xl,ClientConfigurationErrorMessage:()=>RR,ClientCredentialClient:()=>Ys,ConfidentialClientApplication:()=>Zl,CryptoProvider:()=>Gi,DeviceCodeClient:()=>jl,DistributedCachePlugin:()=>hy,InteractionRequiredAuthError:()=>Rn,InteractionRequiredAuthErrorCodes:()=>Am,InteractionRequiredAuthErrorMessage:()=>MS,LogLevel:()=>Bt,Logger:()=>Bn,ManagedIdentityApplication:()=>eu,ManagedIdentitySourceNames:()=>ce,OnBehalfOfClient:()=>Xl,PromptValue:()=>Qs,ProtocolMode:()=>ur,PublicClientApplication:()=>$l,ResponseMode:()=>Li,ServerError:()=>vr,TokenCache:()=>ql,TokenCacheContext:()=>Sn,UsernamePasswordClient:()=>zl,internals:()=>FS,version:()=>di});var FS={};fr(FS,{Deserializer:()=>Po,Serializer:()=>Bs});var Bs=class{static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,realm:i.realm,local_account_id:i.localAccountId,username:i.username,authority_type:i.authorityType,name:i.name,client_info:i.clientInfo,last_modification_time:i.lastModificationTime,last_modification_app:i.lastModificationApp,tenantProfiles:i.tenantProfiles?.map(o=>JSON.stringify(o))}}),r}static serializeIdTokens(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,credential_type:i.credentialType,client_id:i.clientId,secret:i.secret,realm:i.realm}}),r}static serializeAccessTokens(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,credential_type:i.credentialType,client_id:i.clientId,secret:i.secret,realm:i.realm,target:i.target,cached_at:i.cachedAt,expires_on:i.expiresOn,extended_expires_on:i.extendedExpiresOn,refresh_on:i.refreshOn,key_id:i.keyId,token_type:i.tokenType,requestedClaims:i.requestedClaims,requestedClaimsHash:i.requestedClaimsHash,userAssertionHash:i.userAssertionHash}}),r}static serializeRefreshTokens(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={home_account_id:i.homeAccountId,environment:i.environment,credential_type:i.credentialType,client_id:i.clientId,secret:i.secret,family_id:i.familyId,target:i.target,realm:i.realm}}),r}static serializeAppMetadata(e){let r={};return Object.keys(e).map(function(n){let i=e[n];r[n]={client_id:i.clientId,environment:i.environment,family_id:i.familyId}}),r}static serializeAllCache(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}};var b={LIBRARY_NAME:\"MSAL.JS\",SKU:\"msal.js.common\",DEFAULT_AUTHORITY:\"https://login.microsoftonline.com/common/\",DEFAULT_AUTHORITY_HOST:\"login.microsoftonline.com\",DEFAULT_COMMON_TENANT:\"common\",ADFS:\"adfs\",DSTS:\"dstsv2\",AAD_INSTANCE_DISCOVERY_ENDPT:\"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=\",CIAM_AUTH_URL:\".ciamlogin.com\",AAD_TENANT_DOMAIN_SUFFIX:\".onmicrosoft.com\",RESOURCE_DELIM:\"|\",NO_ACCOUNT:\"NO_ACCOUNT\",CLAIMS:\"claims\",CONSUMER_UTID:\"9188040d-6c67-4c5b-b112-36a304b66dad\",OPENID_SCOPE:\"openid\",PROFILE_SCOPE:\"profile\",OFFLINE_ACCESS_SCOPE:\"offline_access\",EMAIL_SCOPE:\"email\",CODE_GRANT_TYPE:\"authorization_code\",RT_GRANT_TYPE:\"refresh_token\",S256_CODE_CHALLENGE_METHOD:\"S256\",URL_FORM_CONTENT_TYPE:\"application/x-www-form-urlencoded;charset=utf-8\",AUTHORIZATION_PENDING:\"authorization_pending\",NOT_DEFINED:\"not_defined\",EMPTY_STRING:\"\",NOT_APPLICABLE:\"N/A\",NOT_AVAILABLE:\"Not Available\",FORWARD_SLASH:\"/\",IMDS_ENDPOINT:\"http://169.254.169.254/metadata/instance/compute/location\",IMDS_VERSION:\"2020-06-01\",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:\"TryAutoDetect\",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:\"login.microsoft.com\",KNOWN_PUBLIC_CLOUDS:[\"login.microsoftonline.com\",\"login.windows.net\",\"login.microsoft.com\",\"sts.windows.net\"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:\"invalid_instance\"},ge={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600};var lr=[b.OPENID_SCOPE,b.PROFILE_SCOPE,b.OFFLINE_ACCESS_SCOPE],IR=[...lr,b.EMAIL_SCOPE],it={CONTENT_TYPE:\"Content-Type\",CONTENT_LENGTH:\"Content-Length\",RETRY_AFTER:\"Retry-After\",CCS_HEADER:\"X-AnchorMailbox\",WWWAuthenticate:\"WWW-Authenticate\",AuthenticationInfo:\"Authentication-Info\",X_MS_REQUEST_ID:\"x-ms-request-id\",X_MS_HTTP_VERSION:\"x-ms-httpver\"};var jr={COMMON:\"common\",ORGANIZATIONS:\"organizations\",CONSUMERS:\"consumers\"},Xa={ACCESS_TOKEN:\"access_token\",XMS_CC:\"xms_cc\"},Qs={LOGIN:\"login\",SELECT_ACCOUNT:\"select_account\",CONSENT:\"consent\",NONE:\"none\",CREATE:\"create\",NO_SESSION:\"no_session\"},UC={PLAIN:\"plain\",S256:\"S256\"},Rl={CODE:\"code\",IDTOKEN_TOKEN:\"id_token token\",IDTOKEN_TOKEN_REFRESHTOKEN:\"id_token token refresh_token\"};var Li={QUERY:\"query\",FRAGMENT:\"fragment\",FORM_POST:\"form_post\"},$r={IMPLICIT_GRANT:\"implicit\",AUTHORIZATION_CODE_GRANT:\"authorization_code\",CLIENT_CREDENTIALS_GRANT:\"client_credentials\",RESOURCE_OWNER_PASSWORD_GRANT:\"password\",REFRESH_TOKEN_GRANT:\"refresh_token\",DEVICE_CODE_GRANT:\"device_code\",JWT_BEARER:\"urn:ietf:params:oauth:grant-type:jwt-bearer\"},Za={MSSTS_ACCOUNT_TYPE:\"MSSTS\",ADFS_ACCOUNT_TYPE:\"ADFS\",MSAV1_ACCOUNT_TYPE:\"MSA\",GENERIC_ACCOUNT_TYPE:\"Generic\"},Qo={CACHE_KEY_SEPARATOR:\"-\",CLIENT_INFO_SEPARATOR:\".\"},Ke={ID_TOKEN:\"IdToken\",ACCESS_TOKEN:\"AccessToken\",ACCESS_TOKEN_WITH_AUTH_SCHEME:\"AccessToken_With_AuthScheme\",REFRESH_TOKEN:\"RefreshToken\"};var Xd=\"appmetadata\",ML=\"client_info\",ws=\"1\",Sl={CACHE_KEY:\"authority-metadata\",REFRESH_TIME_SECONDS:3600*24},br={CONFIG:\"config\",CACHE:\"cache\",NETWORK:\"network\",HARDCODED_VALUES:\"hardcoded_values\"},Gt={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:\"server-telemetry\",CATEGORY_SEPARATOR:\"|\",VALUE_SEPARATOR:\",\",OVERFLOW_TRUE:\"1\",OVERFLOW_FALSE:\"0\",UNKNOWN_ERROR:\"unknown_error\"},Te={BEARER:\"Bearer\",POP:\"pop\",SSH:\"ssh-cert\"},Oi={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:\"throttling\",X_MS_LIB_CAPABILITY_VALUE:\"retry-after, h429\"},Zd={INVALID_GRANT_ERROR:\"invalid_grant\",CLIENT_MISMATCH_ERROR:\"client_mismatch\"},eh={username:\"username\",password:\"password\"},eA={FAILED_AUTO_DETECTION:\"1\",INTERNAL_CACHE:\"2\",ENVIRONMENT_VARIABLE:\"3\",IMDS:\"4\"},_C={CONFIGURED_NO_AUTO_DETECTION:\"2\",AUTO_DETECTION_REQUESTED_SUCCESSFUL:\"4\",AUTO_DETECTION_REQUESTED_FAILED:\"5\"},tt={NOT_APPLICABLE:\"0\",FORCE_REFRESH_OR_CLAIMS:\"1\",NO_CACHED_ACCESS_TOKEN:\"2\",CACHED_ACCESS_TOKEN_EXPIRED:\"3\",PROACTIVELY_REFRESHED:\"4\"};var Tl=300,rr={BASE64:\"base64\",HEX:\"hex\",UTF8:\"utf-8\"};var bl={};fr(bl,{postRequestFailed:()=>rh,unexpectedError:()=>th});var th=\"unexpected_error\",rh=\"post_request_failed\";var HC={[th]:\"Unexpected error in authentication.\",[rh]:\"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details.\"},BR={unexpectedError:{code:th,desc:HC[th]},postRequestFailed:{code:rh,desc:HC[rh]}},fe=class t extends Error{constructor(e,r,n){let i=r?`${e}: ${r}`:e;super(i),Object.setPrototypeOf(this,t.prototype),this.errorCode=e||b.EMPTY_STRING,this.errorMessage=r||b.EMPTY_STRING,this.subError=n||b.EMPTY_STRING,this.name=\"AuthError\"}setCorrelationId(e){this.correlationId=e}};function QR(t,e){return new fe(t,e?`${HC[t]} ${e}`:HC[t])}var We={};fr(We,{authTimeNotFound:()=>wo,authorizationCodeMissingFromServerResponse:()=>fA,bindingKeyNotRemoved:()=>hh,cannotAppendScopeSet:()=>dA,cannotRemoveEmptyScope:()=>uA,clientInfoDecodingError:()=>Rs,clientInfoEmptyError:()=>tA,deviceCodeExpired:()=>sh,deviceCodePollingCancelled:()=>oh,deviceCodeUnknownError:()=>ah,emptyInputScopeSet:()=>bs,endSessionEndpointNotSupported:()=>pA,endpointResolutionError:()=>kr,hashNotDeserialized:()=>oA,invalidAssertion:()=>lh,invalidCacheEnvironment:()=>So,invalidCacheRecord:()=>hA,invalidClientCredential:()=>uh,invalidState:()=>ci,keyIdMissing:()=>EA,maxAgeTranspired:()=>AA,methodNotImplemented:()=>Ie,missingTenantIdError:()=>ph,multipleMatchingAccounts:()=>ih,multipleMatchingAppMetadata:()=>cA,multipleMatchingTokens:()=>nh,nestedAppAuthBridgeDisabled:()=>Eh,networkError:()=>nA,noAccountFound:()=>Ah,noAccountInSilentRequest:()=>Ro,noCryptoObject:()=>ks,noNetworkConnectivity:()=>gh,nonceMismatch:()=>aA,nullOrEmptyToken:()=>rA,openIdConfigError:()=>iA,requestCannotBeMade:()=>lA,stateMismatch:()=>sA,stateNotFound:()=>Ts,tokenClaimsCnfRequiredForSignedJwt:()=>gA,tokenParsingError:()=>Ss,tokenRefreshRequired:()=>To,unexpectedCredentialType:()=>ch,userCanceled:()=>fh,userTimeoutReached:()=>dh});var Rs=\"client_info_decoding_error\",tA=\"client_info_empty_error\",Ss=\"token_parsing_error\",rA=\"null_or_empty_token\",kr=\"endpoints_resolution_error\",nA=\"network_error\",iA=\"openid_config_error\",oA=\"hash_not_deserialized\",ci=\"invalid_state\",sA=\"state_mismatch\",Ts=\"state_not_found\",aA=\"nonce_mismatch\",wo=\"auth_time_not_found\",AA=\"max_age_transpired\",nh=\"multiple_matching_tokens\",ih=\"multiple_matching_accounts\",cA=\"multiple_matching_appMetadata\",lA=\"request_cannot_be_made\",uA=\"cannot_remove_empty_scope\",dA=\"cannot_append_scopeset\",bs=\"empty_input_scopeset\",oh=\"device_code_polling_cancelled\",sh=\"device_code_expired\",ah=\"device_code_unknown_error\",Ro=\"no_account_in_silent_request\",hA=\"invalid_cache_record\",So=\"invalid_cache_environment\",Ah=\"no_account_found\",ks=\"no_crypto_object\",ch=\"unexpected_credential_type\",lh=\"invalid_assertion\",uh=\"invalid_client_credential\",To=\"token_refresh_required\",dh=\"user_timeout_reached\",gA=\"token_claims_cnf_required_for_signedjwt\",fA=\"authorization_code_missing_from_server_response\",hh=\"binding_key_not_removed\",pA=\"end_session_endpoint_not_supported\",EA=\"key_id_missing\",gh=\"no_network_connectivity\",fh=\"user_canceled\",ph=\"missing_tenant_id_error\",Ie=\"method_not_implemented\",Eh=\"nested_app_auth_bridge_disabled\";var pe={[Rs]:\"The client info could not be parsed/decoded correctly\",[tA]:\"The client info was empty\",[Ss]:\"Token cannot be parsed\",[rA]:\"The token is null or empty\",[kr]:\"Endpoints cannot be resolved\",[nA]:\"Network request failed\",[iA]:\"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.\",[oA]:\"The hash parameters could not be deserialized\",[ci]:\"State was not the expected format\",[sA]:\"State mismatch error\",[Ts]:\"State not found\",[aA]:\"Nonce mismatch error\",[wo]:\"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.\",[AA]:\"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.\",[nh]:\"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.\",[ih]:\"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account\",[cA]:\"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata\",[lA]:\"Token request cannot be made without authorization code or refresh token.\",[uA]:\"Cannot remove null or empty scope from ScopeSet\",[dA]:\"Cannot append ScopeSet\",[bs]:\"Empty input ScopeSet cannot be processed\",[oh]:\"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.\",[sh]:\"Device code is expired.\",[ah]:\"Device code stopped polling for unknown reasons.\",[Ro]:\"Please pass an account object, silent flow is not supported without account information\",[hA]:\"Cache record object was null or undefined.\",[So]:\"Invalid environment when attempting to create cache entry\",[Ah]:\"No account found in cache for given key.\",[ks]:\"No crypto object detected.\",[ch]:\"Unexpected credential type.\",[lh]:\"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515\",[uh]:\"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential\",[To]:\"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.\",[dh]:\"User defined timeout for device code polling reached\",[gA]:\"Cannot generate a POP jwt if the token_claims are not populated\",[fA]:\"Server response does not contain an authorization code to proceed\",[hh]:\"Could not remove the credential's binding key from storage.\",[pA]:\"The provided authority does not support logout\",[EA]:\"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.\",[gh]:\"No network connectivity. Check your internet connection.\",[fh]:\"User cancelled the flow.\",[ph]:\"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.\",[Ie]:\"This method has not been implemented\",[Eh]:\"The nested app auth bridge is disabled\"},wR={clientInfoDecodingError:{code:Rs,desc:pe[Rs]},clientInfoEmptyError:{code:tA,desc:pe[tA]},tokenParsingError:{code:Ss,desc:pe[Ss]},nullOrEmptyToken:{code:rA,desc:pe[rA]},endpointResolutionError:{code:kr,desc:pe[kr]},networkError:{code:nA,desc:pe[nA]},unableToGetOpenidConfigError:{code:iA,desc:pe[iA]},hashNotDeserialized:{code:oA,desc:pe[oA]},invalidStateError:{code:ci,desc:pe[ci]},stateMismatchError:{code:sA,desc:pe[sA]},stateNotFoundError:{code:Ts,desc:pe[Ts]},nonceMismatchError:{code:aA,desc:pe[aA]},authTimeNotFoundError:{code:wo,desc:pe[wo]},maxAgeTranspired:{code:AA,desc:pe[AA]},multipleMatchingTokens:{code:nh,desc:pe[nh]},multipleMatchingAccounts:{code:ih,desc:pe[ih]},multipleMatchingAppMetadata:{code:cA,desc:pe[cA]},tokenRequestCannotBeMade:{code:lA,desc:pe[lA]},removeEmptyScopeError:{code:uA,desc:pe[uA]},appendScopeSetError:{code:dA,desc:pe[dA]},emptyInputScopeSetError:{code:bs,desc:pe[bs]},DeviceCodePollingCancelled:{code:oh,desc:pe[oh]},DeviceCodeExpired:{code:sh,desc:pe[sh]},DeviceCodeUnknownError:{code:ah,desc:pe[ah]},NoAccountInSilentRequest:{code:Ro,desc:pe[Ro]},invalidCacheRecord:{code:hA,desc:pe[hA]},invalidCacheEnvironment:{code:So,desc:pe[So]},noAccountFound:{code:Ah,desc:pe[Ah]},noCryptoObj:{code:ks,desc:pe[ks]},unexpectedCredentialType:{code:ch,desc:pe[ch]},invalidAssertion:{code:lh,desc:pe[lh]},invalidClientCredential:{code:uh,desc:pe[uh]},tokenRefreshRequired:{code:To,desc:pe[To]},userTimeoutReached:{code:dh,desc:pe[dh]},tokenClaimsRequired:{code:gA,desc:pe[gA]},noAuthorizationCodeFromServer:{code:fA,desc:pe[fA]},bindingKeyNotRemovedError:{code:hh,desc:pe[hh]},logoutNotSupported:{code:pA,desc:pe[pA]},keyIdMissing:{code:EA,desc:pe[EA]},noNetworkConnectivity:{code:gh,desc:pe[gh]},userCanceledError:{code:fh,desc:pe[fh]},missingTenantIdError:{code:ph,desc:pe[ph]},nestedAppAuthBridgeDisabled:{code:Eh,desc:pe[Eh]}},Ds=class t extends fe{constructor(e,r){super(e,r?`${pe[e]}: ${r}`:pe[e]),this.name=\"ClientAuthError\",Object.setPrototypeOf(this,t.prototype)}};function D(t,e){return new Ds(t,e)}var kl={createNewGuid:()=>{throw D(Ie)},base64Decode:()=>{throw D(Ie)},base64Encode:()=>{throw D(Ie)},base64UrlEncode:()=>{throw D(Ie)},encodeKid:()=>{throw D(Ie)},async getPublicKeyThumbprint(){throw D(Ie)},async removeTokenBindingKey(){throw D(Ie)},async clearKeystore(){throw D(Ie)},async signJwt(){throw D(Ie)},async hashString(){throw D(Ie)}};var Bt;(function(t){t[t.Error=0]=\"Error\",t[t.Warning=1]=\"Warning\",t[t.Info=2]=\"Info\",t[t.Verbose=3]=\"Verbose\",t[t.Trace=4]=\"Trace\"})(Bt||(Bt={}));var Bn=class t{constructor(e,r,n){this.level=Bt.Info;let i=()=>{},o=e||t.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel==\"number\"?o.logLevel:Bt.Info,this.correlationId=o.correlationId||b.EMPTY_STRING,this.packageName=r||b.EMPTY_STRING,this.packageVersion=n||b.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Bt.Info}}clone(e,r,n){return new t({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,r)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;let o=`${`[${new Date().toUTCString()}] : [${r.correlationId||this.correlationId||\"\"}]`} : ${this.packageName}@${this.packageVersion} : ${Bt[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,o,r.containsPii||!1)}executeCallback(e,r,n){this.localCallback&&this.localCallback(e,r,n)}error(e,r){this.logMessage(e,{logLevel:Bt.Error,containsPii:!1,correlationId:r||b.EMPTY_STRING})}errorPii(e,r){this.logMessage(e,{logLevel:Bt.Error,containsPii:!0,correlationId:r||b.EMPTY_STRING})}warning(e,r){this.logMessage(e,{logLevel:Bt.Warning,containsPii:!1,correlationId:r||b.EMPTY_STRING})}warningPii(e,r){this.logMessage(e,{logLevel:Bt.Warning,containsPii:!0,correlationId:r||b.EMPTY_STRING})}info(e,r){this.logMessage(e,{logLevel:Bt.Info,containsPii:!1,correlationId:r||b.EMPTY_STRING})}infoPii(e,r){this.logMessage(e,{logLevel:Bt.Info,containsPii:!0,correlationId:r||b.EMPTY_STRING})}verbose(e,r){this.logMessage(e,{logLevel:Bt.Verbose,containsPii:!1,correlationId:r||b.EMPTY_STRING})}verbosePii(e,r){this.logMessage(e,{logLevel:Bt.Verbose,containsPii:!0,correlationId:r||b.EMPTY_STRING})}trace(e,r){this.logMessage(e,{logLevel:Bt.Trace,containsPii:!1,correlationId:r||b.EMPTY_STRING})}tracePii(e,r){this.logMessage(e,{logLevel:Bt.Trace,containsPii:!0,correlationId:r||b.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};var qC=\"@azure/msal-common\",Dl=\"15.13.0\";var bo={None:\"none\",AzurePublic:\"https://login.microsoftonline.com\",AzurePpe:\"https://login.windows-ppe.net\",AzureChina:\"https://login.chinacloudapi.cn\",AzureGermany:\"https://login.microsoftonline.de\",AzureUsGovernment:\"https://login.microsoftonline.us\"};var xl={};fr(xl,{authorityMismatch:()=>Rh,authorityUriInsecure:()=>mA,cannotAllowPlatformBroker:()=>wh,cannotSetOIDCOptions:()=>Qh,claimsRequestParsingError:()=>Ch,emptyInputScopesError:()=>IA,invalidAuthenticationHeader:()=>Bh,invalidAuthorityMetadata:()=>RA,invalidAuthorizePostBodyParameters:()=>Th,invalidClaims:()=>xs,invalidCloudDiscoveryMetadata:()=>vs,invalidCodeChallengeMethod:()=>mh,invalidRequestMethodForEAR:()=>Sh,logoutRequestEmpty:()=>QA,missingNonceAuthenticationHeader:()=>Ih,missingSshJwk:()=>ko,missingSshKid:()=>yh,pkceParamsMissing:()=>wA,redirectUriEmpty:()=>CA,tokenRequestEmpty:()=>BA,untrustedAuthority:()=>SA,urlEmptyError:()=>yA,urlParseError:()=>Ui});var CA=\"redirect_uri_empty\",Ch=\"claims_request_parsing_error\",mA=\"authority_uri_insecure\",Ui=\"url_parse_error\",yA=\"empty_url_error\",IA=\"empty_input_scopes_error\",xs=\"invalid_claims\",BA=\"token_request_empty\",QA=\"logout_request_empty\",mh=\"invalid_code_challenge_method\",wA=\"pkce_params_missing\",vs=\"invalid_cloud_discovery_metadata\",RA=\"invalid_authority_metadata\",SA=\"untrusted_authority\",ko=\"missing_ssh_jwk\",yh=\"missing_ssh_kid\",Ih=\"missing_nonce_authentication_header\",Bh=\"invalid_authentication_header\",Qh=\"cannot_set_OIDCOptions\",wh=\"cannot_allow_platform_broker\",Rh=\"authority_mismatch\",Sh=\"invalid_request_method_for_EAR\",Th=\"invalid_authorize_post_body_parameters\";var Et={[CA]:\"A redirect URI is required for all calls, and none has been set.\",[Ch]:\"Could not parse the given claims request object.\",[mA]:\"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options\",[Ui]:\"URL could not be parsed into appropriate segments.\",[yA]:\"URL was empty or null.\",[IA]:\"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.\",[xs]:\"Given claims parameter must be a stringified JSON object.\",[BA]:\"Token request was empty and not found in cache.\",[QA]:\"The logout request was null or undefined.\",[mh]:'code_challenge_method passed is invalid. Valid values are \"plain\" and \"S256\".',[wA]:\"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request\",[vs]:\"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields\",[RA]:\"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.\",[SA]:\"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.\",[ko]:\"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.\",[yh]:\"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.\",[Ih]:\"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.\",[Bh]:\"Invalid authentication header provided\",[Qh]:\"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.\",[wh]:\"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.\",[Rh]:\"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.\",[Th]:\"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.\",[Sh]:\"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST.\"},RR={redirectUriNotSet:{code:CA,desc:Et[CA]},claimsRequestParsingError:{code:Ch,desc:Et[Ch]},authorityUriInsecure:{code:mA,desc:Et[mA]},urlParseError:{code:Ui,desc:Et[Ui]},urlEmptyError:{code:yA,desc:Et[yA]},emptyScopesError:{code:IA,desc:Et[IA]},invalidClaimsRequest:{code:xs,desc:Et[xs]},tokenRequestEmptyError:{code:BA,desc:Et[BA]},logoutRequestEmptyError:{code:QA,desc:Et[QA]},invalidCodeChallengeMethod:{code:mh,desc:Et[mh]},invalidCodeChallengeParams:{code:wA,desc:Et[wA]},invalidCloudDiscoveryMetadata:{code:vs,desc:Et[vs]},invalidAuthorityMetadata:{code:RA,desc:Et[RA]},untrustedAuthority:{code:SA,desc:Et[SA]},missingSshJwk:{code:ko,desc:Et[ko]},missingSshKid:{code:yh,desc:Et[yh]},missingNonceAuthenticationHeader:{code:Ih,desc:Et[Ih]},invalidAuthenticationHeader:{code:Bh,desc:Et[Bh]},cannotSetOIDCOptions:{code:Qh,desc:Et[Qh]},cannotAllowPlatformBroker:{code:wh,desc:Et[wh]},authorityMismatch:{code:Rh,desc:Et[Rh]},invalidAuthorizePostBodyParameters:{code:Th,desc:Et[Th]},invalidRequestMethodForEAR:{code:Sh,desc:Et[Sh]}},vl=class t extends fe{constructor(e){super(e,Et[e]),this.name=\"ClientConfigurationError\",Object.setPrototypeOf(this,t.prototype)}};function ze(t){return new vl(t)}var je=class{static isEmptyObj(e){if(e)try{let r=JSON.parse(e);return Object.keys(r).length===0}catch{}return!0}static startsWith(e,r){return e.indexOf(r)===0}static endsWith(e,r){return e.length>=r.length&&e.lastIndexOf(r)===e.length-r.length}static queryStringToObject(e){let r={},n=e.split(\"&\"),i=o=>decodeURIComponent(o.replace(/\\+/g,\" \"));return n.forEach(o=>{if(o.trim()){let[s,a]=o.split(/=(.+)/g,2);s&&a&&(r[i(s)]=i(a))}}),r}static trimArrayEntries(e){return e.map(r=>r.trim())}static removeEmptyStringsFromArray(e){return e.filter(r=>!!r)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,r){return new RegExp(e.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\*/g,\"[^ ]*\").replace(/\\?/g,\"\\\\?\")).test(r)}};var Ot=class t{constructor(e){let r=e?je.trimArrayEntries([...e]):[],n=r?je.removeEmptyStringsFromArray(r):[];if(!n||!n.length)throw ze(IA);this.scopes=new Set,n.forEach(i=>this.scopes.add(i))}static fromString(e){let n=(e||b.EMPTY_STRING).split(\" \");return new t(n)}static createSearchScopes(e){let r=e&&e.length>0?e:[...lr],n=new t(r);return n.containsOnlyOIDCScopes()?n.removeScope(b.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n}containsScope(e){let r=this.printScopesLowerCase().split(\" \"),n=new t(r);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(r=>this.containsScope(r))}containsOnlyOIDCScopes(){let e=0;return IR.forEach(r=>{this.containsScope(r)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(r=>this.appendScope(r))}catch{throw D(dA)}}removeScope(e){if(!e)throw D(uA);this.scopes.delete(e.trim())}removeOIDCScopes(){IR.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw D(bs);let r=new Set;return e.scopes.forEach(n=>r.add(n.toLowerCase())),this.scopes.forEach(n=>r.add(n.toLowerCase())),r}intersectingScopeSets(e){if(!e)throw D(bs);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let r=this.unionScopeSets(e),n=e.getScopeCount(),i=this.getScopeCount();return r.size<i+n}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(r=>e.push(r)),e}printScopes(){return this.scopes?this.asArray().join(\" \"):b.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};function FL(t,e){return!!t&&!!e&&t===e.split(\".\")[1]}function bh(t,e,r,n){if(n){let{oid:i,sub:o,tid:s,name:a,tfp:A,acr:c,preferred_username:l,upn:u,login_hint:d}=n,h=s||A||c||\"\";return{tenantId:h,localAccountId:i||o||\"\",name:a,username:l||u||\"\",loginHint:d,isHomeTenant:FL(h,t)}}else return{tenantId:r,localAccountId:e,username:\"\",isHomeTenant:FL(r,t)}}function GC(t,e,r,n){let i=t;if(e){let{isHomeTenant:o,...s}=e;i={...t,...s}}if(r){let{isHomeTenant:o,...s}=bh(t.homeAccountId,t.localAccountId,t.tenantId,r);return i={...i,...s,idTokenClaims:r,idToken:n},i}return i}var YC={};fr(YC,{checkMaxAge:()=>kh,extractTokenClaims:()=>Do,getJWSPayload:()=>LL});function Do(t,e){let r=LL(t);try{let n=e(r);return JSON.parse(n)}catch{throw D(Ss)}}function LL(t){if(!t)throw D(rA);let r=/^([^\\.\\s]*)\\.([^\\.\\s]+)\\.([^\\.\\s]*)$/.exec(t);if(!r||r.length<4)throw D(Ss);return r[2]}function kh(t,e){if(e===0||Date.now()-3e5>t+e)throw D(AA)}var nr={};fr(nr,{getDeserializedResponse:()=>SR,mapToQueryString:()=>_i,normalizeUrlForComparison:()=>e6,stripLeadingHashOrQuery:()=>UL});function OL(t){if(!t)return t;let e=t.toLowerCase();return je.endsWith(e,\"?\")?e=e.slice(0,-1):je.endsWith(e,\"?/\")&&(e=e.slice(0,-2)),je.endsWith(e,\"/\")||(e+=\"/\"),e}function UL(t){return t.startsWith(\"#/\")?t.substring(2):t.startsWith(\"#\")||t.startsWith(\"?\")?t.substring(1):t}function SR(t){if(!t||t.indexOf(\"=\")<0)return null;try{let e=UL(t),r=Object.fromEntries(new URLSearchParams(e));if(r.code||r.ear_jwe||r.error||r.error_description||r.state)return r}catch{throw D(oA)}return null}function _i(t,e=!0,r){let n=new Array;return t.forEach((i,o)=>{!e&&r&&o in r?n.push(`${o}=${i}`):n.push(`${o}=${encodeURIComponent(i)}`)}),n.join(\"&\")}function e6(t){if(!t)return t;let e=t.split(\"#\")[0];try{let r=new URL(e),n=r.origin+r.pathname+r.search;return OL(n)}catch{return OL(e)}}var Re=class t{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw ze(yA);e.includes(\"#\")||(this._urlString=t.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let r=e.toLowerCase();return je.endsWith(r,\"?\")?r=r.slice(0,-1):je.endsWith(r,\"?/\")&&(r=r.slice(0,-2)),je.endsWith(r,\"/\")||(r+=\"/\"),r}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw ze(Ui)}if(!e.HostNameAndPort||!e.PathSegments)throw ze(Ui);if(!e.Protocol||e.Protocol.toLowerCase()!==\"https:\")throw ze(mA)}static appendQueryString(e,r){return r?e.indexOf(\"?\")<0?`${e}?${r}`:`${e}&${r}`:e}static removeHashFromUrl(e){return t.canonicalizeUri(e.split(\"#\")[0])}replaceTenantPath(e){let r=this.getUrlComponents(),n=r.PathSegments;return e&&n.length!==0&&(n[0]===jr.COMMON||n[0]===jr.ORGANIZATIONS)&&(n[0]=e),t.constructAuthorityUriFromObject(r)}getUrlComponents(){let e=RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?\"),r=this.urlString.match(e);if(!r)throw ze(Ui);let n={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]},i=n.AbsolutePath.split(\"/\");return i=i.filter(o=>o&&o.length>0),n.PathSegments=i,n.QueryString&&n.QueryString.endsWith(\"/\")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){let r=RegExp(\"^([^:/?#]+://)?([^/?#]*)\"),n=e.match(r);if(!n)throw ze(Ui);return n[2]}static getAbsoluteUrl(e,r){if(e[0]===b.FORWARD_SLASH){let i=new t(r).getUrlComponents();return i.Protocol+\"//\"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new t(e.Protocol+\"//\"+e.HostNameAndPort+\"/\"+e.PathSegments.join(\"/\"))}static hashContainsKnownProperties(e){return!!SR(e)}};var HL={endpointMetadata:{\"login.microsoftonline.com\":{token_endpoint:\"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token\",jwks_uri:\"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys\",issuer:\"https://login.microsoftonline.com/{tenantid}/v2.0\",authorization_endpoint:\"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize\",end_session_endpoint:\"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout\"},\"login.chinacloudapi.cn\":{token_endpoint:\"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token\",jwks_uri:\"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys\",issuer:\"https://login.partner.microsoftonline.cn/{tenantid}/v2.0\",authorization_endpoint:\"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize\",end_session_endpoint:\"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout\"},\"login.microsoftonline.us\":{token_endpoint:\"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token\",jwks_uri:\"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys\",issuer:\"https://login.microsoftonline.us/{tenantid}/v2.0\",authorization_endpoint:\"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize\",end_session_endpoint:\"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout\"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:\"login.microsoftonline.com\",preferred_cache:\"login.windows.net\",aliases:[\"login.microsoftonline.com\",\"login.windows.net\",\"login.microsoft.com\",\"sts.windows.net\"]},{preferred_network:\"login.partner.microsoftonline.cn\",preferred_cache:\"login.partner.microsoftonline.cn\",aliases:[\"login.partner.microsoftonline.cn\",\"login.chinacloudapi.cn\"]},{preferred_network:\"login.microsoftonline.de\",preferred_cache:\"login.microsoftonline.de\",aliases:[\"login.microsoftonline.de\"]},{preferred_network:\"login.microsoftonline.us\",preferred_cache:\"login.microsoftonline.us\",aliases:[\"login.microsoftonline.us\",\"login.usgovcloudapi.net\"]},{preferred_network:\"login-us.microsoftonline.com\",preferred_cache:\"login-us.microsoftonline.com\",aliases:[\"login-us.microsoftonline.com\"]}]}},TR=HL.endpointMetadata,bR=HL.instanceDiscoveryMetadata,kR=new Set;bR.metadata.forEach(t=>{t.aliases.forEach(e=>{kR.add(e)})});function qL(t,e){let r,n=t.canonicalAuthority;if(n){let i=new Re(n).getUrlComponents().HostNameAndPort;r=_L(i,t.cloudDiscoveryMetadata?.metadata,br.CONFIG,e)||_L(i,bR.metadata,br.HARDCODED_VALUES,e)||t.knownAuthorities}return r||[]}function _L(t,e,r,n){if(n?.trace(`getAliasesFromMetadata called with source: ${r}`),t&&e){let i=Dh(e,t);if(i)return n?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),i.aliases;n?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}function GL(t){return Dh(bR.metadata,t)}function Dh(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(n.aliases.includes(e))return n}return null}var DR=\"cache_quota_exceeded\",VC=\"cache_error_unknown\";var xR={[DR]:\"Exceeded cache storage capacity.\",[VC]:\"Unexpected error occurred when using cache storage.\"},xh=class t extends fe{constructor(e,r){let n=r||(xR[e]?xR[e]:xR[VC]);super(`${e}: ${n}`),Object.setPrototypeOf(this,t.prototype),this.name=\"CacheError\",this.errorCode=e,this.errorMessage=n}};function YL(t){return t instanceof Error?t.name===\"QuotaExceededError\"||t.name===\"NS_ERROR_DOM_QUOTA_REACHED\"||t.message.includes(\"exceeded the quota\")?new xh(DR):new xh(t.name,t.message):new xh(VC)}var Ns=class{constructor(e,r,n,i,o){this.clientId=e,this.cryptoImpl=r,this.commonLogger=n.clone(qC,Dl),this.staticAuthorityOptions=o,this.performanceClient=i}getAllAccounts(e,r){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,r),r,e)}getAccountInfoFilteredBy(e,r){if(Object.keys(e).length===0||Object.values(e).every(i=>!i))return this.commonLogger.warning(\"getAccountInfoFilteredBy: Account filter is empty or invalid, returning null\"),null;let n=this.getAllAccounts(e,r);return n.length>1?n.sort(o=>o.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(e,r){let n=this.getAccountsFilteredBy(e,r);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,r,n){return e.flatMap(i=>this.getTenantProfilesFromAccountEntity(i,r,n?.tenantId,n))}getTenantedAccountInfoByFilter(e,r,n,i,o){let s=null,a;if(o&&!this.tenantProfileMatchesFilter(n,o))return null;let A=this.getIdToken(e,i,r,n.tenantId);return A&&(a=Do(A.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(a,o))?null:(s=GC(e,n,a,A?.secret),s)}getTenantProfilesFromAccountEntity(e,r,n,i){let o=e.getAccountInfo(),s=o.tenantProfiles||new Map,a=this.getTokenKeys();if(n){let c=s.get(n);if(c)s=new Map([[n,c]]);else return[]}let A=[];return s.forEach(c=>{let l=this.getTenantedAccountInfoByFilter(o,a,c,r,i);l&&A.push(l)}),A}tenantProfileMatchesFilter(e,r){return!(r.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,r.localAccountId)||r.name&&e.name!==r.name||r.isHomeTenant!==void 0&&e.isHomeTenant!==r.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,r){return!(r&&(r.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,r.localAccountId)||r.loginHint&&!this.matchLoginHintFromTokenClaims(e,r.loginHint)||r.username&&!this.matchUsername(e.preferred_username,r.username)||r.name&&!this.matchName(e,r.name)||r.sid&&!this.matchSid(e,r.sid)))}async saveCacheRecord(e,r,n){if(!e)throw D(hA);try{e.account&&await this.setAccount(e.account,r),e.idToken&&n?.idToken!==!1&&await this.setIdTokenCredential(e.idToken,r),e.accessToken&&n?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,r),e.refreshToken&&n?.refreshToken!==!1&&await this.setRefreshTokenCredential(e.refreshToken,r),e.appMetadata&&this.setAppMetadata(e.appMetadata,r)}catch(i){throw this.commonLogger?.error(\"CacheManager.saveCacheRecord: failed\"),i instanceof fe?i:YL(i)}}async saveAccessToken(e,r){let n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},i=this.getTokenKeys(),o=Ot.fromString(e.target);i.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,n,!1))return;let a=this.getAccessTokenCredential(s,r);a&&this.credentialMatchesFilter(a,n)&&Ot.fromString(a.target).intersectingScopeSets(o)&&this.removeAccessToken(s,r)}),await this.setAccessTokenCredential(e,r)}getAccountsFilteredBy(e,r){let n=this.getAccountKeys(),i=[];return n.forEach(o=>{let s=this.getAccount(o,r);if(!s||e.homeAccountId&&!this.matchHomeAccountId(s,e.homeAccountId)||e.username&&!this.matchUsername(s.username,e.username)||e.environment&&!this.matchEnvironment(s,e.environment)||e.realm&&!this.matchRealm(s,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(s,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(s,e.authorityType))return;let a={localAccountId:e?.localAccountId,name:e?.name},A=s.tenantProfiles?.filter(c=>this.tenantProfileMatchesFilter(c,a));A&&A.length===0||i.push(s)}),i}credentialMatchesFilter(e,r){return!(r.clientId&&!this.matchClientId(e,r.clientId)||r.userAssertionHash&&!this.matchUserAssertionHash(e,r.userAssertionHash)||typeof r.homeAccountId==\"string\"&&!this.matchHomeAccountId(e,r.homeAccountId)||r.environment&&!this.matchEnvironment(e,r.environment)||r.realm&&!this.matchRealm(e,r.realm)||r.credentialType&&!this.matchCredentialType(e,r.credentialType)||r.familyId&&!this.matchFamilyId(e,r.familyId)||r.target&&!this.matchTarget(e,r.target)||(r.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==r.requestedClaimsHash||e.credentialType===Ke.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(r.tokenType&&!this.matchTokenType(e,r.tokenType)||r.tokenType===Te.SSH&&r.keyId&&!this.matchKeyId(e,r.keyId)))}getAppMetadataFilteredBy(e){let r=this.getKeys(),n={};return r.forEach(i=>{if(!this.isAppMetadata(i))return;let o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(n[i]=o))}),n}getAuthorityMetadataByAlias(e){let r=this.getAuthorityMetadataKeys(),n=null;return r.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;let o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(e)!==-1&&(n=o)}),n}removeAllAccounts(e){this.getAllAccounts({},e).forEach(n=>{this.removeAccount(n,e)})}removeAccount(e,r){this.removeAccountContext(e,r);let n=this.getAccountKeys(),i=o=>o.includes(e.homeAccountId)&&o.includes(e.environment);n.filter(i).forEach(o=>{this.removeItem(o,r),this.performanceClient.incrementFields({accountsRemoved:1},r)})}removeAccountContext(e,r){let n=this.getTokenKeys(),i=o=>o.includes(e.homeAccountId)&&o.includes(e.environment);n.idToken.filter(i).forEach(o=>{this.removeIdToken(o,r)}),n.accessToken.filter(i).forEach(o=>{this.removeAccessToken(o,r)}),n.refreshToken.filter(i).forEach(o=>{this.removeRefreshToken(o,r)})}removeAccessToken(e,r){let n=this.getAccessTokenCredential(e,r);if(this.removeItem(e,r),this.performanceClient.incrementFields({accessTokensRemoved:1},r),!n||n.credentialType.toLowerCase()!==Ke.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||n.tokenType!==Te.POP)return;let i=n.keyId;i&&this.cryptoImpl.removeTokenBindingKey(i).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${i}`,r),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},r)})}removeAppMetadata(e){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n,e)}),!0}getIdToken(e,r,n,i,o){this.commonLogger.trace(\"CacheManager - getIdToken called\");let s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Ke.ID_TOKEN,clientId:this.clientId,realm:i},a=this.getIdTokensByFilter(s,r,n),A=a.size;if(A<1)return this.commonLogger.info(\"CacheManager:getIdToken - No token found\"),null;if(A>1){let c=a;if(!i){let l=new Map;a.forEach((d,h)=>{d.realm===e.tenantId&&l.set(h,d)});let u=l.size;if(u<1)return this.commonLogger.info(\"CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result\"),a.values().next().value;if(u===1)return this.commonLogger.info(\"CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile\"),l.values().next().value;c=l}return this.commonLogger.info(\"CacheManager:getIdToken - Multiple matching ID tokens found, clearing them\"),c.forEach((l,u)=>{this.removeIdToken(u,r)}),o&&r&&o.addFields({multiMatchedID:a.size},r),null}return this.commonLogger.info(\"CacheManager:getIdToken - Returning ID token\"),a.values().next().value}getIdTokensByFilter(e,r,n){let i=n&&n.idToken||this.getTokenKeys().idToken,o=new Map;return i.forEach(s=>{if(!this.idTokenKeyMatchesFilter(s,{clientId:this.clientId,...e}))return;let a=this.getIdTokenCredential(s,r);a&&this.credentialMatchesFilter(a,e)&&o.set(s,a)}),o}idTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}removeIdToken(e,r){this.removeItem(e,r)}removeRefreshToken(e,r){this.removeItem(e,r)}getAccessToken(e,r,n,i){let o=r.correlationId;this.commonLogger.trace(\"CacheManager - getAccessToken called\",o);let s=Ot.createSearchScopes(r.scopes),a=r.authenticationScheme||Te.BEARER,A=a&&a.toLowerCase()!==Te.BEARER.toLowerCase()?Ke.ACCESS_TOKEN_WITH_AUTH_SCHEME:Ke.ACCESS_TOKEN,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:A,clientId:this.clientId,realm:i||e.tenantId,target:s,tokenType:a,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},l=n&&n.accessToken||this.getTokenKeys().accessToken,u=[];l.forEach(h=>{if(this.accessTokenKeyMatchesFilter(h,c,!0)){let g=this.getAccessTokenCredential(h,o);g&&this.credentialMatchesFilter(g,c)&&u.push(g)}});let d=u.length;return d<1?(this.commonLogger.info(\"CacheManager:getAccessToken - No token found\",o),null):d>1?(this.commonLogger.info(\"CacheManager:getAccessToken - Multiple access tokens found, clearing them\",o),u.forEach(h=>{this.removeAccessToken(this.generateCredentialKey(h),o)}),this.performanceClient.addFields({multiMatchedAT:u.length},o),null):(this.commonLogger.info(\"CacheManager:getAccessToken - Returning access token\",o),u[0])}accessTokenKeyMatchesFilter(e,r,n){let i=e.toLowerCase();if(r.clientId&&i.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&i.indexOf(r.homeAccountId.toLowerCase())===-1||r.realm&&i.indexOf(r.realm.toLowerCase())===-1||r.requestedClaimsHash&&i.indexOf(r.requestedClaimsHash.toLowerCase())===-1)return!1;if(r.target){let o=r.target.asArray();for(let s=0;s<o.length;s++){if(n&&!i.includes(o[s].toLowerCase()))return!1;if(!n&&i.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,r){let n=this.getTokenKeys(),i=[];return n.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,e,!0))return;let s=this.getAccessTokenCredential(o,r);s&&this.credentialMatchesFilter(s,e)&&i.push(s)}),i}getRefreshToken(e,r,n,i,o){this.commonLogger.trace(\"CacheManager - getRefreshToken called\");let s=r?ws:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Ke.REFRESH_TOKEN,clientId:this.clientId,familyId:s},A=i&&i.refreshToken||this.getTokenKeys().refreshToken,c=[];A.forEach(u=>{if(this.refreshTokenKeyMatchesFilter(u,a)){let d=this.getRefreshTokenCredential(u,n);d&&this.credentialMatchesFilter(d,a)&&c.push(d)}});let l=c.length;return l<1?(this.commonLogger.info(\"CacheManager:getRefreshToken - No refresh token found.\"),null):(l>1&&o&&n&&o.addFields({multiMatchedRT:l},n),this.commonLogger.info(\"CacheManager:getRefreshToken - returning refresh token\"),c[0])}refreshTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.familyId&&n.indexOf(r.familyId.toLowerCase())===-1||!r.familyId&&r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let r={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(r),i=Object.keys(n).map(s=>n[s]),o=i.length;if(o<1)return null;if(o>1)throw D(cA);return i[0]}isAppMetadataFOCI(e){let r=this.readAppMetadataFromCache(e);return!!(r&&r.familyId===ws)}matchHomeAccountId(e,r){return typeof e.homeAccountId==\"string\"&&r===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,r){let n=e.oid||e.sub;return r===n}matchLocalAccountIdFromTenantProfile(e,r){return e.localAccountId===r}matchName(e,r){return r.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,r){return!!(e&&typeof e==\"string\"&&r?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,r){return!!(e.userAssertionHash&&r===e.userAssertionHash)}matchEnvironment(e,r){if(this.staticAuthorityOptions){let i=qL(this.staticAuthorityOptions,this.commonLogger);if(i.includes(r)&&i.includes(e.environment))return!0}let n=this.getAuthorityMetadataByAlias(r);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,r){return e.credentialType&&r.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,r){return!!(e.clientId&&r===e.clientId)}matchFamilyId(e,r){return!!(e.familyId&&r===e.familyId)}matchRealm(e,r){return e.realm?.toLowerCase()===r.toLowerCase()}matchNativeAccountId(e,r){return!!(e.nativeAccountId&&r===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,r){return e.login_hint===r||e.preferred_username===r||e.upn===r}matchSid(e,r){return e.sid===r}matchAuthorityType(e,r){return!!(e.authorityType&&r.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,r){return e.credentialType!==Ke.ACCESS_TOKEN&&e.credentialType!==Ke.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Ot.fromString(e.target).containsScopeSet(r)}matchTokenType(e,r){return!!(e.tokenType&&e.tokenType===r)}matchKeyId(e,r){return!!(e.keyId&&e.keyId===r)}isAppMetadata(e){return e.indexOf(Xd)!==-1}isAuthorityMetadata(e){return e.indexOf(Sl.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Sl.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,r){for(let n in r)e[n]=r[n];return e}},vh=class extends Ns{async setAccount(){throw D(Ie)}getAccount(){throw D(Ie)}async setIdTokenCredential(){throw D(Ie)}getIdTokenCredential(){throw D(Ie)}async setAccessTokenCredential(){throw D(Ie)}getAccessTokenCredential(){throw D(Ie)}async setRefreshTokenCredential(){throw D(Ie)}getRefreshTokenCredential(){throw D(Ie)}setAppMetadata(){throw D(Ie)}getAppMetadata(){throw D(Ie)}setServerTelemetry(){throw D(Ie)}getServerTelemetry(){throw D(Ie)}setAuthorityMetadata(){throw D(Ie)}getAuthorityMetadata(){throw D(Ie)}getAuthorityMetadataKeys(){throw D(Ie)}setThrottlingCache(){throw D(Ie)}getThrottlingCache(){throw D(Ie)}removeItem(){throw D(Ie)}getKeys(){throw D(Ie)}getAccountKeys(){throw D(Ie)}getTokenKeys(){throw D(Ie)}generateCredentialKey(){throw D(Ie)}generateAccountKey(){throw D(Ie)}};var ur={AAD:\"AAD\",OIDC:\"OIDC\",EAR:\"EAR\"};var w={AcquireTokenByCode:\"acquireTokenByCode\",AcquireTokenByRefreshToken:\"acquireTokenByRefreshToken\",AcquireTokenSilent:\"acquireTokenSilent\",AcquireTokenSilentAsync:\"acquireTokenSilentAsync\",AcquireTokenPopup:\"acquireTokenPopup\",AcquireTokenPreRedirect:\"acquireTokenPreRedirect\",AcquireTokenRedirect:\"acquireTokenRedirect\",CryptoOptsGetPublicKeyThumbprint:\"cryptoOptsGetPublicKeyThumbprint\",CryptoOptsSignJwt:\"cryptoOptsSignJwt\",SilentCacheClientAcquireToken:\"silentCacheClientAcquireToken\",SilentIframeClientAcquireToken:\"silentIframeClientAcquireToken\",AwaitConcurrentIframe:\"awaitConcurrentIframe\",SilentRefreshClientAcquireToken:\"silentRefreshClientAcquireToken\",SsoSilent:\"ssoSilent\",StandardInteractionClientGetDiscoveredAuthority:\"standardInteractionClientGetDiscoveredAuthority\",FetchAccountIdWithNativeBroker:\"fetchAccountIdWithNativeBroker\",NativeInteractionClientAcquireToken:\"nativeInteractionClientAcquireToken\",BaseClientCreateTokenRequestHeaders:\"baseClientCreateTokenRequestHeaders\",NetworkClientSendPostRequestAsync:\"networkClientSendPostRequestAsync\",RefreshTokenClientExecutePostToTokenEndpoint:\"refreshTokenClientExecutePostToTokenEndpoint\",AuthorizationCodeClientExecutePostToTokenEndpoint:\"authorizationCodeClientExecutePostToTokenEndpoint\",BrokerHandhshake:\"brokerHandshake\",AcquireTokenByRefreshTokenInBroker:\"acquireTokenByRefreshTokenInBroker\",AcquireTokenByBroker:\"acquireTokenByBroker\",RefreshTokenClientExecuteTokenRequest:\"refreshTokenClientExecuteTokenRequest\",RefreshTokenClientAcquireToken:\"refreshTokenClientAcquireToken\",RefreshTokenClientAcquireTokenWithCachedRefreshToken:\"refreshTokenClientAcquireTokenWithCachedRefreshToken\",RefreshTokenClientAcquireTokenByRefreshToken:\"refreshTokenClientAcquireTokenByRefreshToken\",RefreshTokenClientCreateTokenRequestBody:\"refreshTokenClientCreateTokenRequestBody\",AcquireTokenFromCache:\"acquireTokenFromCache\",SilentFlowClientAcquireCachedToken:\"silentFlowClientAcquireCachedToken\",SilentFlowClientGenerateResultFromCacheRecord:\"silentFlowClientGenerateResultFromCacheRecord\",AcquireTokenBySilentIframe:\"acquireTokenBySilentIframe\",InitializeBaseRequest:\"initializeBaseRequest\",InitializeSilentRequest:\"initializeSilentRequest\",InitializeClientApplication:\"initializeClientApplication\",InitializeCache:\"initializeCache\",SilentIframeClientTokenHelper:\"silentIframeClientTokenHelper\",SilentHandlerInitiateAuthRequest:\"silentHandlerInitiateAuthRequest\",SilentHandlerMonitorIframeForHash:\"silentHandlerMonitorIframeForHash\",SilentHandlerLoadFrame:\"silentHandlerLoadFrame\",SilentHandlerLoadFrameSync:\"silentHandlerLoadFrameSync\",StandardInteractionClientCreateAuthCodeClient:\"standardInteractionClientCreateAuthCodeClient\",StandardInteractionClientGetClientConfiguration:\"standardInteractionClientGetClientConfiguration\",StandardInteractionClientInitializeAuthorizationRequest:\"standardInteractionClientInitializeAuthorizationRequest\",GetAuthCodeUrl:\"getAuthCodeUrl\",GetStandardParams:\"getStandardParams\",HandleCodeResponseFromServer:\"handleCodeResponseFromServer\",HandleCodeResponse:\"handleCodeResponse\",HandleResponseEar:\"handleResponseEar\",HandleResponsePlatformBroker:\"handleResponsePlatformBroker\",HandleResponseCode:\"handleResponseCode\",UpdateTokenEndpointAuthority:\"updateTokenEndpointAuthority\",AuthClientAcquireToken:\"authClientAcquireToken\",AuthClientExecuteTokenRequest:\"authClientExecuteTokenRequest\",AuthClientCreateTokenRequestBody:\"authClientCreateTokenRequestBody\",PopTokenGenerateCnf:\"popTokenGenerateCnf\",PopTokenGenerateKid:\"popTokenGenerateKid\",HandleServerTokenResponse:\"handleServerTokenResponse\",DeserializeResponse:\"deserializeResponse\",AuthorityFactoryCreateDiscoveredInstance:\"authorityFactoryCreateDiscoveredInstance\",AuthorityResolveEndpointsAsync:\"authorityResolveEndpointsAsync\",AuthorityResolveEndpointsFromLocalSources:\"authorityResolveEndpointsFromLocalSources\",AuthorityGetCloudDiscoveryMetadataFromNetwork:\"authorityGetCloudDiscoveryMetadataFromNetwork\",AuthorityUpdateCloudDiscoveryMetadata:\"authorityUpdateCloudDiscoveryMetadata\",AuthorityGetEndpointMetadataFromNetwork:\"authorityGetEndpointMetadataFromNetwork\",AuthorityUpdateEndpointMetadata:\"authorityUpdateEndpointMetadata\",AuthorityUpdateMetadataWithRegionalInformation:\"authorityUpdateMetadataWithRegionalInformation\",RegionDiscoveryDetectRegion:\"regionDiscoveryDetectRegion\",RegionDiscoveryGetRegionFromIMDS:\"regionDiscoveryGetRegionFromIMDS\",RegionDiscoveryGetCurrentVersion:\"regionDiscoveryGetCurrentVersion\",AcquireTokenByCodeAsync:\"acquireTokenByCodeAsync\",GetEndpointMetadataFromNetwork:\"getEndpointMetadataFromNetwork\",GetCloudDiscoveryMetadataFromNetworkMeasurement:\"getCloudDiscoveryMetadataFromNetworkMeasurement\",HandleRedirectPromiseMeasurement:\"handleRedirectPromise\",HandleNativeRedirectPromiseMeasurement:\"handleNativeRedirectPromise\",UpdateCloudDiscoveryMetadataMeasurement:\"updateCloudDiscoveryMetadataMeasurement\",UsernamePasswordClientAcquireToken:\"usernamePasswordClientAcquireToken\",NativeMessageHandlerHandshake:\"nativeMessageHandlerHandshake\",NativeGenerateAuthResult:\"nativeGenerateAuthResult\",RemoveHiddenIframe:\"removeHiddenIframe\",ClearTokensAndKeysWithClaims:\"clearTokensAndKeysWithClaims\",CacheManagerGetRefreshToken:\"cacheManagerGetRefreshToken\",ImportExistingCache:\"importExistingCache\",SetUserData:\"setUserData\",LocalStorageUpdated:\"localStorageUpdated\",GeneratePkceCodes:\"generatePkceCodes\",GenerateCodeVerifier:\"generateCodeVerifier\",GenerateCodeChallengeFromVerifier:\"generateCodeChallengeFromVerifier\",Sha256Digest:\"sha256Digest\",GetRandomValues:\"getRandomValues\",GenerateHKDF:\"generateHKDF\",GenerateBaseKey:\"generateBaseKey\",Base64Decode:\"base64Decode\",UrlEncodeArr:\"urlEncodeArr\",Encrypt:\"encrypt\",Decrypt:\"decrypt\",GenerateEarKey:\"generateEarKey\",DecryptEarResponse:\"decryptEarResponse\"},iLe=new Map([[w.AcquireTokenByCode,\"ATByCode\"],[w.AcquireTokenByRefreshToken,\"ATByRT\"],[w.AcquireTokenSilent,\"ATS\"],[w.AcquireTokenSilentAsync,\"ATSAsync\"],[w.AcquireTokenPopup,\"ATPopup\"],[w.AcquireTokenRedirect,\"ATRedirect\"],[w.CryptoOptsGetPublicKeyThumbprint,\"CryptoGetPKThumb\"],[w.CryptoOptsSignJwt,\"CryptoSignJwt\"],[w.SilentCacheClientAcquireToken,\"SltCacheClientAT\"],[w.SilentIframeClientAcquireToken,\"SltIframeClientAT\"],[w.SilentRefreshClientAcquireToken,\"SltRClientAT\"],[w.SsoSilent,\"SsoSlt\"],[w.StandardInteractionClientGetDiscoveredAuthority,\"StdIntClientGetDiscAuth\"],[w.FetchAccountIdWithNativeBroker,\"FetchAccIdWithNtvBroker\"],[w.NativeInteractionClientAcquireToken,\"NtvIntClientAT\"],[w.BaseClientCreateTokenRequestHeaders,\"BaseClientCreateTReqHead\"],[w.NetworkClientSendPostRequestAsync,\"NetClientSendPost\"],[w.RefreshTokenClientExecutePostToTokenEndpoint,\"RTClientExecPost\"],[w.AuthorizationCodeClientExecutePostToTokenEndpoint,\"AuthCodeClientExecPost\"],[w.BrokerHandhshake,\"BrokerHandshake\"],[w.AcquireTokenByRefreshTokenInBroker,\"ATByRTInBroker\"],[w.AcquireTokenByBroker,\"ATByBroker\"],[w.RefreshTokenClientExecuteTokenRequest,\"RTClientExecTReq\"],[w.RefreshTokenClientAcquireToken,\"RTClientAT\"],[w.RefreshTokenClientAcquireTokenWithCachedRefreshToken,\"RTClientATWithCachedRT\"],[w.RefreshTokenClientAcquireTokenByRefreshToken,\"RTClientATByRT\"],[w.RefreshTokenClientCreateTokenRequestBody,\"RTClientCreateTReqBody\"],[w.AcquireTokenFromCache,\"ATFromCache\"],[w.SilentFlowClientAcquireCachedToken,\"SltFlowClientATCached\"],[w.SilentFlowClientGenerateResultFromCacheRecord,\"SltFlowClientGenResFromCache\"],[w.AcquireTokenBySilentIframe,\"ATBySltIframe\"],[w.InitializeBaseRequest,\"InitBaseReq\"],[w.InitializeSilentRequest,\"InitSltReq\"],[w.InitializeClientApplication,\"InitClientApplication\"],[w.InitializeCache,\"InitCache\"],[w.ImportExistingCache,\"importCache\"],[w.SetUserData,\"setUserData\"],[w.LocalStorageUpdated,\"localStorageUpdated\"],[w.SilentIframeClientTokenHelper,\"SIClientTHelper\"],[w.SilentHandlerInitiateAuthRequest,\"SHandlerInitAuthReq\"],[w.SilentHandlerMonitorIframeForHash,\"SltHandlerMonitorIframeForHash\"],[w.SilentHandlerLoadFrame,\"SHandlerLoadFrame\"],[w.SilentHandlerLoadFrameSync,\"SHandlerLoadFrameSync\"],[w.StandardInteractionClientCreateAuthCodeClient,\"StdIntClientCreateAuthCodeClient\"],[w.StandardInteractionClientGetClientConfiguration,\"StdIntClientGetClientConf\"],[w.StandardInteractionClientInitializeAuthorizationRequest,\"StdIntClientInitAuthReq\"],[w.GetAuthCodeUrl,\"GetAuthCodeUrl\"],[w.HandleCodeResponseFromServer,\"HandleCodeResFromServer\"],[w.HandleCodeResponse,\"HandleCodeResp\"],[w.HandleResponseEar,\"HandleRespEar\"],[w.HandleResponseCode,\"HandleRespCode\"],[w.HandleResponsePlatformBroker,\"HandleRespPlatBroker\"],[w.UpdateTokenEndpointAuthority,\"UpdTEndpointAuth\"],[w.AuthClientAcquireToken,\"AuthClientAT\"],[w.AuthClientExecuteTokenRequest,\"AuthClientExecTReq\"],[w.AuthClientCreateTokenRequestBody,\"AuthClientCreateTReqBody\"],[w.PopTokenGenerateCnf,\"PopTGenCnf\"],[w.PopTokenGenerateKid,\"PopTGenKid\"],[w.HandleServerTokenResponse,\"HandleServerTRes\"],[w.DeserializeResponse,\"DeserializeRes\"],[w.AuthorityFactoryCreateDiscoveredInstance,\"AuthFactCreateDiscInst\"],[w.AuthorityResolveEndpointsAsync,\"AuthResolveEndpointsAsync\"],[w.AuthorityResolveEndpointsFromLocalSources,\"AuthResolveEndpointsFromLocal\"],[w.AuthorityGetCloudDiscoveryMetadataFromNetwork,\"AuthGetCDMetaFromNet\"],[w.AuthorityUpdateCloudDiscoveryMetadata,\"AuthUpdCDMeta\"],[w.AuthorityGetEndpointMetadataFromNetwork,\"AuthUpdCDMetaFromNet\"],[w.AuthorityUpdateEndpointMetadata,\"AuthUpdEndpointMeta\"],[w.AuthorityUpdateMetadataWithRegionalInformation,\"AuthUpdMetaWithRegInfo\"],[w.RegionDiscoveryDetectRegion,\"RegDiscDetectReg\"],[w.RegionDiscoveryGetRegionFromIMDS,\"RegDiscGetRegFromIMDS\"],[w.RegionDiscoveryGetCurrentVersion,\"RegDiscGetCurrentVer\"],[w.AcquireTokenByCodeAsync,\"ATByCodeAsync\"],[w.GetEndpointMetadataFromNetwork,\"GetEndpointMetaFromNet\"],[w.GetCloudDiscoveryMetadataFromNetworkMeasurement,\"GetCDMetaFromNet\"],[w.HandleRedirectPromiseMeasurement,\"HandleRedirectPromise\"],[w.HandleNativeRedirectPromiseMeasurement,\"HandleNtvRedirectPromise\"],[w.UpdateCloudDiscoveryMetadataMeasurement,\"UpdateCDMeta\"],[w.UsernamePasswordClientAcquireToken,\"UserPassClientAT\"],[w.NativeMessageHandlerHandshake,\"NtvMsgHandlerHandshake\"],[w.NativeGenerateAuthResult,\"NtvGenAuthRes\"],[w.RemoveHiddenIframe,\"RemoveHiddenIframe\"],[w.ClearTokensAndKeysWithClaims,\"ClearTAndKeysWithClaims\"],[w.CacheManagerGetRefreshToken,\"CacheManagerGetRT\"],[w.GeneratePkceCodes,\"GenPkceCodes\"],[w.GenerateCodeVerifier,\"GenCodeVerifier\"],[w.GenerateCodeChallengeFromVerifier,\"GenCodeChallengeFromVerifier\"],[w.Sha256Digest,\"Sha256Digest\"],[w.GetRandomValues,\"GetRandomValues\"],[w.GenerateHKDF,\"genHKDF\"],[w.GenerateBaseKey,\"genBaseKey\"],[w.Base64Decode,\"b64Decode\"],[w.UrlEncodeArr,\"urlEncArr\"],[w.Encrypt,\"encrypt\"],[w.Decrypt,\"decrypt\"],[w.GenerateEarKey,\"genEarKey\"],[w.DecryptEarResponse,\"decryptEarResp\"]]),VL={NotStarted:0,InProgress:1,Completed:2};var JC=class{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}},TA=class{generateId(){return\"callback-id\"}startMeasurement(e,r){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:VL.InProgress,authority:\"\",libraryName:\"\",libraryVersion:\"\",clientId:\"\",name:e,startTimeMs:Date.now(),correlationId:r||\"\"},measurement:new JC}}startPerformanceMeasurement(){return new JC}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return\"\"}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}};var t6={tokenRenewalOffsetSeconds:Tl,preventCorsPreflight:!1},r6={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Bt.Info,correlationId:b.EMPTY_STRING},n6={claimsBasedCachingEnabled:!1},i6={async sendGetRequestAsync(){throw D(Ie)},async sendPostRequestAsync(){throw D(Ie)}},o6={sku:b.SKU,version:Dl,cpu:b.EMPTY_STRING,os:b.EMPTY_STRING},s6={clientSecret:b.EMPTY_STRING,clientAssertion:void 0},a6={azureCloudInstance:bo.None,tenant:`${b.DEFAULT_COMMON_TENANT}`},A6={application:{appName:\"\",appVersion:\"\"}};function JL({authOptions:t,systemOptions:e,loggerOptions:r,cacheOptions:n,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:A,telemetry:c,serverTelemetryManager:l,persistencePlugin:u,serializableCache:d}){let h={...r6,...r};return{authOptions:c6(t),systemOptions:{...t6,...e},loggerOptions:h,cacheOptions:{...n6,...n},storageInterface:i||new vh(t.clientId,kl,new Bn(h),new TA),networkInterface:o||i6,cryptoInterface:s||kl,clientCredentials:a||s6,libraryInfo:{...o6,...A},telemetry:{...A6,...c},serverTelemetryManager:l||null,persistencePlugin:u||null,serializableCache:d||null}}function c6(t){return{clientCapabilities:[],azureCloudOptions:a6,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}function KC(t){return t.authOptions.authority.options.protocolMode===ur.OIDC}var Dr={HOME_ACCOUNT_ID:\"home_account_id\",UPN:\"UPN\"};function Nl(t,e){if(!t)throw D(tA);try{let r=e(t);return JSON.parse(r)}catch{throw D(Rs)}}function Hi(t){if(!t)throw D(Rs);let e=t.split(Qo.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?b.EMPTY_STRING:e[1]}}var J={};fr(J,{addApplicationTelemetry:()=>Mh,addAuthorizationCode:()=>BS,addBrokerParameters:()=>No,addCcsOid:()=>xo,addCcsUpn:()=>Ps,addClaims:()=>NA,addClientAssertion:()=>Oh,addClientAssertionType:()=>Uh,addClientCapabilitiesToClaims:()=>KL,addClientId:()=>xA,addClientInfo:()=>MA,addClientSecret:()=>Lh,addCodeChallengeParams:()=>w6,addCodeVerifier:()=>wS,addCorrelationId:()=>PA,addDeviceCode:()=>R6,addDomainHint:()=>mS,addEARParameters:()=>D6,addExtraQueryParameters:()=>vo,addGrantType:()=>_h,addIdTokenHint:()=>CS,addInstanceAware:()=>Hh,addLibraryInfo:()=>Ph,addLoginHint:()=>Ml,addLogoutHint:()=>RS,addNativeBroker:()=>Q6,addNonce:()=>IS,addOboAssertion:()=>S6,addPassword:()=>k6,addPopToken:()=>qh,addPostBodyParameters:()=>x6,addPostLogoutRedirectUri:()=>ES,addPrompt:()=>yS,addRedirectUri:()=>vA,addRefreshToken:()=>QS,addRequestTokenUse:()=>T6,addResponseMode:()=>pS,addResponseType:()=>B6,addScopes:()=>DA,addServerTelemetry:()=>Yh,addSid:()=>ZC,addSshJwk:()=>Gh,addState:()=>Fh,addThrottling:()=>Vh,addUsername:()=>b6,instrumentBrokerParams:()=>kA});var bA={};fr(bA,{ACCESS_TOKEN:()=>d6,BROKER_CLIENT_ID:()=>Nh,BROKER_REDIRECT_URI:()=>XC,CCS_HEADER:()=>y6,CLAIMS:()=>MR,CLIENT_ASSERTION:()=>oS,CLIENT_ASSERTION_TYPE:()=>sS,CLIENT_ID:()=>qi,CLIENT_INFO:()=>E6,CLIENT_REQUEST_ID:()=>VR,CLIENT_SECRET:()=>iS,CODE:()=>HR,CODE_CHALLENGE:()=>qR,CODE_CHALLENGE_METHOD:()=>GR,CODE_VERIFIER:()=>YR,DEVICE_CODE:()=>nS,DOMAIN_HINT:()=>hS,EAR_JWE_CRYPTO:()=>fS,EAR_JWK:()=>gS,ERROR:()=>l6,ERROR_DESCRIPTION:()=>u6,EXPIRES_IN:()=>g6,FOCI:()=>m6,GRANT_TYPE:()=>PR,ID_TOKEN:()=>h6,ID_TOKEN_HINT:()=>rS,INSTANCE_AWARE:()=>Pl,LOGIN_HINT:()=>dS,LOGOUT_HINT:()=>lS,NATIVE_BROKER:()=>cS,NONCE:()=>UR,OBO_ASSERTION:()=>aS,ON_BEHALF_OF:()=>C6,POST_LOGOUT_URI:()=>tS,PROMPT:()=>_R,REDIRECT_URI:()=>WC,REFRESH_TOKEN:()=>LR,REFRESH_TOKEN_EXPIRES_IN:()=>f6,REQUESTED_TOKEN_USE:()=>AS,REQ_CNF:()=>jC,RESPONSE_MODE:()=>NR,RESPONSE_TYPE:()=>vR,RETURN_SPA_CODE:()=>$C,SCOPE:()=>FR,SESSION_STATE:()=>p6,SID:()=>uS,STATE:()=>OR,TOKEN_TYPE:()=>zC,X_APP_NAME:()=>ZR,X_APP_VER:()=>eS,X_CLIENT_CPU:()=>zR,X_CLIENT_CURR_TELEM:()=>jR,X_CLIENT_EXTRA_SKU:()=>I6,X_CLIENT_LAST_TELEM:()=>$R,X_CLIENT_OS:()=>WR,X_CLIENT_SKU:()=>JR,X_CLIENT_VER:()=>KR,X_MS_LIB_CAPABILITY:()=>XR});var qi=\"client_id\",WC=\"redirect_uri\",vR=\"response_type\",NR=\"response_mode\",PR=\"grant_type\",MR=\"claims\",FR=\"scope\",l6=\"error\",u6=\"error_description\",d6=\"access_token\",h6=\"id_token\",LR=\"refresh_token\",g6=\"expires_in\",f6=\"refresh_token_expires_in\",OR=\"state\",UR=\"nonce\",_R=\"prompt\",p6=\"session_state\",E6=\"client_info\",HR=\"code\",qR=\"code_challenge\",GR=\"code_challenge_method\",YR=\"code_verifier\",VR=\"client-request-id\",JR=\"x-client-SKU\",KR=\"x-client-VER\",WR=\"x-client-OS\",zR=\"x-client-CPU\",jR=\"x-client-current-telemetry\",$R=\"x-client-last-telemetry\",XR=\"x-ms-lib-capability\",ZR=\"x-app-name\",eS=\"x-app-ver\",tS=\"post_logout_redirect_uri\",rS=\"id_token_hint\",nS=\"device_code\",iS=\"client_secret\",oS=\"client_assertion\",sS=\"client_assertion_type\",zC=\"token_type\",jC=\"req_cnf\",aS=\"assertion\",AS=\"requested_token_use\",C6=\"on_behalf_of\",m6=\"foci\",y6=\"X-AnchorMailbox\",$C=\"return_spa_code\",cS=\"nativebroker\",lS=\"logout_hint\",uS=\"sid\",dS=\"login_hint\",hS=\"domain_hint\",I6=\"x-client-xtra-sku\",Nh=\"brk_client_id\",XC=\"brk_redirect_uri\",Pl=\"instance_aware\",gS=\"ear_jwk\",fS=\"ear_jwe_crypto\";function kA(t,e,r){if(!e)return;let n=t.get(qi);n&&t.has(Nh)&&r?.addFields({embeddedClientId:n,embeddedRedirectUri:t.get(WC)},e)}function B6(t,e){t.set(vR,e)}function pS(t,e){t.set(NR,e||Li.QUERY)}function Q6(t){t.set(cS,\"1\")}function DA(t,e,r=!0,n=lr){r&&!n.includes(\"openid\")&&!e.includes(\"openid\")&&n.push(\"openid\");let i=r?[...e||[],...n]:e||[],o=new Ot(i);t.set(FR,o.printScopes())}function xA(t,e){t.set(qi,e)}function vA(t,e){t.set(WC,e)}function ES(t,e){t.set(tS,e)}function CS(t,e){t.set(rS,e)}function mS(t,e){t.set(hS,e)}function Ml(t,e){t.set(dS,e)}function Ps(t,e){t.set(it.CCS_HEADER,`UPN:${e}`)}function xo(t,e){t.set(it.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function ZC(t,e){t.set(\"sid\",e)}function NA(t,e,r){let n=KL(e,r);try{JSON.parse(n)}catch{throw ze(xs)}t.set(MR,n)}function PA(t,e){t.set(VR,e)}function Ph(t,e){t.set(JR,e.sku),t.set(KR,e.version),e.os&&t.set(WR,e.os),e.cpu&&t.set(zR,e.cpu)}function Mh(t,e){e?.appName&&t.set(ZR,e.appName),e?.appVersion&&t.set(eS,e.appVersion)}function yS(t,e){t.set(_R,e)}function Fh(t,e){e&&t.set(OR,e)}function IS(t,e){t.set(UR,e)}function w6(t,e,r){if(e&&r)t.set(qR,e),t.set(GR,r);else throw ze(wA)}function BS(t,e){t.set(HR,e)}function R6(t,e){t.set(nS,e)}function QS(t,e){t.set(LR,e)}function wS(t,e){t.set(YR,e)}function Lh(t,e){t.set(iS,e)}function Oh(t,e){e&&t.set(oS,e)}function Uh(t,e){e&&t.set(sS,e)}function S6(t,e){t.set(aS,e)}function T6(t,e){t.set(AS,e)}function _h(t,e){t.set(PR,e)}function MA(t){t.set(ML,\"1\")}function Hh(t){t.has(Pl)||t.set(Pl,\"true\")}function vo(t,e){Object.entries(e).forEach(([r,n])=>{!t.has(r)&&n&&t.set(r,n)})}function KL(t,e){let r;if(!t)r={};else try{r=JSON.parse(t)}catch{throw ze(xs)}return e&&e.length>0&&(r.hasOwnProperty(Xa.ACCESS_TOKEN)||(r[Xa.ACCESS_TOKEN]={}),r[Xa.ACCESS_TOKEN][Xa.XMS_CC]={values:e}),JSON.stringify(r)}function b6(t,e){t.set(eh.username,e)}function k6(t,e){t.set(eh.password,e)}function qh(t,e){e&&(t.set(zC,Te.POP),t.set(jC,e))}function Gh(t,e){e&&(t.set(zC,Te.SSH),t.set(jC,e))}function Yh(t,e){t.set(jR,e.generateCurrentRequestHeaderValue()),t.set($R,e.generateLastRequestHeaderValue())}function Vh(t){t.set(XR,Oi.X_MS_LIB_CAPABILITY_VALUE)}function RS(t,e){t.set(lS,e)}function No(t,e,r){t.has(Nh)||t.set(Nh,e),t.has(XC)||t.set(XC,r)}function D6(t,e){t.set(gS,encodeURIComponent(e)),t.set(fS,\"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0\")}function x6(t,e){Object.entries(e).forEach(([r,n])=>{n&&t.set(r,n)})}var im={};fr(im,{createDiscoveredInstance:()=>xS});var Vn={Default:0,Adfs:1,Dsts:2,Ciam:3};function WL(t){return t.hasOwnProperty(\"authorization_endpoint\")&&t.hasOwnProperty(\"token_endpoint\")&&t.hasOwnProperty(\"issuer\")&&t.hasOwnProperty(\"jwks_uri\")}function zL(t){return t.hasOwnProperty(\"tenant_discovery_endpoint\")&&t.hasOwnProperty(\"metadata\")}function jL(t){return t.hasOwnProperty(\"error\")&&t.hasOwnProperty(\"error_description\")}var $L=(t,e,r,n,i)=>(...o)=>{r.trace(`Executing function ${e}`);let s=n?.startMeasurement(e,i);if(i){let a=e+\"CallCount\";n?.incrementFields({[a]:1},i)}try{let a=t(...o);return s?.end({success:!0}),r.trace(`Returning result from ${e}`),a}catch(a){r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(a))}catch{r.trace(\"Unable to print error message.\")}throw s?.end({success:!1},a),a}},ke=(t,e,r,n,i)=>(...o)=>{r.trace(`Executing function ${e}`);let s=n?.startMeasurement(e,i);if(i){let a=e+\"CallCount\";n?.incrementFields({[a]:1},i)}return n?.setPreQueueTime(e,i),t(...o).then(a=>(r.trace(`Returning result from ${e}`),s?.end({success:!0}),a)).catch(a=>{r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(a))}catch{r.trace(\"Unable to print error message.\")}throw s?.end({success:!1},a),a})};var Jh=class t{constructor(e,r,n,i){this.networkInterface=e,this.logger=r,this.performanceClient=n,this.correlationId=i}async detectRegion(e,r){this.performanceClient?.addQueueMeasurement(w.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)r.region_source=eA.ENVIRONMENT_VARIABLE;else{let i=t.IMDS_OPTIONS;try{let o=await ke(this.getRegionFromIMDS.bind(this),w.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(b.IMDS_VERSION,i);if(o.status===ge.SUCCESS&&(n=o.body,r.region_source=eA.IMDS),o.status===ge.BAD_REQUEST){let s=await ke(this.getCurrentVersion.bind(this),w.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(i);if(!s)return r.region_source=eA.FAILED_AUTO_DETECTION,null;let a=await ke(this.getRegionFromIMDS.bind(this),w.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(s,i);a.status===ge.SUCCESS&&(n=a.body,r.region_source=eA.IMDS)}}catch{return r.region_source=eA.FAILED_AUTO_DETECTION,null}}return n||(r.region_source=eA.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,r){return this.performanceClient?.addQueueMeasurement(w.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${b.IMDS_ENDPOINT}?api-version=${e}&format=text`,r,b.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(w.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let r=await this.networkInterface.sendGetRequestAsync(`${b.IMDS_ENDPOINT}?format=json`,e);return r.status===ge.BAD_REQUEST&&r.body&&r.body[\"newest-versions\"]&&r.body[\"newest-versions\"].length>0?r.body[\"newest-versions\"][0]:null}catch{return null}}};Jh.IMDS_OPTIONS={headers:{Metadata:\"true\"}};var xr={};fr(xr,{createAccessTokenEntity:()=>bS,createIdTokenEntity:()=>TS,createRefreshTokenEntity:()=>kS,generateAppMetadataKey:()=>_6,generateAuthorityMetadataExpiresAt:()=>tm,isAccessTokenEntity:()=>M6,isAppMetadataEntity:()=>H6,isAuthorityMetadataEntity:()=>q6,isAuthorityMetadataExpired:()=>rm,isCredentialEntity:()=>em,isIdTokenEntity:()=>F6,isRefreshTokenEntity:()=>L6,isServerTelemetryEntity:()=>O6,isThrottlingEntity:()=>U6,updateAuthorityEndpointMetadata:()=>Ll,updateCloudDiscoveryMetadata:()=>Wh});var lt={};fr(lt,{delay:()=>P6,isCacheExpired:()=>N6,isTokenExpired:()=>Fl,nowSeconds:()=>Qn,toDateFromSeconds:()=>Kh,toSecondsFromDate:()=>v6,wasClockTurnedBack:()=>SS});function Qn(){return Math.round(new Date().getTime()/1e3)}function v6(t){return t.getTime()/1e3}function Kh(t){return t?new Date(Number(t)*1e3):new Date}function Fl(t,e){let r=Number(t)||0;return Qn()+e>r}function N6(t,e){let r=Number(t)+e*24*60*60*1e3;return Date.now()>r}function SS(t){return Number(t)>Qn()}function P6(t,e){return new Promise(r=>setTimeout(()=>r(e),t))}function TS(t,e,r,n,i){return{credentialType:Ke.ID_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,realm:i,lastUpdatedAt:Date.now().toString()}}function bS(t,e,r,n,i,o,s,a,A,c,l,u,d,h,g){let p={homeAccountId:t,credentialType:Ke.ACCESS_TOKEN,secret:r,cachedAt:Qn().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:n,realm:i,target:o,tokenType:l||Te.BEARER,lastUpdatedAt:Date.now().toString()};if(u&&(p.userAssertionHash=u),c&&(p.refreshOn=c.toString()),h&&(p.requestedClaims=h,p.requestedClaimsHash=g),p.tokenType?.toLowerCase()!==Te.BEARER.toLowerCase())switch(p.credentialType=Ke.ACCESS_TOKEN_WITH_AUTH_SCHEME,p.tokenType){case Te.POP:let f=Do(r,A);if(!f?.cnf?.kid)throw D(gA);p.keyId=f.cnf.kid;break;case Te.SSH:p.keyId=d}return p}function kS(t,e,r,n,i,o,s){let a={credentialType:Ke.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,lastUpdatedAt:Date.now().toString()};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function em(t){return t.hasOwnProperty(\"homeAccountId\")&&t.hasOwnProperty(\"environment\")&&t.hasOwnProperty(\"credentialType\")&&t.hasOwnProperty(\"clientId\")&&t.hasOwnProperty(\"secret\")}function M6(t){return t?em(t)&&t.hasOwnProperty(\"realm\")&&t.hasOwnProperty(\"target\")&&(t.credentialType===Ke.ACCESS_TOKEN||t.credentialType===Ke.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function F6(t){return t?em(t)&&t.hasOwnProperty(\"realm\")&&t.credentialType===Ke.ID_TOKEN:!1}function L6(t){return t?em(t)&&t.credentialType===Ke.REFRESH_TOKEN:!1}function O6(t,e){let r=t.indexOf(Gt.CACHE_KEY)===0,n=!0;return e&&(n=e.hasOwnProperty(\"failedRequests\")&&e.hasOwnProperty(\"errors\")&&e.hasOwnProperty(\"cacheHits\")),r&&n}function U6(t,e){let r=!1;t&&(r=t.indexOf(Oi.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty(\"throttleTime\")),r&&n}function _6({environment:t,clientId:e}){return[Xd,t,e].join(Qo.CACHE_KEY_SEPARATOR).toLowerCase()}function H6(t,e){return e?t.indexOf(Xd)===0&&e.hasOwnProperty(\"clientId\")&&e.hasOwnProperty(\"environment\"):!1}function q6(t,e){return e?t.indexOf(Sl.CACHE_KEY)===0&&e.hasOwnProperty(\"aliases\")&&e.hasOwnProperty(\"preferred_cache\")&&e.hasOwnProperty(\"preferred_network\")&&e.hasOwnProperty(\"canonical_authority\")&&e.hasOwnProperty(\"authorization_endpoint\")&&e.hasOwnProperty(\"token_endpoint\")&&e.hasOwnProperty(\"issuer\")&&e.hasOwnProperty(\"aliasesFromNetwork\")&&e.hasOwnProperty(\"endpointsFromNetwork\")&&e.hasOwnProperty(\"expiresAt\")&&e.hasOwnProperty(\"jwks_uri\"):!1}function tm(){return Qn()+Sl.REFRESH_TIME_SECONDS}function Ll(t,e,r){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=r,t.jwks_uri=e.jwks_uri}function Wh(t,e,r){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=r}function rm(t){return t.expiresAt<=Qn()}var li=class t{constructor(e,r,n,i,o,s,a,A){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=A||!1,this.regionDiscovery=new Jh(r,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(b.CIAM_AUTH_URL))return Vn.Ciam;let r=e.PathSegments;if(r.length)switch(r[0].toLowerCase()){case b.ADFS:return Vn.Adfs;case b.DSTS:return Vn.Dsts}return Vn.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Re(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw D(kr)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw D(kr)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace(\"/token\",\"/devicecode\"));throw D(kr)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw D(pA);return this.replacePath(this.metadata.end_session_endpoint)}else throw D(kr)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw D(kr)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw D(kr)}canReplaceTenant(e){return e.PathSegments.length===1&&!t.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Vn.Default&&this.protocolMode!==ur.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let r=e,i=new Re(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,A)=>{let c=o[A];if(A===0&&this.canReplaceTenant(i)){let l=new Re(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];c!==l&&(this.logger.verbose(`Replacing tenant domain name ${c} with id ${l}`),c=l)}a!==c&&(r=r.replace(`/${c}/`,`/${a}/`))}),this.replaceTenant(r)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith(\"v2.0/\")||this.authorityType===Vn.Adfs||this.protocolMode===ur.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(w.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),r=await ke(this.updateCloudDiscoveryMetadata.bind(this),w.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let n=await ke(this.updateEndpointMetadata.bind(this),w.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,r,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:r,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:\"\",token_endpoint:\"\",end_session_endpoint:\"\",issuer:\"\",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:tm(),jwks_uri:\"\"}),e}updateCachedMetadata(e,r,n){r!==br.CACHE&&n?.source!==br.CACHE&&(e.expiresAt=tm(),e.canonical_authority=this.canonicalAuthority);let i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(w.AuthorityUpdateEndpointMetadata,this.correlationId);let r=this.updateEndpointMetadataFromLocalSources(e);if(r){if(r.source===br.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&r.metadata){let i=await ke(this.updateMetadataWithRegionalInformation.bind(this),w.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r.metadata);Ll(e,i,!1),e.canonical_authority=this.canonicalAuthority}return r.source}let n=await ke(this.getEndpointMetadataFromNetwork.bind(this),w.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await ke(this.updateMetadataWithRegionalInformation.bind(this),w.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),Ll(e,n,!0),br.NETWORK;throw D(iA,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose(\"Attempting to get endpoint metadata from authority configuration\");let r=this.getEndpointMetadataFromConfig();if(r)return this.logger.verbose(\"Found endpoint metadata in authority configuration\"),Ll(e,r,!1),{source:br.CONFIG};if(this.logger.verbose(\"Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values.\"),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose(\"Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.\");else{let i=this.getEndpointMetadataFromHardcodedValues();if(i)return Ll(e,i,!1),{source:br.HARDCODED_VALUES,metadata:i};this.logger.verbose(\"Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.\")}let n=rm(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose(\"Found endpoint metadata in the cache.\"),{source:br.CACHE}):(n&&this.logger.verbose(\"The metadata entity is expired.\"),null)}isAuthoritySameType(e){return new Re(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw ze(RA)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(w.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${r}`);try{let n=await this.networkInterface.sendGetRequestAsync(r,e);return WL(n.body)?n.body:(this.logger.verbose(\"Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration\"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in TR?TR[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(w.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let r=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(r){if(r!==b.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=_C.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=r,t.replaceWithRegionalInformation(e,r);let n=await ke(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),w.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=_C.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,t.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=_C.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(w.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let r=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;let n=await ke(this.getCloudDiscoveryMetadataFromNetwork.bind(this),w.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return Wh(e,n,!0),br.NETWORK;throw ze(SA)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose(\"Attempting to get cloud discovery metadata  from authority configuration\"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||b.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||b.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||b.NOT_APPLICABLE}`);let r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose(\"Found cloud discovery metadata in authority configuration\"),Wh(e,r,!1),br.CONFIG;if(this.logger.verbose(\"Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values.\"),this.options.skipAuthorityMetadataCache)this.logger.verbose(\"Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.\");else{let i=GL(this.hostnameAndPort);if(i)return this.logger.verbose(\"Found cloud discovery metadata from hardcoded values.\"),Wh(e,i,!1),br.HARDCODED_VALUES;this.logger.verbose(\"Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.\")}let n=rm(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose(\"Found cloud discovery metadata in the cache.\"),br.CACHE):(n&&this.logger.verbose(\"The metadata entity is expired.\"),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Vn.Ciam)return this.logger.verbose(\"CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host.\"),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose(\"The cloud discovery metadata has been provided as a network response, in the config.\");try{this.logger.verbose(\"Attempting to parse the cloud discovery metadata.\");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=Dh(e.metadata,this.hostnameAndPort);if(this.logger.verbose(\"Parsed the cloud discovery metadata.\"),r)return this.logger.verbose(\"There is returnable metadata attached to the parsed cloud discovery metadata.\"),r;this.logger.verbose(\"There is no metadata attached to the parsed cloud discovery metadata.\")}catch{throw this.logger.verbose(\"Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error.\"),ze(vs)}}return this.isInKnownAuthorities()?(this.logger.verbose(\"The host is included in knownAuthorities. Creating new cloud discovery metadata from the host.\"),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(w.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${b.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,r={},n=null;try{let i=await this.networkInterface.sendGetRequestAsync(e,r),o,s;if(zL(i.body))o=i.body,s=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else if(jL(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),o=i.body,o.error===b.INVALID_INSTANCE)return this.logger.error(\"The CloudInstanceDiscoveryErrorResponse error is invalid_instance.\"),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning(\"Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []\"),s=[]}else return this.logger.error(\"AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse\"),null;this.logger.verbose(\"Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request.\"),n=Dh(s,this.hostnameAndPort)}catch(i){if(i instanceof fe)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${i.errorCode}\nError Description: ${i.errorMessage}`);else{let o=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${o.name}\nError Description: ${o.message}`)}return null}return n||(this.logger.warning(\"The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request.\"),this.logger.verbose(\"Creating custom Authority for custom domain scenario.\"),n=t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(r=>r&&Re.getDomainFromUrl(r).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,r){let n;if(r&&r.azureCloudInstance!==bo.None){let i=r.tenant?r.tenant:b.DEFAULT_COMMON_TENANT;n=`${r.azureCloudInstance}/${i}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return b.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw D(kr)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return kR.has(e)}static isPublicCloudAuthority(e){return b.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,r,n){let i=new Re(e);i.validateAsUri();let o=i.getUrlComponents(),s=`${r}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${r}.${b.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let a=Re.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:s}).urlString;return n?`${a}?${n}`:a}static replaceWithRegionalInformation(e,r){let n={...e};return n.authorization_endpoint=t.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=t.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=t.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}static transformCIAMAuthority(e){let r=e,i=new Re(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(b.CIAM_AUTH_URL)){let o=i.HostNameAndPort.split(\".\")[0];r=`${r}${o}${b.AAD_TENANT_DOMAIN_SUFFIX}`}return r}};li.reservedTenantDomains=new Set([\"{tenant}\",\"{tenantid}\",jr.COMMON,jr.CONSUMERS,jr.ORGANIZATIONS]);function XL(t){let n=new Re(t).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case jr.COMMON:case jr.ORGANIZATIONS:case jr.CONSUMERS:return;default:return n}}function nm(t){return t.endsWith(b.FORWARD_SLASH)?t:`${t}${b.FORWARD_SLASH}`}function DS(t){let e=t.cloudDiscoveryMetadata,r;if(e)try{r=JSON.parse(e)}catch{throw ze(vs)}return{canonicalAuthority:t.authority?nm(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:r}}async function xS(t,e,r,n,i,o,s){s?.addQueueMeasurement(w.AuthorityFactoryCreateDiscoveredInstance,o);let a=li.transformCIAMAuthority(nm(t)),A=new li(a,e,r,n,i,o,s);try{return await ke(A.resolveEndpointsAsync.bind(A),w.AuthorityResolveEndpointsAsync,i,s,o)(),A}catch{throw D(kr)}}var vr=class t extends fe{constructor(e,r,n,i,o){super(e,r,n),this.name=\"ServerError\",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,t.prototype)}};function Ol(t,e,r){return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:r,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||e.tokenBodyParameters?.clientId}}var zh=class t{static generateThrottlingStorageKey(e){return`${Oi.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,r,n){let i=t.generateThrottlingStorageKey(r),o=e.getThrottlingCache(i);if(o){if(o.throttleTime<Date.now()){e.removeItem(i,n);return}throw new vr(o.errorCodes?.join(\" \")||b.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,r,n,i){if(t.checkResponseStatus(n)||t.checkResponseForRetryAfter(n)){let o={throttleTime:t.calculateThrottleTime(parseInt(n.headers[it.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(t.generateThrottlingStorageKey(r),o,i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(it.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let r=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(r||Oi.DEFAULT_THROTTLE_TIME_SECONDS),n+Oi.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,r,n,i){let o=Ol(r,n,i),s=this.generateThrottlingStorageKey(o);e.removeItem(s,n.correlationId)}};var om=class t extends fe{constructor(e,r,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,t.prototype),this.name=\"NetworkError\",this.error=e,this.httpStatus=r,this.responseHeaders=n}};var ir=class{constructor(e,r){this.config=JL(e),this.logger=new Bn(this.config.loggerOptions,qC,Dl),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}createTokenRequestHeaders(e){let r={};if(r[it.CONTENT_TYPE]=b.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Dr.HOME_ACCOUNT_ID:try{let n=Hi(e.credential);r[it.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose(\"Could not parse home account ID for CCS Header: \"+n)}break;case Dr.UPN:r[it.CCS_HEADER]=`UPN: ${e.credential}`;break}return r}async executePostToTokenEndpoint(e,r,n,i,o,s){s&&this.performanceClient?.addQueueMeasurement(s,o);let a=await this.sendPostRequest(i,e,{body:r,headers:n},o);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,r,n,i){zh.preProcess(this.cacheManager,e,i);let o;try{o=await ke(this.networkClient.sendPostRequestAsync.bind(this.networkClient),w.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(r,n);let s=o.headers||{};this.performanceClient?.addFields({refreshTokenSize:o.body.refresh_token?.length||0,httpVerToken:s[it.X_MS_HTTP_VERSION]||\"\",requestId:s[it.X_MS_REQUEST_ID]||\"\"},i)}catch(s){if(s instanceof om){let a=s.responseHeaders;throw a&&this.performanceClient?.addFields({httpVerToken:a[it.X_MS_HTTP_VERSION]||\"\",requestId:a[it.X_MS_REQUEST_ID]||\"\",contentTypeHeader:a[it.CONTENT_TYPE]||void 0,contentLengthHeader:a[it.CONTENT_LENGTH]||void 0,httpStatus:s.httpStatus},i),s.error}throw s instanceof fe?s:D(nA)}return zh.postProcess(this.cacheManager,e,o,i),o}async updateAuthority(e,r){this.performanceClient?.addQueueMeasurement(w.UpdateTokenEndpointAuthority,r);let n=`https://${e}/${this.authority.tenant}/`,i=await xS(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);this.authority=i}createTokenQueryParameters(e){let r=new Map;return e.embeddedClientId&&No(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&vo(r,e.tokenQueryParameters),PA(r,e.correlationId),kA(r,e.correlationId,this.performanceClient),_i(r)}};function sm(t){return t&&(t.tid||t.tfp||t.acr)||null}var wn=class t{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e])),dataBoundary:this.dataBoundary}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,r,n){let i=new t;r.authorityType===Vn.Adfs?i.authorityType=Za.ADFS_ACCOUNT_TYPE:r.protocolMode===ur.OIDC?i.authorityType=Za.GENERIC_ACCOUNT_TYPE:i.authorityType=Za.MSSTS_ACCOUNT_TYPE;let o;e.clientInfo&&n&&(o=Nl(e.clientInfo,n),o.xms_tdbr&&(i.dataBoundary=o.xms_tdbr===\"EU\"?\"EU\":\"None\")),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;let s=e.environment||r&&r.getPreferredCache();if(!s)throw D(So);i.environment=s,i.realm=o?.utid||sm(e.idTokenClaims)||\"\",i.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||\"\";let a=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,A=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(i.username=a||A||\"\",i.loginHint=e.idTokenClaims?.login_hint,i.name=e.idTokenClaims?.name||\"\",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{let c=bh(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[c]}return i}static createFromAccountInfo(e,r,n){let i=new t;return i.authorityType=e.authorityType||Za.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.loginHint=e.loginHint,i.cloudGraphHostName=r,i.msGraphHost=n,i.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),i.dataBoundary=e.dataBoundary,i}static generateHomeAccountId(e,r,n,i,o){if(!(r===Vn.Adfs||r===Vn.Dsts)){if(e)try{let s=Nl(e,i.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}n.warning(\"No client info in response\")}return o?.sub||\"\"}static isAccountEntity(e){return e?e.hasOwnProperty(\"homeAccountId\")&&e.hasOwnProperty(\"environment\")&&e.hasOwnProperty(\"realm\")&&e.hasOwnProperty(\"localAccountId\")&&e.hasOwnProperty(\"username\")&&e.hasOwnProperty(\"authorityType\"):!1}static accountInfoIsEqual(e,r,n){if(!e||!r)return!1;let i=!0;if(n){let o=e.idTokenClaims||{},s=r.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return e.homeAccountId===r.homeAccountId&&e.localAccountId===r.localAccountId&&e.username===r.username&&e.tenantId===r.tenantId&&e.loginHint===r.loginHint&&e.environment===r.environment&&e.nativeAccountId===r.nativeAccountId&&i}};var Am={};fr(Am,{badToken:()=>Fs,consentRequired:()=>NS,interactionRequired:()=>vS,loginRequired:()=>PS,nativeAccountUnavailable:()=>jh,noTokensFound:()=>Ms,refreshTokenExpired:()=>$h,uxNotAllowed:()=>am});var Ms=\"no_tokens_found\",jh=\"native_account_unavailable\",$h=\"refresh_token_expired\",am=\"ux_not_allowed\",vS=\"interaction_required\",NS=\"consent_required\",PS=\"login_required\",Fs=\"bad_token\";var ZL=[vS,NS,PS,Fs,am],G6=[\"message_only\",\"additional_action\",\"basic_action\",\"user_password_expired\",\"consent_required\",\"bad_token\"],cm={[Ms]:\"No refresh token found in the cache. Please sign-in.\",[jh]:\"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.\",[$h]:\"Refresh token has expired.\",[Fs]:\"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.\",[am]:\"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve.\"},MS={noTokensFoundError:{code:Ms,desc:cm[Ms]},native_account_unavailable:{code:jh,desc:cm[jh]},bad_token:{code:Fs,desc:cm[Fs]}},Rn=class t extends fe{constructor(e,r,n,i,o,s,a,A){super(e,r,n),Object.setPrototypeOf(this,t.prototype),this.timestamp=i||b.EMPTY_STRING,this.traceId=o||b.EMPTY_STRING,this.correlationId=s||b.EMPTY_STRING,this.claims=a||b.EMPTY_STRING,this.name=\"InteractionRequiredAuthError\",this.errorNo=A}};function lm(t,e,r){let n=!!t&&ZL.indexOf(t)>-1,i=!!r&&G6.indexOf(r)>-1,o=!!e&&ZL.some(s=>e.indexOf(s)>-1);return n||o||i}function um(t){return new Rn(t,cm[t])}var dm=class t{static setRequestState(e,r,n){let i=t.generateLibraryState(e,n);return r?`${i}${b.RESOURCE_DELIM}${r}`:i}static generateLibraryState(e,r){if(!e)throw D(ks);let n={id:e.createNewGuid()};r&&(n.meta=r);let i=JSON.stringify(n);return e.base64Encode(i)}static parseRequestState(e,r){if(!e)throw D(ks);if(!r)throw D(ci);try{let n=r.split(b.RESOURCE_DELIM),i=n[0],o=n.length>1?n.slice(1).join(b.RESOURCE_DELIM):b.EMPTY_STRING,s=e.base64Decode(i),a=JSON.parse(s);return{userRequestState:o||b.EMPTY_STRING,libraryState:a}}catch{throw D(ci)}}};var Y6={SW:\"sw\"},Ls=class{constructor(e,r){this.cryptoUtils=e,this.performanceClient=r}async generateCnf(e,r){this.performanceClient?.addQueueMeasurement(w.PopTokenGenerateCnf,e.correlationId);let n=await ke(this.generateKid.bind(this),w.PopTokenGenerateCnf,r,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:i}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(w.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Y6.SW}}async signPopToken(e,r,n){return this.signPayload(e,r,n)}async signPayload(e,r,n,i){let{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:a,shrNonce:A,shrOptions:c}=n,u=(s?new Re(s):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Qn(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:A||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:a||void 0,...i},r,c,n.correlationId)}};var Sn=class{constructor(e,r){this.cache=e,this.hasChanged=r}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};var Pt=class t{constructor(e,r,n,i,o,s,a){this.clientId=e,this.cacheStorage=r,this.cryptoObj=n,this.logger=i,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateTokenResponse(e,r){if(e.error||e.error_description||e.suberror){let n=`Error(s): ${e.error_codes||b.NOT_AVAILABLE} - Timestamp: ${e.timestamp||b.NOT_AVAILABLE} - Description: ${e.error_description||b.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||b.NOT_AVAILABLE} - Trace ID: ${e.trace_id||b.NOT_AVAILABLE}`,i=e.error_codes?.length?e.error_codes[0]:void 0,o=new vr(e.error,n,e.suberror,i,e.status);if(r&&e.status&&e.status>=ge.SERVER_ERROR_RANGE_START&&e.status<=ge.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${o}`);return}else if(r&&e.status&&e.status>=ge.CLIENT_ERROR_RANGE_START&&e.status<=ge.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${o}`);return}throw lm(e.error,e.error_description,e.suberror)?new Rn(e.error,e.error_description,e.suberror,e.timestamp||b.EMPTY_STRING,e.trace_id||b.EMPTY_STRING,e.correlation_id||b.EMPTY_STRING,e.claims||b.EMPTY_STRING,i):o}}async handleServerTokenResponse(e,r,n,i,o,s,a,A,c){this.performanceClient?.addQueueMeasurement(w.HandleServerTokenResponse,e.correlation_id);let l;if(e.id_token){if(l=Do(e.id_token||b.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&l.nonce!==o.nonce)throw D(aA);if(i.maxAge||i.maxAge===0){let g=l.auth_time;if(!g)throw D(wo);kh(g,i.maxAge)}}this.homeAccountIdentifier=wn.generateHomeAccountId(e.client_info||b.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,l);let u;o&&o.state&&(u=dm.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;let d=this.generateCacheRecord(e,r,n,i,l,s,o),h;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose(\"Persistence enabled, calling beforeCacheAccess\"),h=new Sn(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(h)),a&&!A&&d.account){let g=this.cacheStorage.generateAccountKey(d.account.getAccountInfo());if(!this.cacheStorage.getAccount(g,i.correlationId))return this.logger.warning(\"Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache\"),await t.generateAuthenticationResult(this.cryptoObj,r,d,!1,i,l,u,void 0,c)}await this.cacheStorage.saveCacheRecord(d,i.correlationId,i.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&h&&(this.logger.verbose(\"Persistence enabled, calling afterCacheAccess\"),await this.persistencePlugin.afterCacheAccess(h))}return t.generateAuthenticationResult(this.cryptoObj,r,d,!1,i,l,u,e,c)}generateCacheRecord(e,r,n,i,o,s,a){let A=r.getPreferredCache();if(!A)throw D(So);let c=sm(o),l,u;e.id_token&&o&&(l=TS(this.homeAccountIdentifier,A,e.id_token,this.clientId,c||\"\"),u=eO(this.cacheStorage,r,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i.correlationId,o,e.client_info,A,c,a,void 0,this.logger));let d=null;if(e.access_token){let p=e.scope?Ot.fromString(e.scope):new Ot(i.scopes||[]),f=(typeof e.expires_in==\"string\"?parseInt(e.expires_in,10):e.expires_in)||0,C=(typeof e.ext_expires_in==\"string\"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,m=(typeof e.refresh_in==\"string\"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,B=n+f,T=B+C,L=m&&m>0?n+m:void 0;d=bS(this.homeAccountIdentifier,A,e.access_token,this.clientId,c||r.tenant||\"\",p.printScopes(),B,T,this.cryptoObj.base64Decode,L,e.token_type,s,e.key_id,i.claims,i.requestedClaimsHash)}let h=null;if(e.refresh_token){let p;if(e.refresh_token_expires_in){let f=typeof e.refresh_token_expires_in==\"string\"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;p=n+f}h=kS(this.homeAccountIdentifier,A,e.refresh_token,this.clientId,e.foci,s,p)}let g=null;return e.foci&&(g={clientId:this.clientId,environment:A,familyId:e.foci}),{account:u,idToken:l,accessToken:d,refreshToken:h,appMetadata:g}}static async generateAuthenticationResult(e,r,n,i,o,s,a,A,c){let l=b.EMPTY_STRING,u=[],d=null,h,g,p=b.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===Te.POP&&!o.popKid){let B=new Ls(e),{secret:T,keyId:L}=n.accessToken;if(!L)throw D(EA);l=await B.signPopToken(T,L,o)}else l=n.accessToken.secret;u=Ot.fromString(n.accessToken.target).asArray(),d=Kh(n.accessToken.expiresOn),h=Kh(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(g=Kh(n.accessToken.refreshOn))}n.appMetadata&&(p=n.appMetadata.familyId===ws?ws:\"\");let f=s?.oid||s?.sub||\"\",C=s?.tid||\"\";A?.spa_accountid&&n.account&&(n.account.nativeAccountId=A?.spa_accountid);let m=n.account?GC(n.account.getAccountInfo(),void 0,s,n.idToken?.secret):null;return{authority:r.canonicalAuthority,uniqueId:f,tenantId:C,scopes:u,account:m,idToken:n?.idToken?.secret||\"\",idTokenClaims:s||{},accessToken:l,fromCache:i,expiresOn:d,extExpiresOn:h,refreshOn:g,correlationId:o.correlationId,requestId:c||b.EMPTY_STRING,familyId:p,tokenType:n.accessToken?.tokenType||b.EMPTY_STRING,state:a?a.userRequestState:b.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||b.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||b.EMPTY_STRING,code:A?.spa_code,fromNativeBroker:!1}}};function eO(t,e,r,n,i,o,s,a,A,c,l,u){u?.verbose(\"setCachedAccount called\");let h=t.getAccountKeys().find(m=>m.startsWith(r)),g=null;h&&(g=t.getAccount(h,i));let p=g||wn.createAccount({homeAccountId:r,idTokenClaims:o,clientInfo:s,environment:a,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:l},e,n),f=p.tenantProfiles||[],C=A||p.realm;if(C&&!f.find(m=>m.tenantId===C)){let m=bh(r,p.localAccountId,C,o);f.push(m)}return p.tenantProfiles=f,p}async function Nr(t,e,r){return typeof t==\"string\"?t:t({clientId:e,tokenEndpoint:r})}var Xh=class extends ir{constructor(e,r){super(e,r),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,r){if(this.performanceClient?.addQueueMeasurement(w.AuthClientAcquireToken,e.correlationId),!e.code)throw D(lA);let n=Qn(),i=await ke(this.executeTokenRequest.bind(this),w.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=i.headers?.[it.X_MS_REQUEST_ID],s=new Pt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),ke(s.handleServerTokenResponse.bind(s),w.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,n,e,r,void 0,void 0,void 0,o)}getLogoutUri(e){if(!e)throw ze(QA);let r=this.createLogoutUrlQueryString(e);return Re.appendQueryString(this.authority.endSessionEndpoint,r)}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(w.AuthClientExecuteTokenRequest,r.correlationId);let n=this.createTokenQueryParameters(r),i=Re.appendQueryString(e.tokenEndpoint,n),o=await ke(this.createTokenRequestBody.bind(this),w.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,r.correlationId)(r),s;if(r.clientInfo)try{let c=Nl(r.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${c.uid}${Qo.CLIENT_INFO_SEPARATOR}${c.utid}`,type:Dr.HOME_ACCOUNT_ID}}catch(c){this.logger.verbose(\"Could not parse client info for CCS Header: \"+c)}let a=this.createTokenRequestHeaders(s||r.ccsCredential),A=Ol(this.config.authOptions.clientId,r);return ke(this.executePostToTokenEndpoint.bind(this),w.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,r.correlationId)(i,o,a,A,r.correlationId,w.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(w.AuthClientCreateTokenRequestBody,e.correlationId);let r=new Map;if(xA(r,e.embeddedClientId||e.tokenBodyParameters?.[qi]||this.config.authOptions.clientId),this.includeRedirectUri)vA(r,e.redirectUri);else if(!e.redirectUri)throw ze(CA);if(DA(r,e.scopes,!0,this.oidcDefaultScopes),BS(r,e.code),Ph(r,this.config.libraryInfo),Mh(r,this.config.telemetry.application),Vh(r),this.serverTelemetryManager&&!KC(this.config)&&Yh(r,this.serverTelemetryManager),e.codeVerifier&&wS(r,e.codeVerifier),this.config.clientCredentials.clientSecret&&Lh(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let i=this.config.clientCredentials.clientAssertion;Oh(r,await Nr(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Uh(r,i.assertionType)}if(_h(r,$r.AUTHORIZATION_CODE_GRANT),MA(r),e.authenticationScheme===Te.POP){let i=new Ls(this.cryptoUtils,this.performanceClient),o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await ke(i.generateCnf.bind(i),w.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,qh(r,o)}else if(e.authenticationScheme===Te.SSH)if(e.sshJwk)Gh(r,e.sshJwk);else throw ze(ko);(!je.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&NA(r,e.claims,this.config.authOptions.clientCapabilities);let n;if(e.clientInfo)try{let i=Nl(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${i.uid}${Qo.CLIENT_INFO_SEPARATOR}${i.utid}`,type:Dr.HOME_ACCOUNT_ID}}catch(i){this.logger.verbose(\"Could not parse client info for CCS Header: \"+i)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case Dr.HOME_ACCOUNT_ID:try{let i=Hi(n.credential);xo(r,i)}catch(i){this.logger.verbose(\"Could not parse home account ID for CCS Header: \"+i)}break;case Dr.UPN:Ps(r,n.credential);break}return e.embeddedClientId&&No(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&vo(r,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[$C])&&vo(r,{[$C]:\"1\"}),kA(r,e.correlationId,this.performanceClient),_i(r)}createLogoutUrlQueryString(e){let r=new Map;return e.postLogoutRedirectUri&&ES(r,e.postLogoutRedirectUri),e.correlationId&&PA(r,e.correlationId),e.idTokenHint&&CS(r,e.idTokenHint),e.state&&Fh(r,e.state),e.logoutHint&&RS(r,e.logoutHint),e.extraQueryParameters&&vo(r,e.extraQueryParameters),this.config.authOptions.instanceAware&&Hh(r),_i(r,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}};var V6=300,FA=class extends ir{constructor(e,r){super(e,r)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(w.RefreshTokenClientAcquireToken,e.correlationId);let r=Qn(),n=await ke(this.executeTokenRequest.bind(this),w.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=n.headers?.[it.X_MS_REQUEST_ID],o=new Pt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),ke(o.handleServerTokenResponse.bind(o),w.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){if(!e)throw ze(BA);if(this.performanceClient?.addQueueMeasurement(w.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw D(Ro);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await ke(this.acquireTokenWithCachedRefreshToken.bind(this),w.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){let i=n instanceof Rn&&n.errorCode===Ms,o=n instanceof vr&&n.errorCode===Zd.INVALID_GRANT_ERROR&&n.subError===Zd.CLIENT_MISMATCH_ERROR;if(i||o)return ke(this.acquireTokenWithCachedRefreshToken.bind(this),w.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw n}return ke(this.acquireTokenWithCachedRefreshToken.bind(this),w.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,r){this.performanceClient?.addQueueMeasurement(w.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let n=$L(this.cacheManager.getRefreshToken.bind(this.cacheManager),w.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,r,e.correlationId,void 0,this.performanceClient);if(!n)throw um(Ms);if(n.expiresOn&&Fl(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||V6))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),um($h);let i={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Te.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Dr.HOME_ACCOUNT_ID}};try{return await ke(this.acquireToken.bind(this),w.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(o){if(o instanceof Rn&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),o.subError===Fs)){this.logger.verbose(\"acquireTokenWithRefreshToken: bad refresh token, removing from cache\");let s=this.cacheManager.generateCredentialKey(n);this.cacheManager.removeRefreshToken(s,e.correlationId)}throw o}}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(w.RefreshTokenClientExecuteTokenRequest,e.correlationId);let n=this.createTokenQueryParameters(e),i=Re.appendQueryString(r.tokenEndpoint,n),o=await ke(this.createTokenRequestBody.bind(this),w.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a=Ol(this.config.authOptions.clientId,e);return ke(this.executePostToTokenEndpoint.bind(this),w.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,o,s,a,e.correlationId,w.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(w.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let r=new Map;if(xA(r,e.embeddedClientId||e.tokenBodyParameters?.[qi]||this.config.authOptions.clientId),e.redirectUri&&vA(r,e.redirectUri),DA(r,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),_h(r,$r.REFRESH_TOKEN_GRANT),MA(r),Ph(r,this.config.libraryInfo),Mh(r,this.config.telemetry.application),Vh(r),this.serverTelemetryManager&&!KC(this.config)&&Yh(r,this.serverTelemetryManager),QS(r,e.refreshToken),this.config.clientCredentials.clientSecret&&Lh(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let n=this.config.clientCredentials.clientAssertion;Oh(r,await Nr(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Uh(r,n.assertionType)}if(e.authenticationScheme===Te.POP){let n=new Ls(this.cryptoUtils,this.performanceClient),i;e.popKid?i=this.cryptoUtils.encodeKid(e.popKid):i=(await ke(n.generateCnf.bind(n),w.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,qh(r,i)}else if(e.authenticationScheme===Te.SSH)if(e.sshJwk)Gh(r,e.sshJwk);else throw ze(ko);if((!je.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&NA(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Dr.HOME_ACCOUNT_ID:try{let n=Hi(e.ccsCredential.credential);xo(r,n)}catch(n){this.logger.verbose(\"Could not parse home account ID for CCS Header: \"+n)}break;case Dr.UPN:Ps(r,e.ccsCredential.credential);break}return e.embeddedClientId&&No(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&vo(r,e.tokenBodyParameters),kA(r,e.correlationId,this.performanceClient),_i(r)}};var Zh=class extends ir{constructor(e,r){super(e,r)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(w.SilentFlowClientAcquireCachedToken,e.correlationId);let r=tt.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!je.isEmptyObj(e.claims))throw this.setCacheOutcome(tt.FORCE_REFRESH_OR_CLAIMS,e.correlationId),D(To);if(!e.account)throw D(Ro);let n=e.account.tenantId||XL(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,n);if(o){if(SS(o.cachedAt)||Fl(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(tt.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),D(To);o.refreshOn&&Fl(o.refreshOn,0)&&(r=tt.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(tt.NO_CACHED_ACCESS_TOKEN,e.correlationId),D(To);let s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,i,n,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(r,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await ke(this.generateResultFromCacheRecord.bind(this),w.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),r]}setCacheOutcome(e,r){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},r),e!==tt.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,r){this.performanceClient?.addQueueMeasurement(w.SilentFlowClientGenerateResultFromCacheRecord,r.correlationId);let n;if(e.idToken&&(n=Do(e.idToken.secret,this.config.cryptoInterface.base64Decode)),r.maxAge||r.maxAge===0){let i=n?.auth_time;if(!i)throw D(wo);kh(i,r.maxAge)}return Pt.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,n)}};var eg={};fr(eg,{getAuthorizationCodePayload:()=>W6,getAuthorizeUrl:()=>K6,getStandardAuthorizeRequestParameters:()=>J6,validateAuthorizationResponse:()=>tO});function J6(t,e,r,n){let i=e.correlationId,o=new Map;xA(o,e.embeddedClientId||e.extraQueryParameters?.[qi]||t.clientId);let s=[...e.scopes||[],...e.extraScopesToConsent||[]];if(DA(o,s,!0,t.authority.options.OIDCOptions?.defaultScopes),vA(o,e.redirectUri),PA(o,i),pS(o,e.responseMode),MA(o),e.prompt&&(yS(o,e.prompt),n?.addFields({prompt:e.prompt},i)),e.domainHint&&(mS(o,e.domainHint),n?.addFields({domainHintFromRequest:!0},i)),e.prompt!==Qs.SELECT_ACCOUNT)if(e.sid&&e.prompt===Qs.NONE)r.verbose(\"createAuthCodeUrlQueryString: Prompt is none, adding sid from request\"),ZC(o,e.sid),n?.addFields({sidFromRequest:!0},i);else if(e.account){let a=j6(e.account),A=$6(e.account);if(A&&e.domainHint&&(r.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: \"domainHint\" param is set, skipping opaque \"login_hint\" claim. Please consider not passing domainHint'),A=null),A){r.verbose(\"createAuthCodeUrlQueryString: login_hint claim present on account\"),Ml(o,A),n?.addFields({loginHintFromClaim:!0},i);try{let c=Hi(e.account.homeAccountId);xo(o,c)}catch{r.verbose(\"createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header\")}}else if(a&&e.prompt===Qs.NONE){r.verbose(\"createAuthCodeUrlQueryString: Prompt is none, adding sid from account\"),ZC(o,a),n?.addFields({sidFromClaim:!0},i);try{let c=Hi(e.account.homeAccountId);xo(o,c)}catch{r.verbose(\"createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header\")}}else if(e.loginHint)r.verbose(\"createAuthCodeUrlQueryString: Adding login_hint from request\"),Ml(o,e.loginHint),Ps(o,e.loginHint),n?.addFields({loginHintFromRequest:!0},i);else if(e.account.username){r.verbose(\"createAuthCodeUrlQueryString: Adding login_hint from account\"),Ml(o,e.account.username),n?.addFields({loginHintFromUpn:!0},i);try{let c=Hi(e.account.homeAccountId);xo(o,c)}catch{r.verbose(\"createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header\")}}}else e.loginHint&&(r.verbose(\"createAuthCodeUrlQueryString: No account, adding login_hint from request\"),Ml(o,e.loginHint),Ps(o,e.loginHint),n?.addFields({loginHintFromRequest:!0},i));else r.verbose(\"createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints\");return e.nonce&&IS(o,e.nonce),e.state&&Fh(o,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&NA(o,e.claims,t.clientCapabilities),e.embeddedClientId&&No(o,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Pl))&&Hh(o),o}function K6(t,e,r,n){let i=_i(e,r,n);return Re.appendQueryString(t.authorizationEndpoint,i)}function W6(t,e){if(tO(t,e),!t.code)throw D(fA);return t}function tO(t,e){if(!t.state||!e)throw t.state?D(Ts,\"Cached State\"):D(Ts,\"Server State\");let r,n;try{r=decodeURIComponent(t.state)}catch{throw D(ci,t.state)}try{n=decodeURIComponent(e)}catch{throw D(ci,t.state)}if(r!==n)throw D(sA);if(t.error||t.error_description||t.suberror){let i=z6(t);throw lm(t.error,t.error_description,t.suberror)?new Rn(t.error||\"\",t.error_description,t.suberror,t.timestamp||\"\",t.trace_id||\"\",t.correlation_id||\"\",t.claims||\"\",i):new vr(t.error||\"\",t.error_description,t.suberror,i)}}function z6(t){let e=\"code=\",r=t.error_uri?.lastIndexOf(e);return r&&r>=0?t.error_uri?.substring(r+e.length):void 0}function j6(t){return t.idTokenClaims?.sid||null}function $6(t){return t.loginHint||t.idTokenClaims?.login_hint||null}var rO=\",\",nO=\"|\";function X6(t){let{skus:e,libraryName:r,libraryVersion:n,extensionName:i,extensionVersion:o}=t,s=new Map([[0,[r,n]],[2,[i,o]]]),a=[];if(e?.length){if(a=e.split(rO),a.length<4)return e}else a=Array.from({length:4},()=>nO);return s.forEach((A,c)=>{A.length===2&&A[0]?.length&&A[1]?.length&&Z6({skuArr:a,index:c,skuName:A[0],skuVersion:A[1]})}),a.join(rO)}function Z6(t){let{skuArr:e,index:r,skuName:n,skuVersion:i}=t;r>=e.length||(e[r]=[n,i].join(nO))}var LA=class t{constructor(e,r){this.cacheOutcome=tt.NOT_APPLICABLE,this.cacheManager=r,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||b.EMPTY_STRING,this.wrapperVer=e.wrapperVer||b.EMPTY_STRING,this.telemetryCacheKey=Gt.CACHE_KEY+Qo.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${Gt.VALUE_SEPARATOR}${this.cacheOutcome}`,r=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&r.push(`broker_error=${n}`);let i=r.join(Gt.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),s=[e,o].join(Gt.VALUE_SEPARATOR);return[Gt.SCHEMA_VERSION,s,i].join(Gt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*r).join(Gt.VALUE_SEPARATOR),i=e.errors.slice(0,r).join(Gt.VALUE_SEPARATOR),o=e.errors.length,s=r<o?Gt.OVERFLOW_TRUE:Gt.OVERFLOW_FALSE,a=[o,s].join(Gt.VALUE_SEPARATOR);return[Gt.SCHEMA_VERSION,e.cacheHits,n,i,a].join(Gt.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let r=this.getLastRequests();r.errors.length>=Gt.MAX_CACHED_ERRORS&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof fe?e.subError?r.errors.push(e.subError):e.errorCode?r.errors.push(e.errorCode):r.errors.push(e.toString()):r.errors.push(e.toString()):r.errors.push(Gt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.errors.length;if(r===n)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{let i={failedRequests:e.failedRequests.slice(r*2),errors:e.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}}static maxErrorsToSend(e){let r,n=0,i=0,o=e.errors.length;for(r=0;r<o;r++){let s=e.failedRequests[2*r]||b.EMPTY_STRING,a=e.failedRequests[2*r+1]||b.EMPTY_STRING,A=e.errors[r]||b.EMPTY_STRING;if(i+=s.toString().length+a.toString().length+A.length+3,i<Gt.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||b.EMPTY_STRING),e.push(this.regionSource||b.EMPTY_STRING),e.push(this.regionOutcome||b.EMPTY_STRING),e.join(\",\")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let r=this.getLastRequests();r.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return X6(e)}};var Po=class{static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],o={homeAccountId:i.home_account_id,environment:i.environment,realm:i.realm,localAccountId:i.local_account_id,username:i.username,authorityType:i.authority_type,name:i.name,clientInfo:i.client_info,lastModificationTime:i.last_modification_time,lastModificationApp:i.last_modification_app,tenantProfiles:i.tenantProfiles?.map(a=>JSON.parse(a)),lastUpdatedAt:Date.now().toString()},s=new wn;Ns.toObject(s,o),r[n]=s}),r}static deserializeIdTokens(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],o={homeAccountId:i.home_account_id,environment:i.environment,credentialType:i.credential_type,clientId:i.client_id,secret:i.secret,realm:i.realm,lastUpdatedAt:Date.now().toString()};r[n]=o}),r}static deserializeAccessTokens(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],o={homeAccountId:i.home_account_id,environment:i.environment,credentialType:i.credential_type,clientId:i.client_id,secret:i.secret,realm:i.realm,target:i.target,cachedAt:i.cached_at,expiresOn:i.expires_on,extendedExpiresOn:i.extended_expires_on,refreshOn:i.refresh_on,keyId:i.key_id,tokenType:i.token_type,requestedClaims:i.requestedClaims,requestedClaimsHash:i.requestedClaimsHash,userAssertionHash:i.userAssertionHash,lastUpdatedAt:Date.now().toString()};r[n]=o}),r}static deserializeRefreshTokens(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n],o={homeAccountId:i.home_account_id,environment:i.environment,credentialType:i.credential_type,clientId:i.client_id,secret:i.secret,familyId:i.family_id,target:i.target,realm:i.realm,lastUpdatedAt:Date.now().toString()};r[n]=o}),r}static deserializeAppMetadata(e){let r={};return e&&Object.keys(e).map(function(n){let i=e[n];r[n]={clientId:i.client_id,environment:i.environment,familyId:i.family_id}}),r}static deserializeAllCache(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}};var iO=\"system_assigned_managed_identity\",sX=\"managed_identity\",LS=`https://login.microsoftonline.com/${sX}/`,Xr={AUTHORIZATION_HEADER_NAME:\"Authorization\",METADATA_HEADER_NAME:\"Metadata\",APP_SERVICE_SECRET_HEADER_NAME:\"X-IDENTITY-HEADER\",ML_AND_SF_SECRET_HEADER_NAME:\"secret\"},Ut={API_VERSION:\"api-version\",RESOURCE:\"resource\",SHA256_TOKEN_TO_REFRESH:\"token_sha256_to_refresh\",XMS_CC:\"xms_cc\"},oe={AZURE_POD_IDENTITY_AUTHORITY_HOST:\"AZURE_POD_IDENTITY_AUTHORITY_HOST\",DEFAULT_IDENTITY_CLIENT_ID:\"DEFAULT_IDENTITY_CLIENT_ID\",IDENTITY_ENDPOINT:\"IDENTITY_ENDPOINT\",IDENTITY_HEADER:\"IDENTITY_HEADER\",IDENTITY_SERVER_THUMBPRINT:\"IDENTITY_SERVER_THUMBPRINT\",IMDS_ENDPOINT:\"IMDS_ENDPOINT\",MSI_ENDPOINT:\"MSI_ENDPOINT\",MSI_SECRET:\"MSI_SECRET\"},ce={APP_SERVICE:\"AppService\",AZURE_ARC:\"AzureArc\",CLOUD_SHELL:\"CloudShell\",DEFAULT_TO_IMDS:\"DefaultToImds\",IMDS:\"Imds\",MACHINE_LEARNING:\"MachineLearning\",SERVICE_FABRIC:\"ServiceFabric\"},Qt={SYSTEM_ASSIGNED:\"system-assigned\",USER_ASSIGNED_CLIENT_ID:\"user-assigned-client-id\",USER_ASSIGNED_RESOURCE_ID:\"user-assigned-resource-id\",USER_ASSIGNED_OBJECT_ID:\"user-assigned-object-id\"},ut={GET:\"get\",POST:\"post\"},hm={SUCCESS_RANGE_START:ge.SUCCESS_RANGE_START,SUCCESS_RANGE_END:ge.SUCCESS_RANGE_END,SERVER_ERROR:ge.SERVER_ERROR},oO=\"REGION_NAME\",sO=\"MSAL_FORCE_REGION\",aO=32,AO={SHA256:\"sha256\"},gm={CV_CHARSET:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~\"},OS={KEY_SEPARATOR:\"-\"},Pr={MSAL_SKU:\"msal.js.node\",JWT_BEARER_ASSERTION_TYPE:\"urn:ietf:params:oauth:client-assertion-type:jwt-bearer\",AUTHORIZATION_PENDING:\"authorization_pending\",HTTP_PROTOCOL:\"http://\",LOCALHOST:\"localhost\"},Mo={acquireTokenSilent:62,acquireTokenByUsernamePassword:371,acquireTokenByDeviceCode:671,acquireTokenByClientCredential:771,acquireTokenByCode:871,acquireTokenByRefreshToken:872},Jn={RSA_256:\"RS256\",PSS_256:\"PS256\",X5T_256:\"x5t#S256\",X5T:\"x5t\",X5C:\"x5c\",AUDIENCE:\"aud\",EXPIRATION_TIME:\"exp\",ISSUER:\"iss\",SUBJECT:\"sub\",NOT_BEFORE:\"nbf\",JWT_ID:\"jti\"},fm={INTERVAL_MS:100,TIMEOUT_MS:5e3},cO=4096;var Ul=class{static getNetworkResponse(e,r,n){return{headers:e,body:r,status:n}}static urlToHttpOptions(e){let r={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith(\"[\")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||\"\"}${e.search||\"\"}`,href:e.href};return e.port!==\"\"&&(r.port=Number(e.port)),(e.username||e.password)&&(r.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),r}};var pm=Ae(require(\"http\"),1),US=Ae(require(\"https\"),1);var _l=class{constructor(e,r){this.proxyUrl=e||\"\",this.customAgentOptions=r||{}}async sendGetRequestAsync(e,r,n){return this.proxyUrl?lO(e,this.proxyUrl,ut.GET,r,this.customAgentOptions,n):uO(e,ut.GET,r,this.customAgentOptions,n)}async sendPostRequestAsync(e,r){return this.proxyUrl?lO(e,this.proxyUrl,ut.POST,r,this.customAgentOptions):uO(e,ut.POST,r,this.customAgentOptions)}},lO=(t,e,r,n,i,o)=>{let s=new URL(t),a=new URL(e),A=n?.headers||{},c={host:a.hostname,port:a.port,method:\"CONNECT\",path:s.hostname,headers:A};i&&Object.keys(i).length&&(c.agent=new pm.default.Agent(i));let l=\"\";if(r===ut.POST){let d=n?.body||\"\";l=`Content-Type: application/x-www-form-urlencoded\\r\nContent-Length: ${d.length}\\r\n\\r\n${d}`}else o&&(c.timeout=o);let u=`${r.toUpperCase()} ${s.href} HTTP/1.1\\r\nHost: ${s.host}\\r\nConnection: close\\r\n`+l+`\\r\n`;return new Promise((d,h)=>{let g=pm.default.request(c);o&&g.on(\"timeout\",()=>{g.destroy(),h(new Error(\"Request time out\"))}),g.end(),g.on(\"connect\",(p,f)=>{let C=p?.statusCode||hm.SERVER_ERROR;(C<hm.SUCCESS_RANGE_START||C>hm.SUCCESS_RANGE_END)&&(g.destroy(),f.destroy(),h(new Error(`Error connecting to proxy. Http status code: ${p.statusCode}. Http status message: ${p?.statusMessage||\"Unknown\"}`))),f.write(u);let m=[];f.on(\"data\",B=>{m.push(B)}),f.on(\"end\",()=>{let T=Buffer.concat([...m]).toString().split(`\\r\n`),L=parseInt(T[0].split(\" \")[1]),F=T[0].split(\" \").slice(2).join(\" \"),R=T[T.length-1],S=T.slice(1,T.length-2),I=new Map;S.forEach(z=>{let H=z.split(new RegExp(/:\\s(.*)/s)),ue=H[0],se=H[1];try{let Ce=JSON.parse(se);Ce&&typeof Ce==\"object\"&&(se=Ce)}catch{}I.set(ue,se)});let k=Object.fromEntries(I),P=Ul.getNetworkResponse(k,dO(L,F,k,R),L);(L<ge.SUCCESS_RANGE_START||L>ge.SUCCESS_RANGE_END)&&P.body.error!==Pr.AUTHORIZATION_PENDING&&g.destroy(),d(P)}),f.on(\"error\",B=>{g.destroy(),f.destroy(),h(new Error(B.toString()))})}),g.on(\"error\",p=>{g.destroy(),h(new Error(p.toString()))})})},uO=(t,e,r,n,i)=>{let o=e===ut.POST,s=r?.body||\"\",a=new URL(t),A=r?.headers||{},c={method:e,headers:A,...Ul.urlToHttpOptions(a)};return n&&Object.keys(n).length&&(c.agent=new US.default.Agent(n)),o?c.headers={...c.headers,\"Content-Length\":s.length}:i&&(c.timeout=i),new Promise((l,u)=>{let d;c.protocol===\"http:\"?d=pm.default.request(c):d=US.default.request(c),o&&d.write(s),i&&d.on(\"timeout\",()=>{d.destroy(),u(new Error(\"Request time out\"))}),d.end(),d.on(\"response\",h=>{let g=h.headers,p=h.statusCode,f=h.statusMessage,C=[];h.on(\"data\",m=>{C.push(m)}),h.on(\"end\",()=>{let m=Buffer.concat([...C]).toString(),B=g,T=Ul.getNetworkResponse(B,dO(p,f,B,m),p);(p<ge.SUCCESS_RANGE_START||p>ge.SUCCESS_RANGE_END)&&T.body.error!==Pr.AUTHORIZATION_PENDING&&d.destroy(),l(T)})}),d.on(\"error\",h=>{d.destroy(),u(new Error(h.toString()))})})},dO=(t,e,r,n)=>{let i;try{i=JSON.parse(n)}catch{let s,a;t>=ge.CLIENT_ERROR_RANGE_START&&t<=ge.CLIENT_ERROR_RANGE_END?(s=\"client_error\",a=\"A client\"):t>=ge.SERVER_ERROR_RANGE_START&&t<=ge.SERVER_ERROR_RANGE_END?(s=\"server_error\",a=\"A server\"):(s=\"unknown_error\",a=\"An unknown\"),i={error:s,error_description:`${a} error occured.\nHttp status code: ${t}\nHttp status message: ${e||\"Unknown\"}\nHeaders: ${JSON.stringify(r)}`}}return i};var Em=\"invalid_file_extension\",Cm=\"invalid_file_path\",Os=\"invalid_managed_identity_id_type\",mm=\"invalid_secret\",hO=\"missing_client_id\",gO=\"network_unavailable\",ym=\"platform_not_supported\",Im=\"unable_to_create_azure_arc\",Bm=\"unable_to_create_cloud_shell\",Qm=\"unable_to_create_source\",tg=\"unable_to_read_secret_file\",fO=\"user_assigned_not_available_at_runtime\",wm=\"www_authenticate_header_missing\",Rm=\"www_authenticate_header_unsupported_format\",OA={[oe.AZURE_POD_IDENTITY_AUTHORITY_HOST]:\"azure_pod_identity_authority_host_url_malformed\",[oe.IDENTITY_ENDPOINT]:\"identity_endpoint_url_malformed\",[oe.IMDS_ENDPOINT]:\"imds_endpoint_url_malformed\",[oe.MSI_ENDPOINT]:\"msi_endpoint_url_malformed\"};var aX={[Em]:\"The file path in the WWW-Authenticate header does not contain a .key file.\",[Cm]:\"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.\",[Os]:\"More than one ManagedIdentityIdType was provided.\",[mm]:\"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.\",[ym]:\"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.\",[hO]:\"A ManagedIdentityId id was not provided.\",[OA.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${oe.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,[OA.IDENTITY_ENDPOINT]:`The Managed Identity's '${oe.IDENTITY_ENDPOINT}' environment variable is malformed.`,[OA.IMDS_ENDPOINT]:`The Managed Identity's '${oe.IMDS_ENDPOINT}' environment variable is malformed.`,[OA.MSI_ENDPOINT]:`The Managed Identity's '${oe.MSI_ENDPOINT}' environment variable is malformed.`,[gO]:\"Authentication unavailable. The request to the managed identity endpoint timed out.\",[Im]:\"Azure Arc Managed Identities can only be system assigned.\",[Bm]:\"Cloud Shell Managed Identities can only be system assigned.\",[Qm]:\"Unable to create a Managed Identity source based on environment variables.\",[tg]:\"Unable to read the secret file.\",[fO]:\"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.\",[wm]:\"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.\",[Rm]:\"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format.\"},_S=class t extends fe{constructor(e){super(e,aX[e]),this.name=\"ManagedIdentityError\",Object.setPrototypeOf(this,t.prototype)}};function Mt(t){return new _S(t)}var Sm=class{get id(){return this._id}set id(e){this._id=e}get idType(){return this._idType}set idType(e){this._idType=e}constructor(e){let r=e?.userAssignedClientId,n=e?.userAssignedResourceId,i=e?.userAssignedObjectId;if(r){if(n||i)throw Mt(Os);this.id=r,this.idType=Qt.USER_ASSIGNED_CLIENT_ID}else if(n){if(r||i)throw Mt(Os);this.id=n,this.idType=Qt.USER_ASSIGNED_RESOURCE_ID}else if(i){if(r||n)throw Mt(Os);this.id=i,this.idType=Qt.USER_ASSIGNED_OBJECT_ID}else this.id=iO,this.idType=Qt.SYSTEM_ASSIGNED}};var _t={invalidLoopbackAddressType:{code:\"invalid_loopback_server_address_type\",desc:\"Loopback server address is not type string. This is unexpected.\"},unableToLoadRedirectUri:{code:\"unable_to_load_redirectUrl\",desc:\"Loopback server callback was invoked without a url. This is unexpected.\"},noAuthCodeInResponse:{code:\"no_auth_code_in_response\",desc:\"No auth code found in the server response. Please check your network trace to determine what happened.\"},noLoopbackServerExists:{code:\"no_loopback_server_exists\",desc:\"No loopback server exists yet.\"},loopbackServerAlreadyExists:{code:\"loopback_server_already_exists\",desc:\"Loopback server already exists. Cannot create another.\"},loopbackServerTimeout:{code:\"loopback_server_timeout\",desc:\"Timed out waiting for auth code listener to be registered.\"},stateNotFoundError:{code:\"state_not_found\",desc:\"State not found. Please verify that the request originated from msal.\"},thumbprintMissing:{code:\"thumbprint_missing_from_client_certificate\",desc:\"Client certificate does not contain a SHA-1 or SHA-256 thumbprint.\"},redirectUriNotSupported:{code:\"redirect_uri_not_supported\",desc:\"RedirectUri is not supported in this scenario. Please remove redirectUri from the request.\"}},dr=class t extends fe{constructor(e,r){super(e,r),this.name=\"NodeAuthError\"}static createInvalidLoopbackAddressTypeError(){return new t(_t.invalidLoopbackAddressType.code,`${_t.invalidLoopbackAddressType.desc}`)}static createUnableToLoadRedirectUrlError(){return new t(_t.unableToLoadRedirectUri.code,`${_t.unableToLoadRedirectUri.desc}`)}static createNoAuthCodeInResponseError(){return new t(_t.noAuthCodeInResponse.code,`${_t.noAuthCodeInResponse.desc}`)}static createNoLoopbackServerExistsError(){return new t(_t.noLoopbackServerExists.code,`${_t.noLoopbackServerExists.desc}`)}static createLoopbackServerAlreadyExistsError(){return new t(_t.loopbackServerAlreadyExists.code,`${_t.loopbackServerAlreadyExists.desc}`)}static createLoopbackServerTimeoutError(){return new t(_t.loopbackServerTimeout.code,`${_t.loopbackServerTimeout.desc}`)}static createStateNotFoundError(){return new t(_t.stateNotFoundError.code,_t.stateNotFoundError.desc)}static createThumbprintMissingError(){return new t(_t.thumbprintMissing.code,_t.thumbprintMissing.desc)}static createRedirectUriNotSupportedError(){return new t(_t.redirectUriNotSupported.code,_t.redirectUriNotSupported.desc)}};var AX={clientId:b.EMPTY_STRING,authority:b.DEFAULT_AUTHORITY,clientSecret:b.EMPTY_STRING,clientAssertion:b.EMPTY_STRING,clientCertificate:{thumbprint:b.EMPTY_STRING,thumbprintSha256:b.EMPTY_STRING,privateKey:b.EMPTY_STRING,x5c:b.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:b.EMPTY_STRING,authorityMetadata:b.EMPTY_STRING,clientCapabilities:[],protocolMode:ur.AAD,azureCloudOptions:{azureCloudInstance:bo.None,tenant:b.EMPTY_STRING},skipAuthorityMetadataCache:!1,encodeExtraQueryParams:!1},cX={claimsBasedCachingEnabled:!1},HS={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Bt.Info},lX={loggerOptions:HS,networkClient:new _l,proxyUrl:b.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},uX={application:{appName:b.EMPTY_STRING,appVersion:b.EMPTY_STRING}};function pO({auth:t,broker:e,cache:r,system:n,telemetry:i}){let o={...lX,networkClient:new _l(n?.proxyUrl,n?.customAgentOptions),loggerOptions:n?.loggerOptions||HS,disableInternalRetries:n?.disableInternalRetries||!1};if(t.clientCertificate&&!t.clientCertificate.thumbprint&&!t.clientCertificate.thumbprintSha256)throw dr.createStateNotFoundError();return{auth:{...AX,...t},broker:{...e},cache:{...cX,...r},system:{...o,...n},telemetry:{...uX,...i}}}function EO({clientCapabilities:t,managedIdentityIdParams:e,system:r}){let n=new Sm(e),i=r?.loggerOptions||HS,o;return r?.networkClient?o=r.networkClient:o=new _l(r?.proxyUrl,r?.customAgentOptions),{clientCapabilities:t||[],managedIdentityId:n,system:{loggerOptions:i,networkClient:o},disableInternalRetries:r?.disableInternalRetries||!1}}var CO=Ae(require(\"crypto\")),bm=new Uint8Array(256),Tm=bm.length;function qS(){return Tm>bm.length-16&&(CO.default.randomFillSync(bm),Tm=0),bm.slice(Tm,Tm+=16)}var mO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function dX(t){return typeof t==\"string\"&&mO.test(t)}var yO=dX;var or=[];for(let t=0;t<256;++t)or.push((t+256).toString(16).substr(1));function hX(t,e=0){let r=(or[t[e+0]]+or[t[e+1]]+or[t[e+2]]+or[t[e+3]]+\"-\"+or[t[e+4]]+or[t[e+5]]+\"-\"+or[t[e+6]]+or[t[e+7]]+\"-\"+or[t[e+8]]+or[t[e+9]]+\"-\"+or[t[e+10]]+or[t[e+11]]+or[t[e+12]]+or[t[e+13]]+or[t[e+14]]+or[t[e+15]]).toLowerCase();if(!yO(r))throw TypeError(\"Stringified UUID is invalid\");return r}var IO=hX;function gX(t,e,r){t=t||{};let n=t.random||(t.rng||qS)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return IO(n)}var GS=gX;var Hl=class{generateGuid(){return GS()}isGuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}};var Tn=class t{static base64Encode(e,r){return Buffer.from(e,r).toString(rr.BASE64)}static base64EncodeUrl(e,r){return t.base64Encode(e,r).replace(/=/g,b.EMPTY_STRING).replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}static base64Decode(e){return Buffer.from(e,rr.BASE64).toString(\"utf8\")}static base64DecodeUrl(e){let r=e.replace(/-/g,\"+\").replace(/_/g,\"/\");for(;r.length%4;)r+=\"=\";return t.base64Decode(r)}};var BO=Ae(require(\"crypto\"),1);var Us=class{sha256(e){return BO.default.createHash(AO.SHA256).update(e).digest()}};var QO=Ae(require(\"crypto\"),1);var km=class{constructor(){this.hashUtils=new Us}async generatePkceCodes(){let e=this.generateCodeVerifier(),r=this.generateCodeChallengeFromVerifier(e);return{verifier:e,challenge:r}}generateCodeVerifier(){let e=[],r=256-256%gm.CV_CHARSET.length;for(;e.length<=aO;){let i=QO.default.randomBytes(1)[0];if(i>=r)continue;let o=i%gm.CV_CHARSET.length;e.push(gm.CV_CHARSET[o])}let n=e.join(b.EMPTY_STRING);return Tn.base64EncodeUrl(n)}generateCodeChallengeFromVerifier(e){return Tn.base64EncodeUrl(this.hashUtils.sha256(e).toString(rr.BASE64),rr.BASE64)}};var Gi=class{constructor(){this.pkceGenerator=new km,this.guidGenerator=new Hl,this.hashUtils=new Us}base64UrlEncode(){throw new Error(\"Method not implemented.\")}encodeKid(){throw new Error(\"Method not implemented.\")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return Tn.base64Encode(e)}base64Decode(e){return Tn.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw new Error(\"Method not implemented.\")}removeTokenBindingKey(){throw new Error(\"Method not implemented.\")}clearKeystore(){throw new Error(\"Method not implemented.\")}signJwt(){throw new Error(\"Method not implemented.\")}async hashString(e){return Tn.base64EncodeUrl(this.hashUtils.sha256(e).toString(rr.BASE64),rr.BASE64)}};function wO(t){let e=t.credentialType===Ke.REFRESH_TOKEN&&t.familyId||t.clientId,r=t.tokenType&&t.tokenType.toLowerCase()!==Te.BEARER.toLowerCase()?t.tokenType.toLowerCase():\"\";return[t.homeAccountId,t.environment,t.credentialType,e,t.realm||\"\",t.target||\"\",t.requestedClaimsHash||\"\",r].join(OS.KEY_SEPARATOR).toLowerCase()}function RO(t){let e=t.homeAccountId.split(\".\")[1];return[t.homeAccountId,t.environment,e||t.tenantId||\"\"].join(OS.KEY_SEPARATOR).toLowerCase()}var _s=class extends Ns{constructor(e,r,n,i){super(r,n,e,new TA,i),this.cache={},this.changeEmitters=[],this.logger=e}registerChangeEmitter(e){this.changeEmitters.push(e)}emitChange(){this.changeEmitters.forEach(e=>e.call(null))}cacheToInMemoryCache(e){let r={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let n in e){let i=e[n];if(typeof i==\"object\")if(i instanceof wn)r.accounts[n]=i;else if(xr.isIdTokenEntity(i))r.idTokens[n]=i;else if(xr.isAccessTokenEntity(i))r.accessTokens[n]=i;else if(xr.isRefreshTokenEntity(i))r.refreshTokens[n]=i;else if(xr.isAppMetadataEntity(n,i))r.appMetadata[n]=i;else continue}return r}inMemoryCacheToCache(e){let r=this.getCache();return r={...r,...e.accounts,...e.idTokens,...e.accessTokens,...e.refreshTokens,...e.appMetadata},r}getInMemoryCache(){return this.logger.trace(\"Getting in-memory cache\"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace(\"Setting in-memory cache\");let r=this.inMemoryCacheToCache(e);this.setCache(r),this.emitChange()}getCache(){return this.logger.trace(\"Getting cache key-value store\"),this.cache}setCache(e){this.logger.trace(\"Setting cache key value store\"),this.cache=e,this.emitChange()}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,r){this.logger.tracePii(`Item key: ${e}`);let n=this.getCache();n[e]=r,this.setCache(n)}generateCredentialKey(e){return wO(e)}generateAccountKey(e){return RO(e)}getAccountKeys(){let e=this.getInMemoryCache();return Object.keys(e.accounts)}getTokenKeys(){let e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){return this.getItem(e)?Object.assign(new wn,this.getItem(e)):null}async setAccount(e){let r=this.generateAccountKey(e.getAccountInfo());this.setItem(r,e)}getIdTokenCredential(e){let r=this.getItem(e);return xr.isIdTokenEntity(r)?r:null}async setIdTokenCredential(e){let r=this.generateCredentialKey(e);this.setItem(r,e)}getAccessTokenCredential(e){let r=this.getItem(e);return xr.isAccessTokenEntity(r)?r:null}async setAccessTokenCredential(e){let r=this.generateCredentialKey(e);this.setItem(r,e)}getRefreshTokenCredential(e){let r=this.getItem(e);return xr.isRefreshTokenEntity(r)?r:null}async setRefreshTokenCredential(e){let r=this.generateCredentialKey(e);this.setItem(r,e)}getAppMetadata(e){let r=this.getItem(e);return xr.isAppMetadataEntity(e,r)?r:null}setAppMetadata(e){let r=xr.generateAppMetadataKey(e);this.setItem(r,e)}getServerTelemetry(e){let r=this.getItem(e);return r&&xr.isServerTelemetryEntity(e,r)?r:null}setServerTelemetry(e,r){this.setItem(e,r)}getAuthorityMetadata(e){let r=this.getItem(e);return r&&xr.isAuthorityMetadataEntity(e,r)?r:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,r){this.setItem(e,r)}getThrottlingCache(e){let r=this.getItem(e);return r&&xr.isThrottlingEntity(e,r)?r:null}setThrottlingCache(e,r){this.setItem(e,r)}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let r=!1,n=this.getCache();return n[e]&&(delete n[e],r=!0),r&&(this.setCache(n),this.emitChange()),r}removeOutdatedAccount(e){this.removeItem(e)}containsKey(e){return this.getKeys().includes(e)}getKeys(){this.logger.trace(\"Retrieving all cache keys\");let e=this.getCache();return[...Object.keys(e)]}clear(){this.logger.trace(\"Clearing cache entries created by MSAL\"),this.getKeys().forEach(r=>{this.removeItem(r)}),this.emitChange()}static generateInMemoryCache(e){return Po.deserializeAllCache(Po.deserializeJSONBlob(e))}static generateJsonCache(e){return Bs.serializeAllCache(e)}updateCredentialCacheKey(e,r){let n=this.generateCredentialKey(r);if(e!==n){let i=this.getItem(e);if(i)return this.removeItem(e),this.setItem(n,i),this.logger.verbose(`Updated an outdated ${r.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${r.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}};var rg={Account:{},IdToken:{},AccessToken:{},RefreshToken:{},AppMetadata:{}},ql=class{constructor(e,r,n){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),n&&(this.persistence=n),this.logger=r}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace(\"Serializing in-memory cache\");let e=Bs.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace(\"Reading cache snapshot from disk\"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace(\"No cache snapshot to merge\"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace(\"Deserializing JSON to in-memory cache\"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace(\"Reading cache snapshot from disk\");let r=Po.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(r)}else this.logger.trace(\"No cache snapshot to deserialize\")}getKVStore(){return this.storage.getCache()}getCacheSnapshot(){let e=_s.generateInMemoryCache(this.cacheSnapshot);return this.storage.inMemoryCacheToCache(e)}async getAllAccounts(e=new Gi().createNewGuid()){this.logger.trace(\"getAllAccounts called\");let r;try{return this.persistence&&(r=new Sn(this,!1),await this.persistence.beforeCacheAccess(r)),this.storage.getAllAccounts({},e)}finally{this.persistence&&r&&await this.persistence.afterCacheAccess(r)}}async getAccountByHomeId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.homeAccountId===e)[0]||null}async getAccountByLocalId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.localAccountId===e)[0]||null}async removeAccount(e,r){this.logger.trace(\"removeAccount called\");let n;try{this.persistence&&(n=new Sn(this,!0),await this.persistence.beforeCacheAccess(n)),this.storage.removeAccount(e,r||new Hl().generateGuid())}finally{this.persistence&&n&&await this.persistence.afterCacheAccess(n)}}async overwriteCache(){if(!this.persistence){this.logger.info(\"No persistence layer specified, cache cannot be overwritten\");return}this.logger.info(\"Overwriting in-memory cache with persistent cache\"),this.storage.clear();let e=new Sn(this,!1);await this.persistence.beforeCacheAccess(e);let r=this.getCacheSnapshot();this.storage.setCache(r),await this.persistence.afterCacheAccess(e)}handleChangeEvent(){this.cacheHasChanged=!0}mergeState(e,r){this.logger.trace(\"Merging in-memory cache with cache snapshot\");let n=this.mergeRemovals(e,r);return this.mergeUpdates(n,r)}mergeUpdates(e,r){return Object.keys(r).forEach(n=>{let i=r[n];if(!e.hasOwnProperty(n))i!==null&&(e[n]=i);else{let o=i!==null,s=typeof i==\"object\",a=!Array.isArray(i),A=typeof e[n]<\"u\"&&e[n]!==null;o&&s&&a&&A?this.mergeUpdates(e[n],i):e[n]=i}}),e}mergeRemovals(e,r){this.logger.trace(\"Remove updated entries in cache\");let n=e.Account?this.mergeRemovalsDict(e.Account,r.Account):e.Account,i=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,r.AccessToken):e.AccessToken,o=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,r.RefreshToken):e.RefreshToken,s=e.IdToken?this.mergeRemovalsDict(e.IdToken,r.IdToken):e.IdToken,a=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,r.AppMetadata):e.AppMetadata;return{...e,Account:n,AccessToken:i,RefreshToken:o,IdToken:s,AppMetadata:a}}mergeRemovalsDict(e,r){let n={...e};return Object.keys(e).forEach(i=>{(!r||!r.hasOwnProperty(i))&&delete n[i]}),n}overlayDefaults(e){return this.logger.trace(\"Overlaying input cache with the default cache\"),{Account:{...rg.Account,...e.Account},IdToken:{...rg.IdToken,...e.IdToken},AccessToken:{...rg.AccessToken,...e.AccessToken},RefreshToken:{...rg.RefreshToken,...e.RefreshToken},AppMetadata:{...rg.AppMetadata,...e.AppMetadata}}}};var e2=Ae(ZH(),1);var Fo=class t{static fromAssertion(e){let r=new t;return r.jwt=e,r}static fromCertificate(e,r,n){let i=new t;return i.privateKey=r,i.thumbprint=e,i.useSha256=!1,n&&(i.publicCertificate=this.parseCertificate(n)),i}static fromCertificateWithSha256Thumbprint(e,r,n){let i=new t;return i.privateKey=r,i.thumbprint=e,i.useSha256=!0,n&&(i.publicCertificate=this.parseCertificate(n)),i}getJwt(e,r,n){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&r===this.issuer&&n===this.jwtAudience?this.jwt:this.createJwt(e,r,n);if(this.jwt)return this.jwt;throw D(We.invalidAssertion)}createJwt(e,r,n){this.issuer=r,this.jwtAudience=n;let i=lt.nowSeconds();this.expirationTime=i+600;let s={alg:this.useSha256?Jn.PSS_256:Jn.RSA_256},a=this.useSha256?Jn.X5T_256:Jn.X5T;Object.assign(s,{[a]:Tn.base64EncodeUrl(this.thumbprint,rr.HEX)}),this.publicCertificate&&Object.assign(s,{[Jn.X5C]:this.publicCertificate});let A={[Jn.AUDIENCE]:this.jwtAudience,[Jn.EXPIRATION_TIME]:this.expirationTime,[Jn.ISSUER]:this.issuer,[Jn.SUBJECT]:this.issuer,[Jn.NOT_BEFORE]:i,[Jn.JWT_ID]:e.createNewGuid()};return this.jwt=e2.default.sign(A,this.privateKey,{header:s}),this.jwt}isExpired(){return this.expirationTime<lt.nowSeconds()}static parseCertificate(e){let r=/-----BEGIN CERTIFICATE-----\\r*\\n(.+?)\\r*\\n-----END CERTIFICATE-----/gs,n=[],i;for(;(i=r.exec(e))!==null;)n.push(i[1].replace(/\\r*\\n/g,b.EMPTY_STRING));return n}};var oy=\"@azure/msal-node\",di=\"3.8.0\";var zl=class extends ir{constructor(e){super(e)}async acquireToken(e){this.logger.info(\"in acquireToken call in username-password client\");let r=lt.nowSeconds(),n=await this.executeTokenRequest(this.authority,e),i=new Pt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n.body),i.handleServerTokenResponse(n.body,this.authority,r,e)}async executeTokenRequest(e,r){let n=this.createTokenQueryParameters(r),i=Re.appendQueryString(e.tokenEndpoint,n),o=await this.createTokenRequestBody(r),s=this.createTokenRequestHeaders({credential:r.username,type:Dr.UPN}),a={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return this.executePostToTokenEndpoint(i,o,s,a,r.correlationId)}async createTokenRequestBody(e){let r=new Map;J.addClientId(r,this.config.authOptions.clientId),J.addUsername(r,e.username),J.addPassword(r,e.password),J.addScopes(r,e.scopes),J.addResponseType(r,Rl.IDTOKEN_TOKEN),J.addGrantType(r,$r.RESOURCE_OWNER_PASSWORD_GRANT),J.addClientInfo(r),J.addLibraryInfo(r,this.config.libraryInfo),J.addApplicationTelemetry(r,this.config.telemetry.application),J.addThrottling(r),this.serverTelemetryManager&&J.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();J.addCorrelationId(r,n),this.config.clientCredentials.clientSecret&&J.addClientSecret(r,this.config.clientCredentials.clientSecret);let i=this.config.clientCredentials.clientAssertion;return i&&(J.addClientAssertion(r,await Nr(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),J.addClientAssertionType(r,i.assertionType)),(!je.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&J.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&J.addCcsUpn(r,e.username),nr.mapToQueryString(r)}};function t2(t,e,r,n){let i=eg.getStandardAuthorizeRequestParameters({...t.auth,authority:e,redirectUri:r.redirectUri||\"\"},r,n);return J.addLibraryInfo(i,{sku:Pr.MSAL_SKU,version:di,cpu:process.arch||\"\",os:process.platform||\"\"}),t.auth.protocolMode!==ur.OIDC&&J.addApplicationTelemetry(i,t.telemetry.application),J.addResponseType(i,Rl.CODE),r.codeChallenge&&r.codeChallengeMethod&&J.addCodeChallengeParams(i,r.codeChallenge,r.codeChallengeMethod),J.addExtraQueryParameters(i,r.extraQueryParameters||{}),eg.getAuthorizeUrl(e,i,t.auth.encodeExtraQueryParams,r.extraQueryParameters)}var Gs=class{constructor(e){this.config=pO(e),this.cryptoProvider=new Gi,this.logger=new Bn(this.config.system.loggerOptions,oy,di),this.storage=new _s(this.logger,this.config.auth.clientId,this.cryptoProvider,DS(this.config.auth)),this.tokenCache=new ql(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(e){this.logger.info(\"getAuthCodeUrl called\",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),responseMode:e.responseMode||Li.QUERY,authenticationScheme:Te.BEARER,state:e.state||\"\",nonce:e.nonce||\"\"},n=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions);return t2(this.config,n,r,this.logger)}async acquireTokenByCode(e,r){this.logger.info(\"acquireTokenByCode called\"),e.state&&r&&(this.logger.info(\"acquireTokenByCode - validating state\"),this.validateState(e.state,r.state||\"\"),r={...r,state:\"\"});let n={...e,...await this.initializeBaseRequest(e),authenticationScheme:Te.BEARER},i=this.initializeServerTelemetryManager(Mo.acquireTokenByCode,n.correlationId);try{let o=await this.createAuthority(n.authority,n.correlationId,void 0,e.azureCloudOptions),s=await this.buildOauthClientConfiguration(o,n.correlationId,n.redirectUri,i),a=new Xh(s);return this.logger.verbose(\"Auth code client created\",n.correlationId),await a.acquireToken(n,r)}catch(o){throw o instanceof fe&&o.setCorrelationId(n.correlationId),i.cacheFailedRequest(o),o}}async acquireTokenByRefreshToken(e){this.logger.info(\"acquireTokenByRefreshToken called\",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),authenticationScheme:Te.BEARER},n=this.initializeServerTelemetryManager(Mo.acquireTokenByRefreshToken,r.correlationId);try{let i=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),o=await this.buildOauthClientConfiguration(i,r.correlationId,r.redirectUri||\"\",n),s=new FA(o);return this.logger.verbose(\"Refresh token client created\",r.correlationId),await s.acquireToken(r)}catch(i){throw i instanceof fe&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}}async acquireTokenSilent(e){let r={...e,...await this.initializeBaseRequest(e),forceRefresh:e.forceRefresh||!1},n=this.initializeServerTelemetryManager(Mo.acquireTokenSilent,r.correlationId,r.forceRefresh);try{let i=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),o=await this.buildOauthClientConfiguration(i,r.correlationId,r.redirectUri||\"\",n),s=new Zh(o);this.logger.verbose(\"Silent flow client created\",r.correlationId);try{return await this.tokenCache.overwriteCache(),await this.acquireCachedTokenSilent(r,s,o)}catch(a){if(a instanceof Ds&&a.errorCode===We.tokenRefreshRequired)return new FA(o).acquireTokenByRefreshToken(r);throw a}}catch(i){throw i instanceof fe&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}}async acquireCachedTokenSilent(e,r,n){let[i,o]=await r.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...lr]});if(o===tt.PROACTIVELY_REFRESHED){this.logger.info(\"ClientApplication:acquireCachedTokenSilent - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.\");let s=new FA(n);try{await s.acquireTokenByRefreshToken(e)}catch{}}return i}async acquireTokenByUsernamePassword(e){this.logger.info(\"acquireTokenByUsernamePassword called\",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)},n=this.initializeServerTelemetryManager(Mo.acquireTokenByUsernamePassword,r.correlationId);try{let i=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),o=await this.buildOauthClientConfiguration(i,r.correlationId,\"\",n),s=new zl(o);return this.logger.verbose(\"Username password client created\",r.correlationId),await s.acquireToken(r)}catch(i){throw i instanceof fe&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}}getTokenCache(){return this.logger.info(\"getTokenCache called\"),this.tokenCache}validateState(e,r){if(!e)throw dr.createStateNotFoundError();if(e!==r)throw D(We.stateMismatch)}getLogger(){return this.logger}setLogger(e){this.logger=e}async buildOauthClientConfiguration(e,r,n,i){return this.logger.verbose(\"buildOauthClientConfiguration called\",r),this.logger.info(`Building oauth client configuration with the following authority: ${e.tokenEndpoint}.`,r),i?.updateRegionDiscoveryMetadata(e.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:e,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:n},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:r},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:i,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(e)},libraryInfo:{sku:Pr.MSAL_SKU,version:di,cpu:process.arch||b.EMPTY_STRING,os:process.platform||b.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(e){return this.developerProvidedClientAssertion&&(this.clientAssertion=Fo.fromAssertion(await Nr(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:Pr.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(e){return this.logger.verbose(\"initializeRequestScopes called\",e.correlationId),e.authenticationScheme&&e.authenticationScheme===Te.POP&&this.logger.verbose(\"Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request\",e.correlationId),e.authenticationScheme=Te.BEARER,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!je.isEmptyObj(e.claims)&&(e.requestedClaimsHash=await this.cryptoProvider.hashString(e.claims)),{...e,scopes:[...e&&e.scopes||[],...lr],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority}}initializeServerTelemetryManager(e,r,n){let i={clientId:this.config.auth.clientId,correlationId:r,apiId:e,forceRefresh:n||!1};return new LA(i,this.storage)}async createAuthority(e,r,n,i){this.logger.verbose(\"createAuthority called\",r);let o=li.generateAuthority(e,i||this.config.auth.azureCloudOptions),s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:n,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return im.createDiscoveredInstance(o,this.config.system.networkClient,this.storage,s,this.logger,r)}clearCache(){this.storage.clear()}};var r2=Ae(require(\"http\"),1);var sy=class{async listenForAuthCode(e,r){if(this.server)throw dr.createLoopbackServerAlreadyExistsError();return new Promise((n,i)=>{this.server=r2.default.createServer((o,s)=>{let a=o.url;if(a){if(a===b.FORWARD_SLASH){s.end(e||\"Auth code was successfully acquired. You can close this window now.\");return}}else{s.end(r||\"Error occurred loading redirectUrl\"),i(dr.createUnableToLoadRedirectUrlError());return}let A=this.getRedirectUri(),c=new URL(a,A),l=nr.getDeserializedResponse(c.search)||{};l.code&&(s.writeHead(ge.REDIRECT,{location:A}),s.end()),l.error&&s.end(r||`Error occurred: ${l.error}`),n(l)}),this.server.listen(0,\"127.0.0.1\")})}getRedirectUri(){if(!this.server||!this.server.listening)throw dr.createNoLoopbackServerExistsError();let e=this.server.address();if(!e||typeof e==\"string\"||!e.port)throw this.closeServer(),dr.createInvalidLoopbackAddressTypeError();let r=e&&e.port;return`${Pr.HTTP_PROTOCOL}${Pr.LOCALHOST}:${r}`}closeServer(){this.server&&(this.server.close(),typeof this.server.closeAllConnections==\"function\"&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}};var jl=class extends ir{constructor(e){super(e)}async acquireToken(e){let r=await this.getDeviceCode(e);e.deviceCodeCallback(r);let n=lt.nowSeconds(),i=await this.acquireTokenWithDeviceCode(e,r),o=new Pt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(i),o.handleServerTokenResponse(i,this.authority,n,e)}async getDeviceCode(e){let r=this.createExtraQueryParameters(e),n=Re.appendQueryString(this.authority.deviceCodeEndpoint,r),i=this.createQueryString(e),o=this.createTokenRequestHeaders(),s={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return this.executePostRequestToDeviceCodeEndpoint(n,i,o,s,e.correlationId)}createExtraQueryParameters(e){let r=new Map;return e.extraQueryParameters&&J.addExtraQueryParameters(r,e.extraQueryParameters),nr.mapToQueryString(r)}async executePostRequestToDeviceCodeEndpoint(e,r,n,i,o){let{body:{user_code:s,device_code:a,verification_uri:A,expires_in:c,interval:l,message:u}}=await this.sendPostRequest(i,e,{body:r,headers:n},o);return{userCode:s,deviceCode:a,verificationUri:A,expiresIn:c,interval:l,message:u}}createQueryString(e){let r=new Map;return J.addScopes(r,e.scopes),J.addClientId(r,this.config.authOptions.clientId),e.extraQueryParameters&&J.addExtraQueryParameters(r,e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&J.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),nr.mapToQueryString(r)}continuePolling(e,r,n){if(n)throw this.logger.error(\"Token request cancelled by setting DeviceCodeRequest.cancel = true\"),D(We.deviceCodePollingCancelled);if(r&&r<e&&lt.nowSeconds()>r)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${r}`),D(We.userTimeoutReached);if(lt.nowSeconds()>e)throw r&&this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${r}`),this.logger.error(`Device code expired. Expiration time of device code was ${e}`),D(We.deviceCodeExpired);return!0}async acquireTokenWithDeviceCode(e,r){let n=this.createTokenQueryParameters(e),i=Re.appendQueryString(this.authority.tokenEndpoint,n),o=this.createTokenRequestBody(e,r),s=this.createTokenRequestHeaders(),a=e.timeout?lt.nowSeconds()+e.timeout:void 0,A=lt.nowSeconds()+r.expiresIn,c=r.interval*1e3;for(;this.continuePolling(A,a,e.cancel);){let l={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},u=await this.executePostToTokenEndpoint(i,o,s,l,e.correlationId);if(u.body&&u.body.error)if(u.body.error===b.AUTHORIZATION_PENDING)this.logger.info(\"Authorization pending. Continue polling.\"),await lt.delay(c);else throw this.logger.info(\"Unexpected error in polling from the server\"),QR(bl.postRequestFailed,u.body.error);else return this.logger.verbose(\"Authorization completed successfully. Polling stopped.\"),u.body}throw this.logger.error(\"Polling stopped for unknown reasons.\"),D(We.deviceCodeUnknownError)}createTokenRequestBody(e,r){let n=new Map;J.addScopes(n,e.scopes),J.addClientId(n,this.config.authOptions.clientId),J.addGrantType(n,$r.DEVICE_CODE_GRANT),J.addDeviceCode(n,r.deviceCode);let i=e.correlationId||this.config.cryptoInterface.createNewGuid();return J.addCorrelationId(n,i),J.addClientInfo(n),J.addLibraryInfo(n,this.config.libraryInfo),J.addApplicationTelemetry(n,this.config.telemetry.application),J.addThrottling(n),this.serverTelemetryManager&&J.addServerTelemetry(n,this.serverTelemetryManager),(!je.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&J.addClaims(n,e.claims,this.config.authOptions.clientCapabilities),nr.mapToQueryString(n)}};var $l=class extends Gs{constructor(e){super(e),this.config.broker.nativeBrokerPlugin&&(this.config.broker.nativeBrokerPlugin.isBrokerAvailable?(this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions)):this.logger.warning(\"NativeBroker implementation was provided but the broker is unavailable.\")),this.skus=LA.makeExtraSkuString({libraryName:Pr.MSAL_SKU,libraryVersion:di})}async acquireTokenByDeviceCode(e){this.logger.info(\"acquireTokenByDeviceCode called\",e.correlationId);let r=Object.assign(e,await this.initializeBaseRequest(e)),n=this.initializeServerTelemetryManager(Mo.acquireTokenByDeviceCode,r.correlationId);try{let i=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),o=await this.buildOauthClientConfiguration(i,r.correlationId,\"\",n),s=new jl(o);return this.logger.verbose(\"Device code client created\",r.correlationId),await s.acquireToken(r)}catch(i){throw i instanceof fe&&i.setCorrelationId(r.correlationId),n.cacheFailedRequest(i),i}}async acquireTokenInteractive(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace(\"acquireTokenInteractive called\",r);let{openBrowser:n,successTemplate:i,errorTemplate:o,windowHandle:s,loopbackClient:a,...A}=e;if(this.nativeBrokerPlugin){let g={...A,clientId:this.config.auth.clientId,scopes:e.scopes||lr,redirectUri:e.redirectUri||\"\",authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...A.extraQueryParameters,...A.tokenQueryParameters,[bA.X_CLIENT_EXTRA_SKU]:this.skus},accountId:A.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(g,s)}if(e.redirectUri){if(!this.config.broker.nativeBrokerPlugin)throw dr.createRedirectUriNotSupportedError();e.redirectUri=\"\"}let{verifier:c,challenge:l}=await this.cryptoProvider.generatePkceCodes(),u=a||new sy,d={},h=null;try{let g=u.listenForAuthCode(i,o).then(T=>{d=T}).catch(T=>{h=T}),p=await this.waitForRedirectUri(u),f={...A,correlationId:r,scopes:e.scopes||lr,redirectUri:p,responseMode:Li.QUERY,codeChallenge:l,codeChallengeMethod:UC.S256},C=await this.getAuthCodeUrl(f);if(await n(C),await g,h)throw h;if(d.error)throw new vr(d.error,d.error_description,d.suberror);if(!d.code)throw dr.createNoAuthCodeInResponseError();let m=d.client_info,B={code:d.code,codeVerifier:c,clientInfo:m||b.EMPTY_STRING,...f};return await this.acquireTokenByCode(B)}finally{u.closeServer()}}async acquireTokenSilent(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace(\"acquireTokenSilent called\",r),this.nativeBrokerPlugin){let n={...e,clientId:this.config.auth.clientId,scopes:e.scopes||lr,redirectUri:e.redirectUri||\"\",authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...e.tokenQueryParameters,[bA.X_CLIENT_EXTRA_SKU]:this.skus},accountId:e.account.nativeAccountId,forceRefresh:e.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(n)}if(e.redirectUri){if(!this.config.broker.nativeBrokerPlugin)throw dr.createRedirectUriNotSupportedError();e.redirectUri=\"\"}return super.acquireTokenSilent(e)}async signOut(e){if(this.nativeBrokerPlugin&&e.account.nativeAccountId){let r={clientId:this.config.auth.clientId,accountId:e.account.nativeAccountId,correlationId:e.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(r)}await this.getTokenCache().removeAccount(e.account,e.correlationId)}async getAllAccounts(){if(this.nativeBrokerPlugin){let e=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,e)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(e){return new Promise((r,n)=>{let i=0,o=setInterval(()=>{if(fm.TIMEOUT_MS/fm.INTERVAL_MS<i){clearInterval(o),n(dr.createLoopbackServerTimeoutError());return}try{let s=e.getRedirectUri();clearInterval(o),r(s);return}catch(s){if(s instanceof fe&&s.errorCode===_t.noLoopbackServerExists.code){i++;return}clearInterval(o),n(s);return}},fm.INTERVAL_MS)})}};var Ys=class extends ir{constructor(e,r){super(e),this.appTokenProvider=r}async acquireToken(e){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[r,n]=await this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);return r?(n===tt.PROACTIVELY_REFRESHED&&(this.logger.info(\"ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.\"),await this.executeTokenRequest(e,this.authority,!0)),r):this.executeTokenRequest(e,this.authority)}async getCachedAuthenticationResult(e,r,n,i,o,s){let a=r,A=r,c=tt.NOT_APPLICABLE,l;a.serializableCache&&a.persistencePlugin&&(l=new Sn(a.serializableCache,!1),await a.persistencePlugin.beforeCacheAccess(l));let u=this.readAccessTokenFromCache(i,A.managedIdentityId?.id||a.authOptions.clientId,new Ot(e.scopes||[]),o,e.correlationId);return a.serializableCache&&a.persistencePlugin&&l&&await a.persistencePlugin.afterCacheAccess(l),u?lt.isTokenExpired(u.expiresOn,a.systemOptions?.tokenRenewalOffsetSeconds||Tl)?(s?.setCacheOutcome(tt.CACHED_ACCESS_TOKEN_EXPIRED),[null,tt.CACHED_ACCESS_TOKEN_EXPIRED]):(u.refreshOn&&lt.isTokenExpired(u.refreshOn.toString(),0)&&(c=tt.PROACTIVELY_REFRESHED,s?.setCacheOutcome(tt.PROACTIVELY_REFRESHED)),[await Pt.generateAuthenticationResult(n,i,{account:null,idToken:null,accessToken:u,refreshToken:null,appMetadata:null},!0,e),c]):(s?.setCacheOutcome(tt.NO_CACHED_ACCESS_TOKEN),[null,tt.NO_CACHED_ACCESS_TOKEN])}readAccessTokenFromCache(e,r,n,i,o){let s={homeAccountId:b.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:Ke.ACCESS_TOKEN,clientId:r,realm:e.tenant,target:Ot.createSearchScopes(n.asArray())},a=i.getAccessTokensByFilter(s,o);if(a.length<1)return null;if(a.length>1)throw D(We.multipleMatchingTokens);return a[0]}async executeTokenRequest(e,r,n){let i,o;if(this.appTokenProvider){this.logger.info(\"Using appTokenProvider extensibility.\");let A={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};o=lt.nowSeconds();let c=await this.appTokenProvider(A);i={access_token:c.accessToken,expires_in:c.expiresInSeconds,refresh_in:c.refreshInSeconds,token_type:Te.BEARER}}else{let A=this.createTokenQueryParameters(e),c=Re.appendQueryString(r.tokenEndpoint,A),l=await this.createTokenRequestBody(e),u=this.createTokenRequestHeaders(),d={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info(\"Sending token request to endpoint: \"+r.tokenEndpoint),o=lt.nowSeconds();let h=await this.executePostToTokenEndpoint(c,l,u,d,e.correlationId);i=h.body,i.status=h.status}let s=new Pt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(i,n),await s.handleServerTokenResponse(i,this.authority,o,e)}async createTokenRequestBody(e){let r=new Map;J.addClientId(r,this.config.authOptions.clientId),J.addScopes(r,e.scopes,!1),J.addGrantType(r,$r.CLIENT_CREDENTIALS_GRANT),J.addLibraryInfo(r,this.config.libraryInfo),J.addApplicationTelemetry(r,this.config.telemetry.application),J.addThrottling(r),this.serverTelemetryManager&&J.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();J.addCorrelationId(r,n),this.config.clientCredentials.clientSecret&&J.addClientSecret(r,this.config.clientCredentials.clientSecret);let i=e.clientAssertion||this.config.clientCredentials.clientAssertion;return i&&(J.addClientAssertion(r,await Nr(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),J.addClientAssertionType(r,i.assertionType)),(!je.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&J.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),nr.mapToQueryString(r)}};var Xl=class extends ir{constructor(e){super(e)}async acquireToken(e){if(this.scopeSet=new Ot(e.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(e)}catch{return await this.executeTokenRequest(e,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(e){let r=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(r){if(lt.isTokenExpired(r.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(tt.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),D(We.tokenRefreshRequired)}else throw this.serverTelemetryManager?.setCacheOutcome(tt.NO_CACHED_ACCESS_TOKEN),this.logger.info(\"SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties.\"),D(We.tokenRefreshRequired);let n=this.readIdTokenFromCacheForOBO(r.homeAccountId,e.correlationId),i,o=null;if(n){i=YC.extractTokenClaims(n.secret,Tn.base64Decode);let s=i.oid||i.sub,a={homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:b.EMPTY_STRING,localAccountId:s||b.EMPTY_STRING};o=this.cacheManager.getAccount(this.cacheManager.generateAccountKey(a),e.correlationId)}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),Pt.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:o,accessToken:r,idToken:n,refreshToken:null,appMetadata:null},!0,e,i)}readIdTokenFromCacheForOBO(e,r){let n={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:Ke.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},i=this.cacheManager.getIdTokensByFilter(n,r);return Object.values(i).length<1?null:Object.values(i)[0]}readAccessTokenFromCacheForOBO(e,r){let n=r.authenticationScheme||Te.BEARER,o={credentialType:n&&n.toLowerCase()!==Te.BEARER.toLowerCase()?Ke.ACCESS_TOKEN_WITH_AUTH_SCHEME:Ke.ACCESS_TOKEN,clientId:e,target:Ot.createSearchScopes(this.scopeSet.asArray()),tokenType:n,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash,userAssertionHash:this.userAssertionHash},s=this.cacheManager.getAccessTokensByFilter(o,r.correlationId),a=s.length;if(a<1)return null;if(a>1)throw D(We.multipleMatchingTokens);return s[0]}async executeTokenRequest(e,r,n){let i=this.createTokenQueryParameters(e),o=Re.appendQueryString(r.tokenEndpoint,i),s=await this.createTokenRequestBody(e),a=this.createTokenRequestHeaders(),A={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},c=lt.nowSeconds(),l=await this.executePostToTokenEndpoint(o,s,a,A,e.correlationId),u=new Pt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return u.validateTokenResponse(l.body),await u.handleServerTokenResponse(l.body,this.authority,c,e,void 0,n)}async createTokenRequestBody(e){let r=new Map;J.addClientId(r,this.config.authOptions.clientId),J.addScopes(r,e.scopes),J.addGrantType(r,$r.JWT_BEARER),J.addClientInfo(r),J.addLibraryInfo(r,this.config.libraryInfo),J.addApplicationTelemetry(r,this.config.telemetry.application),J.addThrottling(r),this.serverTelemetryManager&&J.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();J.addCorrelationId(r,n),J.addRequestTokenUse(r,bA.ON_BEHALF_OF),J.addOboAssertion(r,e.oboAssertion),this.config.clientCredentials.clientSecret&&J.addClientSecret(r,this.config.clientCredentials.clientSecret);let i=this.config.clientCredentials.clientAssertion;return i&&(J.addClientAssertion(r,await Nr(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),J.addClientAssertionType(r,i.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&J.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),nr.mapToQueryString(r)}};var Zl=class extends Gs{constructor(e){super(e);let r=!!this.config.auth.clientSecret,n=!!this.config.auth.clientAssertion,i=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(!this.appTokenProvider){if(r&&n||n&&i||r&&i)throw D(We.invalidClientCredential);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(i)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?Fo.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):Fo.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw D(We.invalidClientCredential);this.appTokenProvider=void 0}}SetAppTokenProvider(e){this.appTokenProvider=e}async acquireTokenByClientCredential(e){this.logger.info(\"acquireTokenByClientCredential called\",e.correlationId);let r;e.clientAssertion&&(r={assertion:await Nr(e.clientAssertion,this.config.auth.clientId),assertionType:Pr.JWT_BEARER_ASSERTION_TYPE});let n=await this.initializeBaseRequest(e),i={...n,scopes:n.scopes.filter(d=>!lr.includes(d))},o={...e,...i,clientAssertion:r},a=new Re(o.authority).getUrlComponents().PathSegments[0];if(Object.values(jr).includes(a))throw D(We.missingTenantIdError);let A=process.env[sO],c;o.azureRegion!==\"DisableMsalForceRegion\"&&(!o.azureRegion&&A?c=A:c=o.azureRegion);let l={azureRegion:c,environmentRegion:process.env[oO]},u=this.initializeServerTelemetryManager(Mo.acquireTokenByClientCredential,o.correlationId,o.skipCache);try{let d=await this.createAuthority(o.authority,o.correlationId,l,e.azureCloudOptions),h=await this.buildOauthClientConfiguration(d,o.correlationId,\"\",u),g=new Ys(h,this.appTokenProvider);return this.logger.verbose(\"Client credential client created\",o.correlationId),await g.acquireToken(o)}catch(d){throw d instanceof fe&&d.setCorrelationId(o.correlationId),u.cacheFailedRequest(d),d}}async acquireTokenOnBehalfOf(e){this.logger.info(\"acquireTokenOnBehalfOf called\",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)};try{let n=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),i=await this.buildOauthClientConfiguration(n,r.correlationId,\"\",void 0),o=new Xl(i);return this.logger.verbose(\"On behalf of client created\",r.correlationId),await o.acquireToken(r)}catch(n){throw n instanceof fe&&n.setCorrelationId(r.correlationId),n}}};function n2(t){if(typeof t!=\"string\")return!1;let e=new Date(t);return!isNaN(e.getTime())&&e.toISOString()===t}var ay=class{constructor(e,r,n){this.httpClientNoRetries=e,this.retryPolicy=r,this.logger=n}async sendNetworkRequestAsyncHelper(e,r,n){return e===ut.GET?this.httpClientNoRetries.sendGetRequestAsync(r,n):this.httpClientNoRetries.sendPostRequestAsync(r,n)}async sendNetworkRequestAsync(e,r,n){let i=await this.sendNetworkRequestAsyncHelper(e,r,n);\"isNewRequest\"in this.retryPolicy&&(this.retryPolicy.isNewRequest=!0);let o=0;for(;await this.retryPolicy.pauseForRetry(i.status,o,this.logger,i.headers[it.RETRY_AFTER]);)i=await this.sendNetworkRequestAsyncHelper(e,r,n),o++;return i}async sendGetRequestAsync(e,r){return this.sendNetworkRequestAsync(ut.GET,e,r)}async sendPostRequestAsync(e,r){return this.sendNetworkRequestAsync(ut.POST,e,r)}};var HA={MANAGED_IDENTITY_CLIENT_ID_2017:\"clientid\",MANAGED_IDENTITY_CLIENT_ID:\"client_id\",MANAGED_IDENTITY_OBJECT_ID:\"object_id\",MANAGED_IDENTITY_RESOURCE_ID_IMDS:\"msi_res_id\",MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS:\"mi_res_id\"},Lr=class{constructor(e,r,n,i,o){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=i,this.disableInternalRetries=o}async getServerTokenResponseAsync(e,r,n,i){return this.getServerTokenResponse(e)}getServerTokenResponse(e){let r,n;return e.body.expires_on&&(n2(e.body.expires_on)&&(e.body.expires_on=new Date(e.body.expires_on).getTime()/1e3),n=e.body.expires_on-lt.nowSeconds(),n>2*3600&&(r=n/2)),{status:e.status,access_token:e.body.access_token,expires_in:n,scope:e.body.resource,token_type:e.body.token_type,refresh_in:r,correlation_id:e.body.correlation_id||e.body.correlationId,error:typeof e.body.error==\"string\"?e.body.error:e.body.error?.code,error_description:e.body.message||(typeof e.body.error==\"string\"?e.body.error_description:e.body.error?.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}async acquireTokenWithManagedIdentity(e,r,n,i){let o=this.createRequest(e.resource,r);if(e.revokedTokenSha256Hash&&(this.logger.info(`[Managed Identity] The following claims are present in the request: ${e.claims}`),o.queryParameters[Ut.SHA256_TOKEN_TO_REFRESH]=e.revokedTokenSha256Hash),e.clientCapabilities?.length){let h=e.clientCapabilities.toString();this.logger.info(`[Managed Identity] The following client capabilities are present in the request: ${h}`),o.queryParameters[Ut.XMS_CC]=h}let s=o.headers;s[it.CONTENT_TYPE]=b.URL_FORM_CONTENT_TYPE;let a={headers:s};Object.keys(o.bodyParameters).length&&(a.body=o.computeParametersBodyString());let A=this.disableInternalRetries?this.networkClient:new ay(this.networkClient,o.retryPolicy,this.logger),c=lt.nowSeconds(),l;try{o.httpMethod===ut.POST?l=await A.sendPostRequestAsync(o.computeUri(),a):l=await A.sendGetRequestAsync(o.computeUri(),a)}catch(h){throw h instanceof fe?h:D(We.networkError)}let u=new Pt(r.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),d=await this.getServerTokenResponseAsync(l,A,o,a);return u.validateTokenResponse(d,i),u.handleServerTokenResponse(d,n,c,e)}getManagedIdentityUserAssignedIdQueryParameterKey(e,r,n){switch(e){case Qt.USER_ASSIGNED_CLIENT_ID:return this.logger.info(`[Managed Identity] [API version ${n?\"2017+\":\"2019+\"}] Adding user assigned client id to the request.`),n?HA.MANAGED_IDENTITY_CLIENT_ID_2017:HA.MANAGED_IDENTITY_CLIENT_ID;case Qt.USER_ASSIGNED_RESOURCE_ID:return this.logger.info(\"[Managed Identity] Adding user assigned resource id to the request.\"),r?HA.MANAGED_IDENTITY_RESOURCE_ID_IMDS:HA.MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS;case Qt.USER_ASSIGNED_OBJECT_ID:return this.logger.info(\"[Managed Identity] Adding user assigned object id to the request.\"),HA.MANAGED_IDENTITY_OBJECT_ID;default:throw Mt(Os)}}};Lr.getValidatedEnvVariableUrlString=(t,e,r,n)=>{try{return new Re(e).urlString}catch{throw n.info(`[Managed Identity] ${r} managed identity is unavailable because the '${t}' environment variable is malformed.`),Mt(OA[t])}};var Ay=class{calculateDelay(e,r){if(!e)return r;let n=Math.round(parseFloat(e)*1e3);return isNaN(n)&&(n=new Date(e).valueOf()-new Date().valueOf()),Math.max(r,n)}};var gne=3,fne=1e3,pne=[ge.NOT_FOUND,ge.REQUEST_TIMEOUT,ge.TOO_MANY_REQUESTS,ge.SERVER_ERROR,ge.SERVICE_UNAVAILABLE,ge.GATEWAY_TIMEOUT],cy=class t{constructor(){this.linearRetryStrategy=new Ay}static get DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS(){return fne}async pauseForRetry(e,r,n,i){if(pne.includes(e)&&r<gne){let o=this.linearRetryStrategy.calculateDelay(i,t.DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS);return n.verbose(`Retrying request in ${o}ms (retry attempt: ${r+1})`),await new Promise(s=>setTimeout(s,o)),!0}return!1}};var en=class{constructor(e,r,n){this.httpMethod=e,this._baseEndpoint=r,this.headers={},this.bodyParameters={},this.queryParameters={},this.retryPolicy=n||new cy}computeUri(){let e=new Map;this.queryParameters&&J.addExtraQueryParameters(e,this.queryParameters);let r=nr.mapToQueryString(e);return Re.appendQueryString(this._baseEndpoint,r)}computeParametersBodyString(){let e=new Map;return this.bodyParameters&&J.addExtraQueryParameters(e,this.bodyParameters),nr.mapToQueryString(e)}};var Ene=\"2019-08-01\",gg=class t extends Lr{constructor(e,r,n,i,o,s,a){super(e,r,n,i,o),this.identityEndpoint=s,this.identityHeader=a}static getEnvironmentVariables(){let e=process.env[oe.IDENTITY_ENDPOINT],r=process.env[oe.IDENTITY_HEADER];return[e,r]}static tryCreate(e,r,n,i,o){let[s,a]=t.getEnvironmentVariables();if(!s||!a)return e.info(`[Managed Identity] ${ce.APP_SERVICE} managed identity is unavailable because one or both of the '${oe.IDENTITY_HEADER}' and '${oe.IDENTITY_ENDPOINT}' environment variables are not defined.`),null;let A=t.getValidatedEnvVariableUrlString(oe.IDENTITY_ENDPOINT,s,ce.APP_SERVICE,e);return e.info(`[Managed Identity] Environment variables validation passed for ${ce.APP_SERVICE} managed identity. Endpoint URI: ${A}. Creating ${ce.APP_SERVICE} managed identity.`),new t(e,r,n,i,o,s,a)}createRequest(e,r){let n=new en(ut.GET,this.identityEndpoint);return n.headers[Xr.APP_SERVICE_SECRET_HEADER_NAME]=this.identityHeader,n.queryParameters[Ut.API_VERSION]=Ene,n.queryParameters[Ut.RESOURCE]=e,r.idType!==Qt.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};var Lo=require(\"fs\"),a2=Ae(require(\"path\"),1);var Cne=\"2019-11-01\",i2=\"http://127.0.0.1:40342/metadata/identity/oauth2/token\",o2=\"N/A: himds executable exists\",s2={win32:`${process.env.ProgramData}\\\\AzureConnectedMachineAgent\\\\Tokens\\\\`,linux:\"/var/opt/azcmagent/tokens/\"},mne={win32:`${process.env.ProgramFiles}\\\\AzureConnectedMachineAgent\\\\himds.exe`,linux:\"/opt/azcmagent/bin/himds\"},fg=class t extends Lr{constructor(e,r,n,i,o,s){super(e,r,n,i,o),this.identityEndpoint=s}static getEnvironmentVariables(){let e=process.env[oe.IDENTITY_ENDPOINT],r=process.env[oe.IMDS_ENDPOINT];if(!e||!r){let n=mne[process.platform];try{(0,Lo.accessSync)(n,Lo.constants.F_OK|Lo.constants.R_OK),e=i2,r=o2}catch{}}return[e,r]}static tryCreate(e,r,n,i,o,s){let[a,A]=t.getEnvironmentVariables();if(!a||!A)return e.info(`[Managed Identity] ${ce.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${oe.IDENTITY_ENDPOINT}' and '${oe.IMDS_ENDPOINT}' are not defined. ${ce.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(A===o2)e.info(`[Managed Identity] ${ce.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${ce.AZURE_ARC} endpoint: ${i2}. Creating ${ce.AZURE_ARC} managed identity.`);else{let c=t.getValidatedEnvVariableUrlString(oe.IDENTITY_ENDPOINT,a,ce.AZURE_ARC,e);c.endsWith(\"/\")&&c.slice(0,-1),t.getValidatedEnvVariableUrlString(oe.IMDS_ENDPOINT,A,ce.AZURE_ARC,e),e.info(`[Managed Identity] Environment variables validation passed for ${ce.AZURE_ARC} managed identity. Endpoint URI: ${c}. Creating ${ce.AZURE_ARC} managed identity.`)}if(s.idType!==Qt.SYSTEM_ASSIGNED)throw Mt(Im);return new t(e,r,n,i,o,a)}createRequest(e){let r=new en(ut.GET,this.identityEndpoint.replace(\"localhost\",\"127.0.0.1\"));return r.headers[Xr.METADATA_HEADER_NAME]=\"true\",r.queryParameters[Ut.API_VERSION]=Cne,r.queryParameters[Ut.RESOURCE]=e,r}async getServerTokenResponseAsync(e,r,n,i){let o;if(e.status===ge.UNAUTHORIZED){let s=e.headers[\"www-authenticate\"];if(!s)throw Mt(wm);if(!s.includes(\"Basic realm=\"))throw Mt(Rm);let a=s.split(\"Basic realm=\")[1];if(!s2.hasOwnProperty(process.platform))throw Mt(ym);let A=s2[process.platform],c=a2.default.basename(a);if(!c.endsWith(\".key\"))throw Mt(Em);if(A+c!==a)throw Mt(Cm);let l;try{l=await(0,Lo.statSync)(a).size}catch{throw Mt(tg)}if(l>cO)throw Mt(mm);let u;try{u=(0,Lo.readFileSync)(a,rr.UTF8)}catch{throw Mt(tg)}let d=`Basic ${u}`;this.logger.info(\"[Managed Identity] Adding authorization header to the request.\"),n.headers[Xr.AUTHORIZATION_HEADER_NAME]=d;try{o=await r.sendGetRequestAsync(n.computeUri(),i)}catch(h){throw h instanceof fe?h:D(We.networkError)}}return this.getServerTokenResponse(o||e)}};var pg=class t extends Lr{constructor(e,r,n,i,o,s){super(e,r,n,i,o),this.msiEndpoint=s}static getEnvironmentVariables(){return[process.env[oe.MSI_ENDPOINT]]}static tryCreate(e,r,n,i,o,s){let[a]=t.getEnvironmentVariables();if(!a)return e.info(`[Managed Identity] ${ce.CLOUD_SHELL} managed identity is unavailable because the '${oe.MSI_ENDPOINT} environment variable is not defined.`),null;let A=t.getValidatedEnvVariableUrlString(oe.MSI_ENDPOINT,a,ce.CLOUD_SHELL,e);if(e.info(`[Managed Identity] Environment variable validation passed for ${ce.CLOUD_SHELL} managed identity. Endpoint URI: ${A}. Creating ${ce.CLOUD_SHELL} managed identity.`),s.idType!==Qt.SYSTEM_ASSIGNED)throw Mt(Bm);return new t(e,r,n,i,o,a)}createRequest(e){let r=new en(ut.POST,this.msiEndpoint);return r.headers[Xr.METADATA_HEADER_NAME]=\"true\",r.bodyParameters[Ut.RESOURCE]=e,r}};var ly=class{constructor(e,r,n){this.minExponentialBackoff=e,this.maxExponentialBackoff=r,this.exponentialDeltaBackoff=n}calculateDelay(e){return e===0?this.minExponentialBackoff:Math.min(Math.pow(2,e-1)*this.exponentialDeltaBackoff,this.maxExponentialBackoff)}};var yne=[ge.NOT_FOUND,ge.REQUEST_TIMEOUT,ge.GONE,ge.TOO_MANY_REQUESTS],Ine=3,Bne=7,Qne=1e3,wne=4e3,Rne=2e3,Sne=10*1e3,uy=class t{constructor(){this.exponentialRetryStrategy=new ly(t.MIN_EXPONENTIAL_BACKOFF_MS,t.MAX_EXPONENTIAL_BACKOFF_MS,t.EXPONENTIAL_DELTA_BACKOFF_MS)}static get MIN_EXPONENTIAL_BACKOFF_MS(){return Qne}static get MAX_EXPONENTIAL_BACKOFF_MS(){return wne}static get EXPONENTIAL_DELTA_BACKOFF_MS(){return Rne}static get HTTP_STATUS_GONE_RETRY_AFTER_MS(){return Sne}set isNewRequest(e){this._isNewRequest=e}async pauseForRetry(e,r,n){if(this._isNewRequest&&(this._isNewRequest=!1,this.maxRetries=e===ge.GONE?Bne:Ine),(yne.includes(e)||e>=ge.SERVER_ERROR_RANGE_START&&e<=ge.SERVER_ERROR_RANGE_END&&r<this.maxRetries)&&r<this.maxRetries){let i=e===ge.GONE?t.HTTP_STATUS_GONE_RETRY_AFTER_MS:this.exponentialRetryStrategy.calculateDelay(r);return n.verbose(`Retrying request in ${i}ms (retry attempt: ${r+1})`),await new Promise(o=>setTimeout(o,i)),!0}return!1}};var A2=\"/metadata/identity/oauth2/token\",Tne=`http://169.254.169.254${A2}`,bne=\"2018-02-01\",dy=class t extends Lr{constructor(e,r,n,i,o,s){super(e,r,n,i,o),this.identityEndpoint=s}static tryCreate(e,r,n,i,o){let s;return process.env[oe.AZURE_POD_IDENTITY_AUTHORITY_HOST]?(e.info(`[Managed Identity] Environment variable ${oe.AZURE_POD_IDENTITY_AUTHORITY_HOST} for ${ce.IMDS} returned endpoint: ${process.env[oe.AZURE_POD_IDENTITY_AUTHORITY_HOST]}`),s=t.getValidatedEnvVariableUrlString(oe.AZURE_POD_IDENTITY_AUTHORITY_HOST,`${process.env[oe.AZURE_POD_IDENTITY_AUTHORITY_HOST]}${A2}`,ce.IMDS,e)):(e.info(`[Managed Identity] Unable to find ${oe.AZURE_POD_IDENTITY_AUTHORITY_HOST} environment variable for ${ce.IMDS}, using the default endpoint.`),s=Tne),new t(e,r,n,i,o,s)}createRequest(e,r){let n=new en(ut.GET,this.identityEndpoint);return n.headers[Xr.METADATA_HEADER_NAME]=\"true\",n.queryParameters[Ut.API_VERSION]=bne,n.queryParameters[Ut.RESOURCE]=e,r.idType!==Qt.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType,!0)]=r.id),n.retryPolicy=new uy,n}};var kne=\"2019-07-01-preview\",Eg=class t extends Lr{constructor(e,r,n,i,o,s,a){super(e,r,n,i,o),this.identityEndpoint=s,this.identityHeader=a}static getEnvironmentVariables(){let e=process.env[oe.IDENTITY_ENDPOINT],r=process.env[oe.IDENTITY_HEADER],n=process.env[oe.IDENTITY_SERVER_THUMBPRINT];return[e,r,n]}static tryCreate(e,r,n,i,o,s){let[a,A,c]=t.getEnvironmentVariables();if(!a||!A||!c)return e.info(`[Managed Identity] ${ce.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${oe.IDENTITY_HEADER}', '${oe.IDENTITY_ENDPOINT}' or '${oe.IDENTITY_SERVER_THUMBPRINT}' environment variables are not defined.`),null;let l=t.getValidatedEnvVariableUrlString(oe.IDENTITY_ENDPOINT,a,ce.SERVICE_FABRIC,e);return e.info(`[Managed Identity] Environment variables validation passed for ${ce.SERVICE_FABRIC} managed identity. Endpoint URI: ${l}. Creating ${ce.SERVICE_FABRIC} managed identity.`),s.idType!==Qt.SYSTEM_ASSIGNED&&e.warning(`[Managed Identity] ${ce.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`),new t(e,r,n,i,o,a,A)}createRequest(e,r){let n=new en(ut.GET,this.identityEndpoint);return n.headers[Xr.ML_AND_SF_SECRET_HEADER_NAME]=this.identityHeader,n.queryParameters[Ut.API_VERSION]=kne,n.queryParameters[Ut.RESOURCE]=e,r.idType!==Qt.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};var Dne=\"2017-09-01\",xne=`Only client id is supported for user-assigned managed identity in ${ce.MACHINE_LEARNING}.`,Cg=class t extends Lr{constructor(e,r,n,i,o,s,a){super(e,r,n,i,o),this.msiEndpoint=s,this.secret=a}static getEnvironmentVariables(){let e=process.env[oe.MSI_ENDPOINT],r=process.env[oe.MSI_SECRET];return[e,r]}static tryCreate(e,r,n,i,o){let[s,a]=t.getEnvironmentVariables();if(!s||!a)return e.info(`[Managed Identity] ${ce.MACHINE_LEARNING} managed identity is unavailable because one or both of the '${oe.MSI_ENDPOINT}' and '${oe.MSI_SECRET}' environment variables are not defined.`),null;let A=t.getValidatedEnvVariableUrlString(oe.MSI_ENDPOINT,s,ce.MACHINE_LEARNING,e);return e.info(`[Managed Identity] Environment variables validation passed for ${ce.MACHINE_LEARNING} managed identity. Endpoint URI: ${A}. Creating ${ce.MACHINE_LEARNING} managed identity.`),new t(e,r,n,i,o,s,a)}createRequest(e,r){let n=new en(ut.GET,this.msiEndpoint);if(n.headers[Xr.METADATA_HEADER_NAME]=\"true\",n.headers[Xr.ML_AND_SF_SECRET_HEADER_NAME]=this.secret,n.queryParameters[Ut.API_VERSION]=Dne,n.queryParameters[Ut.RESOURCE]=e,r.idType===Qt.SYSTEM_ASSIGNED)n.queryParameters[HA.MANAGED_IDENTITY_CLIENT_ID_2017]=process.env[oe.DEFAULT_IDENTITY_CLIENT_ID];else if(r.idType===Qt.USER_ASSIGNED_CLIENT_ID)n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType,!1,!0)]=r.id;else throw new Error(xne);return n}};var mg=class t{constructor(e,r,n,i,o){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=i,this.disableInternalRetries=o}async sendManagedIdentityTokenRequest(e,r,n,i){return t.identitySource||(t.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,this.disableInternalRetries,r)),t.identitySource.acquireTokenWithManagedIdentity(e,r,n,i)}allEnvironmentVariablesAreDefined(e){return Object.values(e).every(r=>r!==void 0)}getManagedIdentitySource(){return t.sourceName=this.allEnvironmentVariablesAreDefined(Eg.getEnvironmentVariables())?ce.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(gg.getEnvironmentVariables())?ce.APP_SERVICE:this.allEnvironmentVariablesAreDefined(Cg.getEnvironmentVariables())?ce.MACHINE_LEARNING:this.allEnvironmentVariablesAreDefined(pg.getEnvironmentVariables())?ce.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(fg.getEnvironmentVariables())?ce.AZURE_ARC:ce.DEFAULT_TO_IMDS,t.sourceName}selectManagedIdentitySource(e,r,n,i,o,s){let a=Eg.tryCreate(e,r,n,i,o,s)||gg.tryCreate(e,r,n,i,o)||Cg.tryCreate(e,r,n,i,o)||pg.tryCreate(e,r,n,i,o,s)||fg.tryCreate(e,r,n,i,o,s)||dy.tryCreate(e,r,n,i,o);if(!a)throw Mt(Qm);return a}};var vne=[ce.SERVICE_FABRIC],eu=class t{constructor(e){this.config=EO(e||{}),this.logger=new Bn(this.config.system.loggerOptions,oy,di);let r={canonicalAuthority:b.DEFAULT_AUTHORITY};t.nodeStorage||(t.nodeStorage=new _s(this.logger,this.config.managedIdentityId.id,kl,r)),this.networkClient=this.config.system.networkClient,this.cryptoProvider=new Gi;let n={protocolMode:ur.AAD,knownAuthorities:[LS],cloudDiscoveryMetadata:\"\",authorityMetadata:\"\"};this.fakeAuthority=new li(LS,this.networkClient,t.nodeStorage,n,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new Ys({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new mg(this.logger,t.nodeStorage,this.networkClient,this.cryptoProvider,this.config.disableInternalRetries),this.hashUtils=new Us}async acquireToken(e){if(!e.resource)throw ze(xl.urlEmptyError);let r={forceRefresh:e.forceRefresh,resource:e.resource.replace(\"/.default\",\"\"),scopes:[e.resource.replace(\"/.default\",\"\")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid(),claims:e.claims,clientCapabilities:this.config.clientCapabilities};if(r.forceRefresh)return this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority);let[n,i]=await this.fakeClientCredentialClient.getCachedAuthenticationResult(r,this.config,this.cryptoProvider,this.fakeAuthority,t.nodeStorage);if(r.claims){let o=this.managedIdentityClient.getManagedIdentitySource();if(n&&vne.includes(o)){let s=this.hashUtils.sha256(n.accessToken).toString(rr.HEX);r.revokedTokenSha256Hash=s}return this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority)}return n?(i===tt.PROACTIVELY_REFRESHED&&(this.logger.info(\"ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.\"),await this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority,!0)),n):this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority)}async acquireTokenFromManagedIdentity(e,r,n,i){return this.managedIdentityClient.sendManagedIdentityTokenRequest(e,r,n,i)}getManagedIdentitySource(){return mg.sourceName||this.managedIdentityClient.getManagedIdentitySource()}};var hy=class{constructor(e,r){this.client=e,this.partitionManager=r}async beforeCacheAccess(e){let r=await this.partitionManager.getKey(),n=await this.client.get(r);e.tokenCache.deserialize(n)}async afterCacheAccess(e){if(e.cacheHasChanged){let r=e.tokenCache.getKVStore(),n=Object.values(r).filter(o=>wn.isAccountEntity(o)),i;if(n.length>0){let o=n[0];i=await this.partitionManager.extractKey(o)}else i=await this.partitionManager.getKey();await this.client.set(i,e.tokenCache.serialize())}}};var yg=class extends Error{constructor(e){super(e),this.name=\"AbortError\"}};var Ig=le(\"IdentityUtils\"),c2=\"1.0\";function qA(t,e,r){let n=i=>(Ig.getToken.info(i),new Yn({scopes:Array.isArray(t)?t:[t],getTokenOptions:r,message:i}));if(!e)throw n(\"No response\");if(!e.expiresOn)throw n('Response had no \"expiresOn\" property.');if(!e.accessToken)throw n('Response had no \"accessToken\" property.')}function xT(t){let e=t?.authorityHost;return!e&&nc&&(e=process.env.AZURE_AUTHORITY_HOST),e??zd}function vT(t,e){return e||(e=zd),new RegExp(`${t}/?$`).test(e)?e:e.endsWith(\"/\")?e+t:`${e}/${t}`}function l2(t,e,r){return t===\"adfs\"&&e||r?[e]:[]}var gy=(t,e=$g?\"Node\":\"Browser\")=>(r,n,i)=>{if(!i)switch(r){case bn.LogLevel.Error:t.info(`MSAL ${e} V2 error: ${n}`);return;case bn.LogLevel.Info:t.info(`MSAL ${e} V2 info message: ${n}`);return;case bn.LogLevel.Verbose:t.info(`MSAL ${e} V2 verbose message: ${n}`);return;case bn.LogLevel.Warning:t.info(`MSAL ${e} V2 warning: ${n}`);return}};function fy(t){switch(t){case\"error\":return bn.LogLevel.Error;case\"info\":return bn.LogLevel.Info;case\"verbose\":return bn.LogLevel.Verbose;case\"warning\":return bn.LogLevel.Warning;default:return bn.LogLevel.Info}}function GA(t,e,r){if(e.name===\"AuthError\"||e.name===\"ClientAuthError\"||e.name===\"BrowserAuthError\"){let n=e;switch(n.errorCode){case\"endpoints_resolution_error\":return Ig.info(Se(t,e.message)),new $(e.message);case\"device_code_polling_cancelled\":return new yg(\"The authentication has been aborted by the caller.\");case\"consent_required\":case\"interaction_required\":case\"login_required\":Ig.info(Se(t,`Authentication returned errorCode ${n.errorCode}`));break;default:Ig.info(Se(t,`Failed to acquire token: ${e.message}`));break}}return e.name===\"ClientConfigurationError\"||e.name===\"BrowserConfigurationAuthError\"||e.name===\"AbortError\"||e.name===\"AuthenticationError\"?e:e.name===\"NativeAuthError\"?(Ig.info(Se(t,`Error from the native broker: ${e.message} with status code: ${e.statusCode}`)),e):new Yn({scopes:t,getTokenOptions:r,message:e.message})}function u2(t){return{localAccountId:t.homeAccountId,environment:t.authority,username:t.username,homeAccountId:t.homeAccountId,tenantId:t.tenantId}}function d2(t,e){return{authority:e.environment??BL,homeAccountId:e.homeAccountId,tenantId:e.tenantId||IL,username:e.username,clientId:t,version:c2}}function NT(t){let e=JSON.parse(t);if(e.version&&e.version!==c2)throw Error(\"Unsupported AuthenticationRecord version\");return e}function Pne(t,e){return e!==\"Composite\"&&e!==\"Dictionary\"&&(typeof t==\"string\"||typeof t==\"number\"||typeof t==\"boolean\"||e?.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i)!==null||t===void 0||t===null)}function Mne(t){let e={...t.headers,...t.body};return t.hasNullableType&&Object.getOwnPropertyNames(e).length===0?t.shouldWrapBody?{body:null}:null:t.shouldWrapBody?{...t.headers,body:t.body}:e}function PT(t,e){let r=t.parsedHeaders;if(t.request.method===\"HEAD\")return{...r,body:t.parsedBody};let n=e&&e.bodyMapper,i=!!n?.nullable,o=n?.type.name;if(o===\"Stream\")return{...r,blobBody:t.blobBody,readableStreamBody:t.readableStreamBody};let s=o===\"Composite\"&&n.type.modelProperties||{},a=Object.keys(s).some(A=>s[A].serializedName===\"\");if(o===\"Sequence\"||a){let A=t.parsedBody??[];for(let c of Object.keys(s))s[c].serializedName&&(A[c]=t.parsedBody?.[c]);if(r)for(let c of Object.keys(r))A[c]=r[c];return i&&!t.parsedBody&&!r&&Object.getOwnPropertyNames(s).length===0?null:A}return Mne({body:t.parsedBody,headers:r,hasNullableType:i,shouldWrapBody:Pne(t.parsedBody,o)})}var Ji={Base64Url:\"Base64Url\",Boolean:\"Boolean\",ByteArray:\"ByteArray\",Composite:\"Composite\",Date:\"Date\",DateTime:\"DateTime\",DateTimeRfc1123:\"DateTimeRfc1123\",Dictionary:\"Dictionary\",Enum:\"Enum\",Number:\"Number\",Object:\"Object\",Sequence:\"Sequence\",String:\"String\",Stream:\"Stream\",TimeSpan:\"TimeSpan\",UnixTime:\"UnixTime\"};var g2=Ae(h2(),1),MT=g2.state;function Vs(t,e,r){let n=e.parameterPath,i=e.mapper,o;if(typeof n==\"string\"&&(n=[n]),Array.isArray(n)){if(n.length>0)if(i.isConstant)o=i.defaultValue;else{let s=f2(t,n);!s.propertyFound&&r&&(s=f2(r,n));let a=!1;s.propertyFound||(a=i.required||n[0]===\"options\"&&n.length===2),o=a?i.defaultValue:s.propertyValue}}else{i.required&&(o={});for(let s in n){let a=i.type.modelProperties[s],A=n[s],c=Vs(t,{parameterPath:A,mapper:a},r);c!==void 0&&(o||(o={}),o[s]=c)}}return o}function f2(t,e){let r={propertyFound:!1},n=0;for(;n<e.length;++n){let i=e[n];if(t&&i in t)t=t[i];else break}return n===e.length&&(r.propertyValue=t,r.propertyFound=!0),r}var p2=Symbol.for(\"@azure/core-client original request\");function Fne(t){return p2 in t}function Oo(t){if(Fne(t))return Oo(t[p2]);let e=MT.operationRequestMap.get(t);return e||(e={},MT.operationRequestMap.set(t,e)),e}var Lne=[\"application/json\",\"text/json\"],One=[\"application/xml\",\"application/atom+xml\"],E2=\"deserializationPolicy\";function FT(t={}){let e=t.expectedContentTypes?.json??Lne,r=t.expectedContentTypes?.xml??One,n=t.parseXML,i=t.serializerOptions,o={xml:{rootName:i?.xml.rootName??\"\",includeRoot:i?.xml.includeRoot??!1,xmlCharKey:i?.xml.xmlCharKey??\"_\"}};return{name:E2,async sendRequest(s,a){let A=await a(s);return Hne(e,r,A,o,n)}}}function Une(t){let e,r=t.request,n=Oo(r),i=n?.operationSpec;return i&&(n?.operationResponseGetter?e=n?.operationResponseGetter(i,t):e=i.responses[t.status]),e}function _ne(t){let e=t.request,n=Oo(e)?.shouldDeserialize,i;return n===void 0?i=!0:typeof n==\"boolean\"?i=n:i=n(t),i}async function Hne(t,e,r,n,i){let o=await Yne(t,e,r,n,i);if(!_ne(o))return o;let a=Oo(o.request)?.operationSpec;if(!a||!a.responses)return o;let A=Une(o),{error:c,shouldReturnResponse:l}=Gne(o,a,A,n);if(c)throw c;if(l)return o;if(A){if(A.bodyMapper){let u=o.parsedBody;a.isXML&&A.bodyMapper.type.name===Ji.Sequence&&(u=typeof u==\"object\"?u[A.bodyMapper.xmlElementName]:[]);try{o.parsedBody=a.serializer.deserialize(A.bodyMapper,u,\"operationRes.parsedBody\",n)}catch(d){throw new is(`Error ${d} occurred in deserializing the responseBody - ${o.bodyAsText}`,{statusCode:o.status,request:o.request,response:o})}}else a.httpMethod===\"HEAD\"&&(o.parsedBody=r.status>=200&&r.status<300);A.headersMapper&&(o.parsedHeaders=a.serializer.deserialize(A.headersMapper,o.headers.toJSON(),\"operationRes.parsedHeaders\",{xml:{},ignoreUnknownProperties:!0}))}return o}function qne(t){let e=Object.keys(t.responses);return e.length===0||e.length===1&&e[0]===\"default\"}function Gne(t,e,r,n){let i=200<=t.status&&t.status<300;if(qne(e)?i:!!r)if(r){if(!r.isError)return{error:null,shouldReturnResponse:!1}}else return{error:null,shouldReturnResponse:!1};let s=r??e.responses.default,a=t.request.streamResponseStatusCodes?.has(t.status)?`Unexpected status code: ${t.status}`:t.bodyAsText,A=new is(a,{statusCode:t.status,request:t.request,response:t});if(!s&&!(t.parsedBody?.error?.code&&t.parsedBody?.error?.message))throw A;let c=s?.bodyMapper,l=s?.headersMapper;try{if(t.parsedBody){let u=t.parsedBody,d;if(c){let g=u;if(e.isXML&&c.type.name===Ji.Sequence){g=[];let p=c.xmlElementName;typeof u==\"object\"&&p&&(g=u[p])}d=e.serializer.deserialize(c,g,\"error.response.parsedBody\",n)}let h=u.error||d||u;A.code=h.code,h.message&&(A.message=h.message),c&&(A.response.parsedBody=d)}t.headers&&l&&(A.response.parsedHeaders=e.serializer.deserialize(l,t.headers.toJSON(),\"operationRes.parsedHeaders\"))}catch(u){A.message=`Error \"${u.message}\" occurred in deserializing the responseBody - \"${t.bodyAsText}\" for the default response.`}return{error:A,shouldReturnResponse:!1}}async function Yne(t,e,r,n,i){if(!r.request.streamResponseStatusCodes?.has(r.status)&&r.bodyAsText){let o=r.bodyAsText,s=r.headers.get(\"Content-Type\")||\"\",a=s?s.split(\";\").map(A=>A.toLowerCase()):[];try{if(a.length===0||a.some(A=>t.indexOf(A)!==-1))return r.parsedBody=JSON.parse(o),r;if(a.some(A=>e.indexOf(A)!==-1)){if(!i)throw new Error(\"Parsing XML not supported.\");let A=await i(o,n.xml);return r.parsedBody=A,r}}catch(A){let c=`Error \"${A}\" occurred while parsing the response body - ${r.bodyAsText}.`,l=A.code||is.PARSE_ERROR;throw new is(c,{code:l,statusCode:r.status,request:r.request,response:r})}}return r}function C2(t){let e=new Set;for(let r in t.responses){let n=t.responses[r];n.bodyMapper&&n.bodyMapper.type.name===Ji.Stream&&e.add(Number(r))}return e}function Ki(t){let{parameterPath:e,mapper:r}=t,n;return typeof e==\"string\"?n=e:Array.isArray(e)?n=e.join(\".\"):n=r.serializedName,n}var m2=\"serializationPolicy\";function LT(t={}){let e=t.stringifyXML;return{name:m2,async sendRequest(r,n){let i=Oo(r),o=i?.operationSpec,s=i?.operationArguments;return o&&s&&(Vne(r,s,o),Jne(r,s,o,e)),n(r)}}}function Vne(t,e,r){if(r.headerParameters)for(let i of r.headerParameters){let o=Vs(e,i);if(o!=null||i.mapper.required){o=r.serializer.serialize(i.mapper,o,Ki(i));let s=i.mapper.headerCollectionPrefix;if(s)for(let a of Object.keys(o))t.headers.set(s+a,o[a]);else t.headers.set(i.mapper.serializedName||Ki(i),o)}}let n=e.options?.requestOptions?.customHeaders;if(n)for(let i of Object.keys(n))t.headers.set(i,n[i])}function Jne(t,e,r,n=function(){throw new Error(\"XML serialization unsupported!\")}){let i=e.options?.serializerOptions,o={xml:{rootName:i?.xml.rootName??\"\",includeRoot:i?.xml.includeRoot??!1,xmlCharKey:i?.xml.xmlCharKey??\"_\"}},s=o.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){t.body=Vs(e,r.requestBody);let a=r.requestBody.mapper,{required:A,serializedName:c,xmlName:l,xmlElementName:u,xmlNamespace:d,xmlNamespacePrefix:h,nullable:g}=a,p=a.type.name;try{if(t.body!==void 0&&t.body!==null||g&&t.body===null||A){let f=Ki(r.requestBody);t.body=r.serializer.serialize(a,t.body,f,o);let C=p===Ji.Stream;if(r.isXML){let m=h?`xmlns:${h}`:\"xmlns\",B=Kne(d,m,p,t.body,o);p===Ji.Sequence?t.body=n(Wne(B,u||l||c,m,d),{rootName:l||c,xmlCharKey:s}):C||(t.body=n(B,{rootName:l||c,xmlCharKey:s}))}else{if(p===Ji.String&&(r.contentType?.match(\"text/plain\")||r.mediaType===\"text\"))return;C||(t.body=JSON.stringify(t.body))}}}catch(f){throw new Error(`Error \"${f.message}\" occurred in serializing the payload - ${JSON.stringify(c,void 0,\"  \")}.`)}}else if(r.formDataParameters&&r.formDataParameters.length>0){t.formData={};for(let a of r.formDataParameters){let A=Vs(e,a);if(A!=null){let c=a.mapper.serializedName||Ki(a);t.formData[c]=r.serializer.serialize(a.mapper,A,Ki(a),o)}}}}function Kne(t,e,r,n,i){if(t&&![\"Composite\",\"Sequence\",\"Dictionary\"].includes(r)){let o={};return o[i.xml.xmlCharKey]=n,o[\"$\"]={[e]:t},o}return n}function Wne(t,e,r,n){if(Array.isArray(t)||(t=[t]),!r||!n)return{[e]:t};let i={[e]:t};return i[\"$\"]={[r]:n},i}function OT(t={}){let e=Rp(t??{});return t.credentialOptions&&e.addPolicy(ba({credential:t.credentialOptions.credential,scopes:t.credentialOptions.credentialScopes})),e.addPolicy(LT(t.serializationOptions),{phase:\"Serialize\"}),e.addPolicy(FT(t.deserializationOptions),{phase:\"Deserialize\"}),e}var UT;function y2(){return UT||(UT=Nc()),UT}var zne={CSV:\",\",SSV:\" \",Multi:\"Multi\",TSV:\"\t\",Pipes:\"|\"};function B2(t,e,r,n){let i=jne(e,r,n),o=!1,s=I2(t,i);if(e.path){let c=I2(e.path,i);e.path===\"/{nextLink}\"&&c.startsWith(\"/\")&&(c=c.substring(1)),$ne(c)?(s=c,o=!0):s=Xne(s,c)}let{queryParams:a,sequenceParams:A}=Zne(e,r,n);return s=tie(s,a,A,o),s}function I2(t,e){let r=t;for(let[n,i]of e)r=r.split(n).join(i);return r}function jne(t,e,r){let n=new Map;if(t.urlParameters?.length)for(let i of t.urlParameters){let o=Vs(e,i,r),s=Ki(i);o=t.serializer.serialize(i.mapper,o,s),i.skipEncoding||(o=encodeURIComponent(o)),n.set(`{${i.mapper.serializedName||s}}`,o)}return n}function $ne(t){return t.includes(\"://\")}function Xne(t,e){if(!e)return t;let r=new URL(t),n=r.pathname;n.endsWith(\"/\")||(n=`${n}/`),e.startsWith(\"/\")&&(e=e.substring(1));let i=e.indexOf(\"?\");if(i!==-1){let o=e.substring(0,i),s=e.substring(i+1);n=n+o,s&&(r.search=r.search?`${r.search}&${s}`:s)}else n=n+e;return r.pathname=n,r.toString()}function Zne(t,e,r){let n=new Map,i=new Set;if(t.queryParameters?.length)for(let o of t.queryParameters){o.mapper.type.name===\"Sequence\"&&o.mapper.serializedName&&i.add(o.mapper.serializedName);let s=Vs(e,o,r);if(s!=null||o.mapper.required){s=t.serializer.serialize(o.mapper,s,Ki(o));let a=o.collectionFormat?zne[o.collectionFormat]:\"\";if(Array.isArray(s)&&(s=s.map(A=>A??\"\")),o.collectionFormat===\"Multi\"&&s.length===0)continue;Array.isArray(s)&&(o.collectionFormat===\"SSV\"||o.collectionFormat===\"TSV\")&&(s=s.join(a)),o.skipEncoding||(Array.isArray(s)?s=s.map(A=>encodeURIComponent(A)):s=encodeURIComponent(s)),Array.isArray(s)&&(o.collectionFormat===\"CSV\"||o.collectionFormat===\"Pipes\")&&(s=s.join(a)),n.set(o.mapper.serializedName||Ki(o),s)}}return{queryParams:n,sequenceParams:i}}function eie(t){let e=new Map;if(!t||t[0]!==\"?\")return e;t=t.slice(1);let r=t.split(\"&\");for(let n of r){let[i,o]=n.split(\"=\",2),s=e.get(i);s?Array.isArray(s)?s.push(o):e.set(i,[s,o]):e.set(i,o)}return e}function tie(t,e,r,n=!1){if(e.size===0)return t;let i=new URL(t),o=eie(i.search);for(let[a,A]of e){let c=o.get(a);if(Array.isArray(c))if(Array.isArray(A)){c.push(...A);let l=new Set(c);o.set(a,Array.from(l))}else c.push(A);else c?(Array.isArray(A)?A.unshift(c):r.has(a)&&o.set(a,[c,A]),n||o.set(a,A)):o.set(a,A)}let s=[];for(let[a,A]of o)if(typeof A==\"string\")s.push(`${a}=${A}`);else if(Array.isArray(A))for(let c of A)s.push(`${a}=${c}`);else s.push(`${a}=${A}`);return i.search=s.length?`?${s.join(\"&\")}`:\"\",i.toString()}var _T=ve(\"core-client\");var Qg=class{_endpoint;_requestContentType;_allowInsecureConnection;_httpClient;pipeline;constructor(e={}){if(this._requestContentType=e.requestContentType,this._endpoint=e.endpoint??e.baseUri,e.baseUri&&_T.warning(\"The baseUri option for SDK Clients has been deprecated, please use endpoint instead.\"),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||y2(),this.pipeline=e.pipeline||rie(e),e.additionalPolicies?.length)for(let{policy:r,position:n}of e.additionalPolicies){let i=n===\"perRetry\"?\"Sign\":void 0;this.pipeline.addPolicy(r,{afterPhase:i})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,r){let n=r.baseUrl||this._endpoint;if(!n)throw new Error(\"If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.\");let i=B2(n,r,e,this),o=An({url:i});o.method=r.httpMethod;let s=Oo(o);s.operationSpec=r,s.operationArguments=e;let a=r.contentType||this._requestContentType;a&&r.requestBody&&o.headers.set(\"Content-Type\",a);let A=e.options;if(A){let c=A.requestOptions;c&&(c.timeout&&(o.timeout=c.timeout),c.onUploadProgress&&(o.onUploadProgress=c.onUploadProgress),c.onDownloadProgress&&(o.onDownloadProgress=c.onDownloadProgress),c.shouldDeserialize!==void 0&&(s.shouldDeserialize=c.shouldDeserialize),c.allowInsecureConnection&&(o.allowInsecureConnection=!0)),A.abortSignal&&(o.abortSignal=A.abortSignal),A.tracingOptions&&(o.tracingOptions=A.tracingOptions)}this._allowInsecureConnection&&(o.allowInsecureConnection=!0),o.streamResponseStatusCodes===void 0&&(o.streamResponseStatusCodes=C2(r));try{let c=await this.sendRequest(o),l=PT(c,r.responses[c.status]);return A?.onResponse&&A.onResponse(c,l),l}catch(c){if(typeof c==\"object\"&&c?.response){let l=c.response,u=PT(l,r.responses[c.statusCode]||r.responses.default);c.details=u,A?.onResponse&&A.onResponse(l,u,c)}throw c}}};function rie(t){let e=nie(t),r=t.credential&&e?{credentialScopes:e,credential:t.credential}:void 0;return OT({...t,credentialOptions:r})}function nie(t){if(t.credentialScopes)return t.credentialScopes;if(t.endpoint)return`${t.endpoint}/.default`;if(t.baseUri)return`${t.baseUri}/.default`;if(t.credential&&!t.credentialScopes)throw new Error(\"When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy\")}function Q2(t){return t===\"adfs\"?\"oauth2/token\":\"oauth2/v2.0/token\"}var w2=\"/.default\",R2=\"Specifying a `clientId` or `resourceId` is not supported by the Service Fabric managed identity environment. The managed identity configuration is determined by the Service Fabric cluster resource configuration. See https://aka.ms/servicefabricmi for more information\";function wg(t){let e=\"\";if(Array.isArray(t)){if(t.length!==1)return;e=t[0]}else typeof t==\"string\"&&(e=t);return e.endsWith(w2)?e.substr(0,e.lastIndexOf(w2)):e}function S2(t){if(typeof t.expires_on==\"number\")return t.expires_on*1e3;if(typeof t.expires_on==\"string\"){let e=+t.expires_on;if(!isNaN(e))return e*1e3;let r=Date.parse(t.expires_on);if(!isNaN(r))return r}if(typeof t.expires_in==\"number\")return Date.now()+t.expires_in*1e3;throw new Error(`Failed to parse token expiration from body. expires_in=\"${t.expires_in}\", expires_on=\"${t.expires_on}\"`)}function T2(t){if(t.refresh_on){if(typeof t.refresh_on==\"number\")return t.refresh_on*1e3;if(typeof t.refresh_on==\"string\"){let e=+t.refresh_on;if(!isNaN(e))return e*1e3;let r=Date.parse(t.refresh_on);if(!isNaN(r))return r}throw new Error(`Failed to parse refresh_on from body. refresh_on=\"${t.refresh_on}\"`)}else return}var Rg=\"noCorrelationId\";function iie(t){let e=t?.authorityHost;return $g&&(e=e??process.env.AZURE_AUTHORITY_HOST),e??zd}var Js=class extends Qg{authorityHost;allowLoggingAccountIdentifiers;abortControllers;allowInsecureConnection=!1;tokenCredentialOptions;constructor(e){let r=`azsdk-js-identity/${MC}`,n=e?.userAgentOptions?.userAgentPrefix?`${e.userAgentOptions.userAgentPrefix} ${r}`:`${r}`,i=iie(e);if(!i.startsWith(\"https:\"))throw new Error(\"The authorityHost address must use the 'https' protocol.\");super({requestContentType:\"application/json; charset=utf-8\",retryOptions:{maxRetries:3},...e,userAgentOptions:{userAgentPrefix:n},baseUri:i}),this.authorityHost=i,this.abortControllers=new Map,this.allowLoggingAccountIdentifiers=e?.loggingOptions?.allowLoggingAccountIdentifiers,this.tokenCredentialOptions={...e},e?.allowInsecureConnection&&(this.allowInsecureConnection=e.allowInsecureConnection)}async sendTokenRequest(e){In.info(`IdentityClient: sending token request to [${e.url}]`);let r=await this.sendRequest(e);if(r.bodyAsText&&(r.status===200||r.status===201)){let n=JSON.parse(r.bodyAsText);if(!n.access_token)return null;this.logIdentifiers(r);let i={accessToken:{token:n.access_token,expiresOnTimestamp:S2(n),refreshAfterTimestamp:T2(n),tokenType:\"Bearer\"},refreshToken:n.refresh_token};return In.info(`IdentityClient: [${e.url}] token acquired, expires on ${i.accessToken.expiresOnTimestamp}`),i}else{let n=new Is(r.status,r.bodyAsText);throw In.warning(`IdentityClient: authentication error. HTTP status: ${r.status}, ${n.errorResponse.errorDescription}`),n}}async refreshAccessToken(e,r,n,i,o,s={}){if(i===void 0)return null;In.info(`IdentityClient: refreshing access token with client ID: ${r}, scopes: ${n} started`);let a={grant_type:\"refresh_token\",client_id:r,refresh_token:i,scope:n};o!==void 0&&(a.client_secret=o);let A=new URLSearchParams(a);return Ue.withSpan(\"IdentityClient.refreshAccessToken\",s,async c=>{try{let l=Q2(e),u=An({url:`${this.authorityHost}/${e}/${l}`,method:\"POST\",body:A.toString(),abortSignal:s.abortSignal,headers:Bi({Accept:\"application/json\",\"Content-Type\":\"application/x-www-form-urlencoded\"}),tracingOptions:c.tracingOptions}),d=await this.sendTokenRequest(u);return In.info(`IdentityClient: refreshed token for client ID: ${r}`),d}catch(l){if(l.name===LC&&l.errorResponse.error===\"interaction_required\")return In.info(`IdentityClient: interaction required for client ID: ${r}`),null;throw In.warning(`IdentityClient: failed refreshing token for client ID: ${r}: ${l}`),l}})}generateAbortSignal(e){let r=new AbortController,n=this.abortControllers.get(e)||[];n.push(r),this.abortControllers.set(e,n);let i=r.signal.onabort;return r.signal.onabort=(...o)=>{this.abortControllers.set(e,void 0),i&&i.apply(r.signal,o)},r.signal}abortRequests(e){let r=e||Rg,n=[...this.abortControllers.get(r)||[],...this.abortControllers.get(Rg)||[]];if(n.length){for(let i of n)i.abort();this.abortControllers.set(r,void 0)}}getCorrelationId(e){let r=e?.body?.split(\"&\").map(n=>n.split(\"=\")).find(([n])=>n===\"client-request-id\");return r&&r.length&&r[1]||Rg}async sendGetRequestAsync(e,r){let n=An({url:e,method:\"GET\",body:r?.body,allowInsecureConnection:this.allowInsecureConnection,headers:Bi(r?.headers),abortSignal:this.generateAbortSignal(Rg)}),i=await this.sendRequest(n);return this.logIdentifiers(i),{body:i.bodyAsText?JSON.parse(i.bodyAsText):void 0,headers:i.headers.toJSON(),status:i.status}}async sendPostRequestAsync(e,r){let n=An({url:e,method:\"POST\",body:r?.body,headers:Bi(r?.headers),allowInsecureConnection:this.allowInsecureConnection,abortSignal:this.generateAbortSignal(this.getCorrelationId(r))}),i=await this.sendRequest(n);return this.logIdentifiers(i),{body:i.bodyAsText?JSON.parse(i.bodyAsText):void 0,headers:i.headers.toJSON(),status:i.status}}getTokenCredentialOptions(){return this.tokenCredentialOptions}logIdentifiers(e){if(!this.allowLoggingAccountIdentifiers||!e.bodyAsText)return;let r=\"No User Principal Name available\";try{let i=(e.parsedBody||JSON.parse(e.bodyAsText)).access_token;if(!i)return;let o=i.split(\".\")[1],{appid:s,upn:a,tid:A,oid:c}=JSON.parse(Buffer.from(o,\"base64\").toString(\"utf8\"));In.info(`[Authenticated account] Client ID: ${s}. Tenant ID: ${A}. User Principal Name: ${a||r}. Object ID (user): ${c}`)}catch(n){In.warning(\"allowLoggingAccountIdentifiers was set, but we couldn't log the account information. Error:\",n.message)}}};var HT;(function(t){t.AutoDiscoverRegion=\"AutoDiscoverRegion\",t.USWest=\"westus\",t.USWest2=\"westus2\",t.USCentral=\"centralus\",t.USEast=\"eastus\",t.USEast2=\"eastus2\",t.USNorthCentral=\"northcentralus\",t.USSouthCentral=\"southcentralus\",t.USWestCentral=\"westcentralus\",t.CanadaCentral=\"canadacentral\",t.CanadaEast=\"canadaeast\",t.BrazilSouth=\"brazilsouth\",t.EuropeNorth=\"northeurope\",t.EuropeWest=\"westeurope\",t.UKSouth=\"uksouth\",t.UKWest=\"ukwest\",t.FranceCentral=\"francecentral\",t.FranceSouth=\"francesouth\",t.SwitzerlandNorth=\"switzerlandnorth\",t.SwitzerlandWest=\"switzerlandwest\",t.GermanyNorth=\"germanynorth\",t.GermanyWestCentral=\"germanywestcentral\",t.NorwayWest=\"norwaywest\",t.NorwayEast=\"norwayeast\",t.AsiaEast=\"eastasia\",t.AsiaSouthEast=\"southeastasia\",t.JapanEast=\"japaneast\",t.JapanWest=\"japanwest\",t.AustraliaEast=\"australiaeast\",t.AustraliaSouthEast=\"australiasoutheast\",t.AustraliaCentral=\"australiacentral\",t.AustraliaCentral2=\"australiacentral2\",t.IndiaCentral=\"centralindia\",t.IndiaSouth=\"southindia\",t.IndiaWest=\"westindia\",t.KoreaSouth=\"koreasouth\",t.KoreaCentral=\"koreacentral\",t.UAECentral=\"uaecentral\",t.UAENorth=\"uaenorth\",t.SouthAfricaNorth=\"southafricanorth\",t.SouthAfricaWest=\"southafricawest\",t.ChinaNorth=\"chinanorth\",t.ChinaEast=\"chinaeast\",t.ChinaNorth2=\"chinanorth2\",t.ChinaEast2=\"chinaeast2\",t.GermanyCentral=\"germanycentral\",t.GermanyNorthEast=\"germanynortheast\",t.GovernmentUSVirginia=\"usgovvirginia\",t.GovernmentUSIowa=\"usgoviowa\",t.GovernmentUSArizona=\"usgovarizona\",t.GovernmentUSTexas=\"usgovtexas\",t.GovernmentUSDodEast=\"usdodeast\",t.GovernmentUSDodCentral=\"usdodcentral\"})(HT||(HT={}));function Cy(t){let e=t;return e===void 0&&globalThis.process?.env?.AZURE_REGIONAL_AUTHORITY_NAME!==void 0&&(e=process.env.AZURE_REGIONAL_AUTHORITY_NAME),e===HT.AutoDiscoverRegion?\"AUTO_DISCOVER\":e}function oie(t){return`The current credential is not configured to acquire tokens for tenant ${t}. To enable acquiring tokens for this tenant add it to the AdditionallyAllowedTenants on the credential options, or add \"*\" to AdditionallyAllowedTenants to allow acquiring tokens for any tenant.`}function wt(t,e,r=[],n){let i;if(process.env.AZURE_IDENTITY_DISABLE_MULTITENANTAUTH||t===\"adfs\"?i=t:i=e?.tenantId??t,t&&i!==t&&!r.includes(\"*\")&&!r.some(o=>o.localeCompare(i)===0)){let o=oie(i);throw n?.info(o),new $(o)}return i}function Wt(t,e){if(!e.match(/^[0-9a-zA-Z-.]+$/)){let r=new Error(\"Invalid tenant id provided. You can locate your tenant id by following the instructions listed here: https://learn.microsoft.com/partner-center/find-ids-and-domain-names.\");throw t.info(Se(\"\",r)),r}}function tu(t,e,r){return e?(Wt(t,e),e):(r||(r=$a),r!==$a?\"common\":\"organizations\")}function kt(t){return!t||t.length===0?[]:t.includes(\"*\")?QL:t}var Or=le(\"MsalClient\");function Qie(t,e,r={}){let n=tu(r.logger??Or,e,t),i=vT(n,xT(r)),o=new Js({...r.tokenCredentialOptions,authorityHost:i,loggingOptions:r.loggingOptions});return{auth:{clientId:t,authority:i,knownAuthorities:l2(n,i,r.disableInstanceDiscovery)},system:{networkClient:o,loggerOptions:{loggerCallback:gy(r.logger??Or),logLevel:fy(Kg()),piiLoggingEnabled:r.loggingOptions?.enableUnsafeSupportLogging}}}}function gr(t,e,r={}){let n={msalConfig:Qie(t,e,r),cachedAccount:r.authenticationRecord?u2(r.authenticationRecord):null,pluginConfiguration:DL.generatePluginConfiguration(r),logger:r.logger??Or},i=new Map;async function o(R={}){let S=R.enableCae?\"CAE\":\"default\",I=i.get(S);if(I)return n.logger.getToken.info(\"Existing PublicClientApplication found in cache, returning it.\"),I;n.logger.getToken.info(`Creating new PublicClientApplication with CAE ${R.enableCae?\"enabled\":\"disabled\"}.`);let x=R.enableCae?n.pluginConfiguration.cache.cachePluginCae:n.pluginConfiguration.cache.cachePlugin;return n.msalConfig.auth.clientCapabilities=R.enableCae?[\"cp1\"]:void 0,I=new $l({...n.msalConfig,broker:{nativeBrokerPlugin:n.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await x}}),i.set(S,I),I}let s=new Map;async function a(R={}){let S=R.enableCae?\"CAE\":\"default\",I=s.get(S);if(I)return n.logger.getToken.info(\"Existing ConfidentialClientApplication found in cache, returning it.\"),I;n.logger.getToken.info(`Creating new ConfidentialClientApplication with CAE ${R.enableCae?\"enabled\":\"disabled\"}.`);let x=R.enableCae?n.pluginConfiguration.cache.cachePluginCae:n.pluginConfiguration.cache.cachePlugin;return n.msalConfig.auth.clientCapabilities=R.enableCae?[\"cp1\"]:void 0,I=new Zl({...n.msalConfig,broker:{nativeBrokerPlugin:n.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await x}}),s.set(S,I),I}async function A(R,S,I={}){if(n.cachedAccount===null)throw n.logger.getToken.info(\"No cached account found in local state.\"),new Yn({scopes:S});I.claims&&(n.cachedClaims=I.claims);let x={account:n.cachedAccount,scopes:S,claims:n.cachedClaims};n.pluginConfiguration.broker.isEnabled&&(x.tokenQueryParameters||={},n.pluginConfiguration.broker.enableMsaPassthrough&&(x.tokenQueryParameters.msal_request_type=\"consumer_passthrough\")),I.proofOfPossessionOptions&&(x.shrNonce=I.proofOfPossessionOptions.nonce,x.authenticationScheme=\"pop\",x.resourceRequestMethod=I.proofOfPossessionOptions.resourceRequestMethod,x.resourceRequestUri=I.proofOfPossessionOptions.resourceRequestUrl),n.logger.getToken.info(\"Attempting to acquire token silently\");try{return await R.acquireTokenSilent(x)}catch(k){throw GA(S,k,I)}}function c(R){return R?.tenantId?vT(R.tenantId,xT(r)):n.msalConfig.auth.authority}async function l(R,S,I,x){let k=null;try{k=await A(R,S,I)}catch(P){if(P.name!==\"AuthenticationRequiredError\")throw P;if(I.disableAutomaticAuthentication)throw new Yn({scopes:S,getTokenOptions:I,message:\"Automatic authentication has been disabled. You may call the authentication() method.\"})}if(k===null)try{k=await x()}catch(P){throw GA(S,P,I)}return qA(S,k,I),n.cachedAccount=k?.account??null,n.logger.getToken.info(qt(S)),{token:k.accessToken,expiresOnTimestamp:k.expiresOn.getTime(),refreshAfterTimestamp:k.refreshOn?.getTime(),tokenType:k.tokenType}}async function u(R,S,I={}){n.logger.getToken.info(\"Attempting to acquire token using client secret\"),n.msalConfig.auth.clientSecret=S;let x=await a(I);try{let k=await x.acquireTokenByClientCredential({scopes:R,authority:c(I),azureRegion:Cy(),claims:I?.claims});return qA(R,k,I),n.logger.getToken.info(qt(R)),{token:k.accessToken,expiresOnTimestamp:k.expiresOn.getTime(),refreshAfterTimestamp:k.refreshOn?.getTime(),tokenType:k.tokenType}}catch(k){throw GA(R,k,I)}}async function d(R,S,I={}){n.logger.getToken.info(\"Attempting to acquire token using client assertion\"),n.msalConfig.auth.clientAssertion=S;let x=await a(I);try{let k=await x.acquireTokenByClientCredential({scopes:R,authority:c(I),azureRegion:Cy(),claims:I?.claims,clientAssertion:S});return qA(R,k,I),n.logger.getToken.info(qt(R)),{token:k.accessToken,expiresOnTimestamp:k.expiresOn.getTime(),refreshAfterTimestamp:k.refreshOn?.getTime(),tokenType:k.tokenType}}catch(k){throw GA(R,k,I)}}async function h(R,S,I={}){n.logger.getToken.info(\"Attempting to acquire token using client certificate\"),n.msalConfig.auth.clientCertificate=S;let x=await a(I);try{let k=await x.acquireTokenByClientCredential({scopes:R,authority:c(I),azureRegion:Cy(),claims:I?.claims});return qA(R,k,I),n.logger.getToken.info(qt(R)),{token:k.accessToken,expiresOnTimestamp:k.expiresOn.getTime(),refreshAfterTimestamp:k.refreshOn?.getTime(),tokenType:k.tokenType}}catch(k){throw GA(R,k,I)}}async function g(R,S,I={}){n.logger.getToken.info(\"Attempting to acquire token using device code\");let x=await o(I);return l(x,R,I,()=>{let k={scopes:R,cancel:I?.abortSignal?.aborted??!1,deviceCodeCallback:S,authority:c(I),claims:I?.claims},P=x.acquireTokenByDeviceCode(k);return I.abortSignal&&I.abortSignal.addEventListener(\"abort\",()=>{k.cancel=!0}),P})}async function p(R,S,I,x={}){n.logger.getToken.info(\"Attempting to acquire token using username and password\");let k=await o(x);return l(k,R,x,()=>{let P={scopes:R,username:S,password:I,authority:c(x),claims:x?.claims};return k.acquireTokenByUsernamePassword(P)})}function f(){if(n.cachedAccount)return d2(t,n.cachedAccount)}async function C(R,S,I,x,k={}){n.logger.getToken.info(\"Attempting to acquire token using authorization code\");let P;return x?(n.msalConfig.auth.clientSecret=x,P=await a(k)):P=await o(k),l(P,R,k,()=>P.acquireTokenByCode({scopes:R,redirectUri:S,code:I,authority:c(k),claims:k?.claims}))}async function m(R,S,I,x={}){Or.getToken.info(\"Attempting to acquire token on behalf of another user\"),typeof I==\"string\"?(Or.getToken.info(\"Using client secret for on behalf of flow\"),n.msalConfig.auth.clientSecret=I):typeof I==\"function\"?(Or.getToken.info(\"Using client assertion callback for on behalf of flow\"),n.msalConfig.auth.clientAssertion=I):(Or.getToken.info(\"Using client certificate for on behalf of flow\"),n.msalConfig.auth.clientCertificate=I);let k=await a(x);try{let P=await k.acquireTokenOnBehalfOf({scopes:R,authority:c(x),claims:x.claims,oboAssertion:S});return qA(R,P,x),Or.getToken.info(qt(R)),{token:P.accessToken,expiresOnTimestamp:P.expiresOn.getTime(),refreshAfterTimestamp:P.refreshOn?.getTime(),tokenType:P.tokenType}}catch(P){throw GA(R,P,x)}}function B(R,S){return{openBrowser:async I=>{await(await Promise.resolve().then(()=>(nq(),rq))).default(I,{newInstance:!0})},scopes:R,authority:c(S),claims:S?.claims,loginHint:S?.loginHint,errorTemplate:S?.browserCustomizationOptions?.errorMessage,successTemplate:S?.browserCustomizationOptions?.successMessage,prompt:S?.loginHint?\"login\":\"select_account\"}}async function T(R,S,I={}){Or.verbose(\"Authentication will resume through the broker\");let x=await o(I),k=B(R,I);n.pluginConfiguration.broker.parentWindowHandle?k.windowHandle=Buffer.from(n.pluginConfiguration.broker.parentWindowHandle):Or.warning(\"Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle.\"),n.pluginConfiguration.broker.enableMsaPassthrough&&((k.tokenQueryParameters??={}).msal_request_type=\"consumer_passthrough\"),S?(k.prompt=\"none\",Or.verbose(\"Attempting broker authentication using the default broker account\")):Or.verbose(\"Attempting broker authentication without the default broker account\"),I.proofOfPossessionOptions&&(k.shrNonce=I.proofOfPossessionOptions.nonce,k.authenticationScheme=\"pop\",k.resourceRequestMethod=I.proofOfPossessionOptions.resourceRequestMethod,k.resourceRequestUri=I.proofOfPossessionOptions.resourceRequestUrl);try{return await x.acquireTokenInteractive(k)}catch(P){if(Or.verbose(`Failed to authenticate through the broker: ${P.message}`),I.disableAutomaticAuthentication)throw new Yn({scopes:R,getTokenOptions:I,message:\"Cannot silently authenticate with default broker account.\"});if(S)return T(R,!1,I);throw P}}async function L(R,S,I={}){Or.getToken.info(`Attempting to acquire token using brokered authentication with useDefaultBrokerAccount: ${S}`);let x=await T(R,S,I);return qA(R,x,I),n.cachedAccount=x?.account??null,n.logger.getToken.info(qt(R)),{token:x.accessToken,expiresOnTimestamp:x.expiresOn.getTime(),refreshAfterTimestamp:x.refreshOn?.getTime(),tokenType:x.tokenType}}async function F(R,S={}){Or.getToken.info(\"Attempting to acquire token interactively\");let I=await o(S);return l(I,R,S,async()=>{let x=B(R,S);return n.pluginConfiguration.broker.isEnabled?T(R,n.pluginConfiguration.broker.useDefaultBrokerAccount??!1,S):(S.proofOfPossessionOptions&&(x.shrNonce=S.proofOfPossessionOptions.nonce,x.authenticationScheme=\"pop\",x.resourceRequestMethod=S.proofOfPossessionOptions.resourceRequestMethod,x.resourceRequestUri=S.proofOfPossessionOptions.resourceRequestUrl),I.acquireTokenInteractive(x))})}return{getActiveAccount:f,getBrokeredToken:L,getTokenByClientSecret:u,getTokenByClientAssertion:d,getTokenByClientCertificate:h,getTokenByDeviceCode:g,getTokenByUsernamePassword:p,getTokenByAuthorizationCode:C,getTokenOnBehalfOf:m,getTokenByInteractiveRequest:F}}var kg=require(\"node:crypto\");var oq=require(\"node:fs/promises\");var bg=\"ClientCertificateCredential\",iq=le(bg),Dg=class{tenantId;additionallyAllowedTenantIds;certificateConfiguration;sendCertificateChain;msalClient;constructor(e,r,n,i={}){if(!e||!r)throw new Error(`${bg}: tenantId and clientId are required parameters.`);this.tenantId=e,this.additionallyAllowedTenantIds=kt(i?.additionallyAllowedTenants),this.sendCertificateChain=i.sendCertificateChain,this.certificateConfiguration={...typeof n==\"string\"?{certificatePath:n}:n};let o=this.certificateConfiguration.certificate,s=this.certificateConfiguration.certificatePath;if(!this.certificateConfiguration||!(o||s))throw new Error(`${bg}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(o&&s)throw new Error(`${bg}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalClient=gr(r,e,{...i,logger:iq,tokenCredentialOptions:i})}async getToken(e,r={}){return Ue.withSpan(`${bg}.getToken`,r,async n=>{n.tenantId=wt(this.tenantId,n,this.additionallyAllowedTenantIds,iq);let i=Array.isArray(e)?e:[e],o=await this.buildClientCertificate();return this.msalClient.getTokenByClientCertificate(i,o,n)})}async buildClientCertificate(){let e=await wie(this.certificateConfiguration,this.sendCertificateChain??!1),r;return this.certificateConfiguration.certificatePassword!==void 0?r=(0,kg.createPrivateKey)({key:e.certificateContents,passphrase:this.certificateConfiguration.certificatePassword,format:\"pem\"}).export({format:\"pem\",type:\"pkcs8\"}).toString():r=e.certificateContents,{thumbprint:e.thumbprint,thumbprintSha256:e.thumbprintSha256,privateKey:r,x5c:e.x5c}}};async function wie(t,e){let r=t.certificate,n=t.certificatePath,i=r||await(0,oq.readFile)(n,\"utf8\"),o=e?i:void 0,s=/(-+BEGIN CERTIFICATE-+)(\\n\\r?|\\r\\n?)([A-Za-z0-9+/\\n\\r]+=*)(\\n\\r?|\\r\\n?)(-+END CERTIFICATE-+)/g,a=[],A;do A=s.exec(i),A&&a.push(A[3]);while(A);if(a.length===0)throw new Error(\"The file at the specified path does not contain a PEM-encoded certificate.\");let c=(0,kg.createHash)(\"sha1\").update(Buffer.from(a[0],\"base64\")).digest(\"hex\").toUpperCase(),l=(0,kg.createHash)(\"sha256\").update(Buffer.from(a[0],\"base64\")).digest(\"hex\").toUpperCase();return{certificateContents:i,thumbprintSha256:l,thumbprint:c,x5c:o}}function jn(t){return Array.isArray(t)?t:[t]}function iu(t,e){if(!t.match(/^[0-9a-zA-Z-_.:/]+$/)){let r=new Error(\"Invalid scope was specified by the user or calling client\");throw e.getToken.info(Se(t,r)),r}}function Qy(t){return t.replace(/\\/.default$/,\"\")}var sq=le(\"ClientSecretCredential\"),xg=class{tenantId;additionallyAllowedTenantIds;msalClient;clientSecret;constructor(e,r,n,i={}){if(!e)throw new $(\"ClientSecretCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");if(!r)throw new $(\"ClientSecretCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");if(!n)throw new $(\"ClientSecretCredential: clientSecret is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");this.clientSecret=n,this.tenantId=e,this.additionallyAllowedTenantIds=kt(i?.additionallyAllowedTenants),this.msalClient=gr(r,e,{...i,logger:sq,tokenCredentialOptions:i})}async getToken(e,r={}){return Ue.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=wt(this.tenantId,n,this.additionallyAllowedTenantIds,sq);let i=jn(e);return this.msalClient.getTokenByClientSecret(i,this.clientSecret,n)})}};var Rie=le(\"UsernamePasswordCredential\"),vg=class{tenantId;additionallyAllowedTenantIds;msalClient;username;password;constructor(e,r,n,i,o={}){if(!e)throw new $(\"UsernamePasswordCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!r)throw new $(\"UsernamePasswordCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!n)throw new $(\"UsernamePasswordCredential: username is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");if(!i)throw new $(\"UsernamePasswordCredential: password is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");this.tenantId=e,this.additionallyAllowedTenantIds=kt(o?.additionallyAllowedTenants),this.username=n,this.password=i,this.msalClient=gr(r,this.tenantId,{...o,tokenCredentialOptions:o??{}})}async getToken(e,r={}){return Ue.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=wt(this.tenantId,n,this.additionallyAllowedTenantIds,Rie);let i=jn(e);return this.msalClient.getTokenByUsernamePassword(i,this.username,this.password,n)})}};var Sie=[\"AZURE_TENANT_ID\",\"AZURE_CLIENT_ID\",\"AZURE_CLIENT_SECRET\",\"AZURE_CLIENT_CERTIFICATE_PATH\",\"AZURE_CLIENT_CERTIFICATE_PASSWORD\",\"AZURE_USERNAME\",\"AZURE_PASSWORD\",\"AZURE_ADDITIONALLY_ALLOWED_TENANTS\",\"AZURE_CLIENT_SEND_CERTIFICATE_CHAIN\"];function Tie(){return(process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS??\"\").split(\";\")}var wy=\"EnvironmentCredential\",Uo=le(wy);function bie(){let t=(process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN??\"\").toLowerCase(),e=t===\"true\"||t===\"1\";return Uo.verbose(`AZURE_CLIENT_SEND_CERTIFICATE_CHAIN: ${process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN}; sendCertificateChain: ${e}`),e}var Ng=class{_credential=void 0;constructor(e){let r=OC(Sie).assigned.join(\", \");Uo.info(`Found the following environment variables: ${r}`);let n=process.env.AZURE_TENANT_ID,i=process.env.AZURE_CLIENT_ID,o=process.env.AZURE_CLIENT_SECRET,s=Tie(),a=bie(),A={...e,additionallyAllowedTenantIds:s,sendCertificateChain:a};if(n&&Wt(Uo,n),n&&i&&o){Uo.info(`Invoking ClientSecretCredential with tenant ID: ${n}, clientId: ${i} and clientSecret: [REDACTED]`),this._credential=new xg(n,i,o,A);return}let c=process.env.AZURE_CLIENT_CERTIFICATE_PATH,l=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(n&&i&&c){Uo.info(`Invoking ClientCertificateCredential with tenant ID: ${n}, clientId: ${i} and certificatePath: ${c}`),this._credential=new Dg(n,i,{certificatePath:c,certificatePassword:l},A);return}let u=process.env.AZURE_USERNAME,d=process.env.AZURE_PASSWORD;n&&i&&u&&d&&(Uo.info(`Invoking UsernamePasswordCredential with tenant ID: ${n}, clientId: ${i} and username: ${u}`),Uo.warning(\"Environment is configured to use username and password authentication. This authentication method is deprecated, as it doesn't support multifactor authentication (MFA). Use a more secure credential. For more details, see https://aka.ms/azsdk/identity/mfa.\"),this._credential=new vg(n,i,u,d,A))}async getToken(e,r={}){return Ue.withSpan(`${wy}.getToken`,r,async n=>{if(this._credential)try{let i=await this._credential.getToken(e,n);return Uo.getToken.info(qt(e)),i}catch(i){let o=new Is(400,{error:`${wy} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:i.message.toString().split(\"More details:\").join(\"\")});throw Uo.getToken.info(Se(e,o)),o}throw new $(`${wy} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}};var kie=1e3*64,Die=3e3;function aq(t){return lB([{name:\"imdsRetryPolicy\",retry:({retryCount:e,response:r})=>{if(r?.status!==404&&r?.status!==410)return{skipStrategy:!0};let n=r?.status===410?Math.max(Die,t.startDelayInMs):t.startDelayInMs;return yk(e,{retryDelayInMs:n,maxRetryDelayInMs:kie})}}],{maxRetries:t.maxRetries})}var _o=\"ManagedIdentityCredential - IMDS\",YA=le(_o),xie=\"http://169.254.169.254\",vie=\"/metadata/identity/oauth2/token\";function Nie(t){if(!wg(t))throw new Error(`${_o}: Multiple scopes are not supported.`);let r=new URL(vie,process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST??xie),n={Accept:\"application/json\"};return{url:`${r}`,method:\"GET\",headers:Bi(n)}}var Aq={name:\"imdsMsi\",async isAvailable(t){let{scopes:e,identityClient:r,getTokenOptions:n}=t,i=wg(e);if(!i)return YA.info(`${_o}: Unavailable. Multiple scopes are not supported.`),!1;if(process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)return!0;if(!r)throw new Error(\"Missing IdentityClient\");let o=Nie(i);return Ue.withSpan(\"ManagedIdentityCredential-pingImdsEndpoint\",n??{},async s=>{o.tracingOptions=s.tracingOptions;let a=An(o);a.timeout=s.requestOptions?.timeout||1e3,a.allowInsecureConnection=!0;let A;try{YA.info(`${_o}: Pinging the Azure IMDS endpoint`),A=await r.sendRequest(a)}catch(c){return jg(c)&&YA.verbose(`${_o}: Caught error ${c.name}: ${c.message}`),YA.info(`${_o}: The Azure IMDS endpoint is unavailable`),!1}return A.status===403&&A.bodyAsText?.includes(\"unreachable\")?(YA.info(`${_o}: The Azure IMDS endpoint is unavailable`),YA.info(`${_o}: ${A.bodyAsText}`),!1):(YA.info(`${_o}: The Azure IMDS endpoint is available`),!0)})}};var cq=le(\"ClientAssertionCredential\"),ou=class{msalClient;tenantId;additionallyAllowedTenantIds;getAssertion;options;constructor(e,r,n,i={}){if(!e)throw new $(\"ClientAssertionCredential: tenantId is a required parameter.\");if(!r)throw new $(\"ClientAssertionCredential: clientId is a required parameter.\");if(!n)throw new $(\"ClientAssertionCredential: clientAssertion is a required parameter.\");this.tenantId=e,this.additionallyAllowedTenantIds=kt(i?.additionallyAllowedTenants),this.options=i,this.getAssertion=n,this.msalClient=gr(r,e,{...i,logger:cq,tokenCredentialOptions:this.options})}async getToken(e,r={}){return Ue.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=wt(this.tenantId,n,this.additionallyAllowedTenantIds,cq);let i=Array.isArray(e)?e:[e];return this.msalClient.getTokenByClientAssertion(i,this.getAssertion,n)})}};var lq=require(\"node:fs/promises\"),VA=\"WorkloadIdentityCredential\",Pie=[\"AZURE_TENANT_ID\",\"AZURE_CLIENT_ID\",\"AZURE_FEDERATED_TOKEN_FILE\"],Pg=le(VA),Ho=class{client;azureFederatedTokenFileContent=void 0;cacheDate=void 0;federatedTokenFilePath;constructor(e){let r=OC(Pie).assigned.join(\", \");Pg.info(`Found the following environment variables: ${r}`);let n=e??{},i=n.tenantId||process.env.AZURE_TENANT_ID,o=n.clientId||process.env.AZURE_CLIENT_ID;if(this.federatedTokenFilePath=n.tokenFilePath||process.env.AZURE_FEDERATED_TOKEN_FILE,i&&Wt(Pg,i),!o)throw new $(`${VA}: is unavailable. clientId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - \"AZURE_CLIENT_ID\".\n        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!i)throw new $(`${VA}: is unavailable. tenantId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - \"AZURE_TENANT_ID\".\n        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!this.federatedTokenFilePath)throw new $(`${VA}: is unavailable. federatedTokenFilePath is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - \"AZURE_FEDERATED_TOKEN_FILE\".\n        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);Pg.info(`Invoking ClientAssertionCredential with tenant ID: ${i}, clientId: ${n.clientId} and federated token path: [REDACTED]`),this.client=new ou(i,o,this.readFileContents.bind(this),e)}async getToken(e,r){if(!this.client){let n=`${VA}: is unavailable. tenantId, clientId, and federatedTokenFilePath are required parameters. \n      In DefaultAzureCredential and ManagedIdentityCredential, these can be provided as environment variables - \n      \"AZURE_TENANT_ID\",\n      \"AZURE_CLIENT_ID\",\n      \"AZURE_FEDERATED_TOKEN_FILE\". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`;throw Pg.info(n),new $(n)}return Pg.info(\"Invoking getToken() of Client Assertion Credential\"),this.client.getToken(e,r)}async readFileContents(){if(this.cacheDate!==void 0&&Date.now()-this.cacheDate>=1e3*60*5&&(this.azureFederatedTokenFileContent=void 0),!this.federatedTokenFilePath)throw new $(`${VA}: is unavailable. Invalid file path provided ${this.federatedTokenFilePath}.`);if(!this.azureFederatedTokenFileContent){let r=(await(0,lq.readFile)(this.federatedTokenFilePath,\"utf8\")).trim();if(r)this.azureFederatedTokenFileContent=r,this.cacheDate=Date.now();else throw new $(`${VA}: is unavailable. No content on the file ${this.federatedTokenFilePath}.`)}return this.azureFederatedTokenFileContent}};var uq=\"ManagedIdentityCredential - Token Exchange\",Mie=le(uq),ab={name:\"tokenExchangeMsi\",async isAvailable(t){let e=process.env,r=!!((t||e.AZURE_CLIENT_ID)&&e.AZURE_TENANT_ID&&process.env.AZURE_FEDERATED_TOKEN_FILE);return r||Mie.info(`${uq}: Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE`),r},async getToken(t,e={}){let{scopes:r,clientId:n}=t,i={};return new Ho({clientId:n,tenantId:process.env.AZURE_TENANT_ID,tokenFilePath:process.env.AZURE_FEDERATED_TOKEN_FILE,...i,disableInstanceDiscovery:!0}).getToken(r,e)}};var kn=le(\"ManagedIdentityCredential\"),js=class{managedIdentityApp;identityClient;clientId;resourceId;objectId;msiRetryConfig={maxRetries:5,startDelayInMs:800,intervalIncrement:2};isAvailableIdentityClient;sendProbeRequest;constructor(e,r){let n;typeof e==\"string\"?(this.clientId=e,n=r??{}):(this.clientId=e?.clientId,n=e??{}),this.resourceId=n?.resourceId,this.objectId=n?.objectId,this.sendProbeRequest=n?.sendProbeRequest??!1;let i=[{key:\"clientId\",value:this.clientId},{key:\"resourceId\",value:this.resourceId},{key:\"objectId\",value:this.objectId}].filter(s=>s.value);if(i.length>1)throw new Error(`ManagedIdentityCredential: only one of 'clientId', 'resourceId', or 'objectId' can be provided. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}`);n.allowInsecureConnection=!0,n.retryOptions?.maxRetries!==void 0&&(this.msiRetryConfig.maxRetries=n.retryOptions.maxRetries),this.identityClient=new Js({...n,additionalPolicies:[{policy:aq(this.msiRetryConfig),position:\"perCall\"}]}),this.managedIdentityApp=new eu({managedIdentityIdParams:{userAssignedClientId:this.clientId,userAssignedResourceId:this.resourceId,userAssignedObjectId:this.objectId},system:{disableInternalRetries:!0,networkClient:this.identityClient,loggerOptions:{logLevel:fy(Kg()),piiLoggingEnabled:n.loggingOptions?.enableUnsafeSupportLogging,loggerCallback:gy(kn)}}}),this.isAvailableIdentityClient=new Js({...n,retryOptions:{maxRetries:0}});let o=this.managedIdentityApp.getManagedIdentitySource();if(o===\"CloudShell\"&&(this.clientId||this.resourceId||this.objectId))throw kn.warning(`CloudShell MSI detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new $(\"ManagedIdentityCredential: Specifying a user-assigned managed identity is not supported for CloudShell at runtime. When using Managed Identity in CloudShell, omit the clientId, resourceId, and objectId parameters.\");if(o===\"ServiceFabric\"&&(this.clientId||this.resourceId||this.objectId))throw kn.warning(`Service Fabric detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new $(`ManagedIdentityCredential: ${R2}`);if(kn.info(`Using ${o} managed identity.`),i.length===1){let{key:s,value:a}=i[0];kn.info(`${o} with ${s}: ${a}`)}}async getToken(e,r={}){kn.getToken.info(\"Using the MSAL provider for Managed Identity.\");let n=wg(e);if(!n)throw new $(`ManagedIdentityCredential: Multiple scopes are not supported. Scopes: ${JSON.stringify(e)}`);return Ue.withSpan(\"ManagedIdentityCredential.getToken\",r,async()=>{try{let i=await ab.isAvailable(this.clientId),o=this.managedIdentityApp.getManagedIdentitySource(),s=o===\"DefaultToImds\"||o===\"Imds\";if(kn.getToken.info(`MSAL Identity source: ${o}`),i){kn.getToken.info(\"Using the token exchange managed identity.\");let A=await ab.getToken({scopes:e,clientId:this.clientId,identityClient:this.identityClient,retryConfig:this.msiRetryConfig,resourceId:this.resourceId});if(A===null)throw new $(\"Attempted to use the token exchange managed identity, but received a null response.\");return A}else if(s&&this.sendProbeRequest&&(kn.getToken.info(\"Using the IMDS endpoint to probe for availability.\"),!await Aq.isAvailable({scopes:e,clientId:this.clientId,getTokenOptions:r,identityClient:this.isAvailableIdentityClient,resourceId:this.resourceId})))throw new $(\"Attempted to use the IMDS endpoint, but it is not available.\");kn.getToken.info(\"Calling into MSAL for managed identity token.\");let a=await this.managedIdentityApp.acquireToken({resource:n});return this.ensureValidMsalToken(e,a,r),kn.getToken.info(qt(e)),{expiresOnTimestamp:a.expiresOn.getTime(),token:a.accessToken,refreshAfterTimestamp:a.refreshOn?.getTime(),tokenType:\"Bearer\"}}catch(i){throw kn.getToken.error(Se(e,i)),i.name===\"AuthenticationRequiredError\"?i:Fie(i)?new $(`ManagedIdentityCredential: Network unreachable. Message: ${i.message}`,{cause:i}):new $(`ManagedIdentityCredential: Authentication failed. Message ${i.message}`,{cause:i})}})}ensureValidMsalToken(e,r,n){let i=o=>(kn.getToken.info(o),new Yn({scopes:Array.isArray(e)?e:[e],getTokenOptions:n,message:o}));if(!r)throw i(\"No response.\");if(!r.expiresOn)throw i('Response had no \"expiresOn\" property.');if(!r.accessToken)throw i('Response had no \"accessToken\" property.')}};function Fie(t){return!!(t.errorCode===\"network_error\"||t.code===\"ENETUNREACH\"||t.code===\"EHOSTUNREACH\"||(t.statusCode===403||t.code===403)&&t.message.includes(\"unreachable\"))}var dq=Ae(require(\"child_process\"),1);var Wi=le(\"AzureDeveloperCliCredential\"),Ry={notInstalled:\"Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.\",login:\"Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.\",unknown:\"Unknown error while trying to retrieve the access token\",claim:\"This credential doesn't support claims challenges. To authenticate with the required claims, please run the following command:\"},hq={getSafeWorkingDir(){if(process.platform===\"win32\"){let t=process.env.SystemRoot||process.env.SYSTEMROOT;return t||(Wi.getToken.warning(\"The SystemRoot environment variable is not set. This may cause issues when using the Azure Developer CLI credential.\"),t=\"C:\\\\Windows\"),t}else return\"/bin\"},async getAzdAccessToken(t,e,r,n){let i=[];e&&(i=[\"--tenant-id\",e]);let o=[];return n&&(o=[\"--claims\",btoa(n)]),new Promise((s,a)=>{try{let c=[\"azd\",...[\"auth\",\"token\",\"--output\",\"json\",\"--no-prompt\",...t.reduce((l,u)=>l.concat(\"--scope\",u),[]),...i,...o]].join(\" \");dq.default.exec(c,{cwd:hq.getSafeWorkingDir(),timeout:r},(l,u,d)=>{s({stdout:u,stderr:d,error:l})})}catch(A){a(A)}})}},Mg=class{tenantId;additionallyAllowedTenantIds;timeout;constructor(e){e?.tenantId&&(Wt(Wi,e?.tenantId),this.tenantId=e?.tenantId),this.additionallyAllowedTenantIds=kt(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getToken(e,r={}){let n=wt(this.tenantId,r,this.additionallyAllowedTenantIds);n&&Wt(Wi,n);let i;return typeof e==\"string\"?i=[e]:i=e,Wi.getToken.info(`Using the scopes ${e}`),Ue.withSpan(`${this.constructor.name}.getToken`,r,async()=>{try{i.forEach(c=>{iu(c,Wi)});let o=await hq.getAzdAccessToken(i,n,this.timeout,r.claims),s=o.stderr?.match(\"must use multi-factor authentication\")||o.stderr?.match(\"reauthentication required\"),a=o.stderr?.match(\"not logged in, run `azd login` to login\")||o.stderr?.match(\"not logged in, run `azd auth login` to login\");if(o.stderr?.match(\"azd:(.*)not found\")||o.stderr?.startsWith(\"'azd' is not recognized\")||o.error&&o.error.code===\"ENOENT\"){let c=new $(Ry.notInstalled);throw Wi.getToken.info(Se(e,c)),c}if(a){let c=new $(Ry.login);throw Wi.getToken.info(Se(e,c)),c}if(s){let l=`azd auth login ${i.reduce((d,h)=>d.concat(\"--scope\",h),[]).join(\" \")}`,u=new $(`${Ry.claim} ${l}`);throw Wi.getToken.info(Se(e,u)),u}try{let c=JSON.parse(o.stdout);return Wi.getToken.info(qt(e)),{token:c.token,expiresOnTimestamp:new Date(c.expiresOn).getTime(),tokenType:\"Bearer\"}}catch(c){throw o.stderr?new $(o.stderr):c}}catch(o){let s=o.name===\"CredentialUnavailableError\"?o:new $(o.message||Ry.unknown);throw Wi.getToken.info(Se(e,s)),s}})}};var gq=Ae(require(\"child_process\"),1);function Ab(t,e){if(!e.match(/^[0-9a-zA-Z-._ ]+$/)){let r=new Error(`Subscription '${e}' contains invalid characters. If this is the name of a subscription, use its ID instead. You can locate your subscription by following the instructions listed here: https://learn.microsoft.com/azure/azure-portal/get-subscription-tenant-id`);throw t.info(Se(\"\",r)),r}}var Dn=le(\"AzureCliCredential\"),Fg={claim:\"This credential doesn't support claims challenges. To authenticate with the required claims, please run the following command:\",notInstalled:\"Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'.\",login:\"Please run 'az login' from a command prompt to authenticate before using this credential.\",unknown:\"Unknown error while trying to retrieve the access token\",unexpectedResponse:'Unexpected response from Azure CLI when getting token. Expected \"expiresOn\" to be a RFC3339 date string. Got:'},fq={getSafeWorkingDir(){if(process.platform===\"win32\"){let t=process.env.SystemRoot||process.env.SYSTEMROOT;return t||(Dn.getToken.warning(\"The SystemRoot environment variable is not set. This may cause issues when using the Azure CLI credential.\"),t=\"C:\\\\Windows\"),t}else return\"/bin\"},async getAzureCliAccessToken(t,e,r,n){let i=[],o=[];return e&&(i=[\"--tenant\",e]),r&&(o=[\"--subscription\",`\"${r}\"`]),new Promise((s,a)=>{try{let c=[\"az\",...[\"account\",\"get-access-token\",\"--output\",\"json\",\"--resource\",t,...i,...o]].join(\" \");gq.default.exec(c,{cwd:fq.getSafeWorkingDir(),timeout:n},(l,u,d)=>{s({stdout:u,stderr:d,error:l})})}catch(A){a(A)}})}},Lg=class{tenantId;additionallyAllowedTenantIds;timeout;subscription;constructor(e){e?.tenantId&&(Wt(Dn,e?.tenantId),this.tenantId=e?.tenantId),e?.subscription&&(Ab(Dn,e?.subscription),this.subscription=e?.subscription),this.additionallyAllowedTenantIds=kt(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getToken(e,r={}){let n=typeof e==\"string\"?e:e[0],i=r.claims;if(i&&i.trim()){let a=`az login --claims-challenge ${btoa(i)} --scope ${n}`,A=r.tenantId;A&&(a+=` --tenant ${A}`);let c=new $(`${Fg.claim} ${a}`);throw Dn.getToken.info(Se(n,c)),c}let o=wt(this.tenantId,r,this.additionallyAllowedTenantIds);return o&&Wt(Dn,o),this.subscription&&Ab(Dn,this.subscription),Dn.getToken.info(`Using the scope ${n}`),Ue.withSpan(`${this.constructor.name}.getToken`,r,async()=>{try{iu(n,Dn);let s=Qy(n),a=await fq.getAzureCliAccessToken(s,o,this.subscription,this.timeout),A=a.stderr?.match(\"(.*)az login --scope(.*)\"),c=a.stderr?.match(\"(.*)az login(.*)\")&&!A;if(a.stderr?.match(\"az:(.*)not found\")||a.stderr?.startsWith(\"'az' is not recognized\")){let u=new $(Fg.notInstalled);throw Dn.getToken.info(Se(e,u)),u}if(c){let u=new $(Fg.login);throw Dn.getToken.info(Se(e,u)),u}try{let u=a.stdout,d=this.parseRawResponse(u);return Dn.getToken.info(qt(e)),d}catch(u){throw a.stderr?new $(a.stderr):u}}catch(s){let a=s.name===\"CredentialUnavailableError\"?s:new $(s.message||Fg.unknown);throw Dn.getToken.info(Se(e,a)),a}})}parseRawResponse(e){let r=JSON.parse(e),n=r.accessToken,i=Number.parseInt(r.expires_on,10)*1e3;if(!isNaN(i))return Dn.getToken.info(\"expires_on is available and is valid, using it\"),{token:n,expiresOnTimestamp:i,tokenType:\"Bearer\"};if(i=new Date(r.expiresOn).getTime(),isNaN(i))throw new $(`${Fg.unexpectedResponse} \"${r.expiresOn}\"`);return{token:n,expiresOnTimestamp:i,tokenType:\"Bearer\"}}};var pq=Ae(require(\"node:child_process\"),1),Eq={execFile(t,e,r){return new Promise((n,i)=>{pq.default.execFile(t,e,r,(o,s,a)=>{Buffer.isBuffer(s)&&(s=s.toString(\"utf8\")),Buffer.isBuffer(a)&&(a=a.toString(\"utf8\")),a||o?i(a?new Error(a):o):n(s)})})}};var zi=le(\"AzurePowerShellCredential\"),mq=process.platform===\"win32\";function yq(t){return mq?`${t}.exe`:t}async function Cq(t,e){let r=[];for(let n of t){let[i,...o]=n,s=await Eq.execFile(i,o,{encoding:\"utf8\",timeout:e});r.push(s)}return r}var Iq={login:\"Run Connect-AzAccount to login\",installed:\"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory\"},Sy={login:\"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.\",installed:`The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: \"Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force\".`,claim:\"This credential doesn't support claims challenges. To authenticate with the required claims, please run the following command:\",troubleshoot:\"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot.\"},Lie=t=>t.message.match(`(.*)${Iq.login}(.*)`),Oie=t=>t.message.match(Iq.installed),cb=[yq(\"pwsh\")];mq&&cb.push(yq(\"powershell\"));var Og=class{tenantId;additionallyAllowedTenantIds;timeout;constructor(e){e?.tenantId&&(Wt(zi,e?.tenantId),this.tenantId=e?.tenantId),this.additionallyAllowedTenantIds=kt(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getAzurePowerShellAccessToken(e,r,n){for(let i of[...cb]){try{await Cq([[i,\"/?\"]],n)}catch{cb.shift();continue}let s=(await Cq([[i,\"-NoProfile\",\"-NonInteractive\",\"-Command\",`\n          $tenantId = \"${r??\"\"}\"\n          $m = Import-Module Az.Accounts -MinimumVersion 2.2.0 -PassThru\n          $useSecureString = $m.Version -ge [version]'2.17.0' -and $m.Version -lt [version]'5.0.0'\n\n          $params = @{\n            ResourceUrl = \"${e}\"\n          }\n\n          if ($tenantId.Length -gt 0) {\n            $params[\"TenantId\"] = $tenantId\n          }\n\n          if ($useSecureString) {\n            $params[\"AsSecureString\"] = $true\n          }\n\n          $token = Get-AzAccessToken @params\n\n          $result = New-Object -TypeName PSObject\n          $result | Add-Member -MemberType NoteProperty -Name ExpiresOn -Value $token.ExpiresOn\n\n          if ($token.Token -is [System.Security.SecureString]) {\n            if ($PSVersionTable.PSVersion.Major -lt 7) {\n              $ssPtr = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($token.Token)\n              try {\n                $result | Add-Member -MemberType NoteProperty -Name Token -Value ([System.Runtime.InteropServices.Marshal]::PtrToStringBSTR($ssPtr))\n              }\n              finally {\n                [System.Runtime.InteropServices.Marshal]::ZeroFreeBSTR($ssPtr)\n              }\n            }\n            else {\n              $result | Add-Member -MemberType NoteProperty -Name Token -Value ($token.Token | ConvertFrom-SecureString -AsPlainText)\n            }\n          }\n          else {\n            $result | Add-Member -MemberType NoteProperty -Name Token -Value $token.Token\n          }\n\n          Write-Output (ConvertTo-Json $result)\n          `]]))[0];return Uie(s)}throw new Error(\"Unable to execute PowerShell. Ensure that it is installed in your system\")}async getToken(e,r={}){return Ue.withSpan(`${this.constructor.name}.getToken`,r,async()=>{let n=typeof e==\"string\"?e:e[0],i=r.claims;if(i&&i.trim()){let a=`Connect-AzAccount -ClaimsChallenge ${btoa(i)}`,A=r.tenantId;A&&(a+=` -Tenant ${A}`);let c=new $(`${Sy.claim} ${a}`);throw zi.getToken.info(Se(n,c)),c}let o=wt(this.tenantId,r,this.additionallyAllowedTenantIds);o&&Wt(zi,o);try{iu(n,zi),zi.getToken.info(`Using the scope ${n}`);let s=Qy(n),a=await this.getAzurePowerShellAccessToken(s,o,this.timeout);return zi.getToken.info(qt(e)),{token:a.Token,expiresOnTimestamp:new Date(a.ExpiresOn).getTime(),tokenType:\"Bearer\"}}catch(s){if(Oie(s)){let A=new $(Sy.installed);throw zi.getToken.info(Se(n,A)),A}else if(Lie(s)){let A=new $(Sy.login);throw zi.getToken.info(Se(n,A)),A}let a=new $(`${s}. ${Sy.troubleshoot}`);throw zi.getToken.info(Se(n,a)),a}})}};async function Uie(t){let e=/{[^{}]*}/g,r=t.match(e),n=t;if(r)try{for(let i of r)try{let o=JSON.parse(i);if(o?.Token)return n=n.replace(i,\"\"),n&&zi.getToken.warning(n),o}catch{continue}}catch{throw new Error(`Unable to parse the output of PowerShell. Received output: ${t}`)}throw new Error(`No access token found in the output. Received output: ${t}`)}var Bq=require(\"node:fs/promises\"),_ie=\"common\",Hie=\"aebc6443-996d-45c2-90f0-388ff96faa56\",lb=le(\"VisualStudioCodeCredential\"),qie={adfs:\"The VisualStudioCodeCredential does not support authentication with ADFS tenants.\"};function Gie(t){let e=qie[t];if(e)throw new $(e)}var Ug=class{tenantId;additionallyAllowedTenantIds;msalClient;options;constructor(e){this.options=e||{},e&&e.tenantId?(Wt(lb,e.tenantId),this.tenantId=e.tenantId):this.tenantId=_ie,this.additionallyAllowedTenantIds=kt(e?.additionallyAllowedTenants),Gie(this.tenantId)}async prepare(e){let r=wt(this.tenantId,this.options,this.additionallyAllowedTenantIds,lb)||this.tenantId;if(!kL()||!FC)throw new $(\"Visual Studio Code Authentication is not available. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.\");let n=await this.loadAuthRecord(FC,e);this.msalClient=gr(Hie,r,{...this.options,isVSCodeCredential:!0,brokerOptions:{enabled:!0,parentWindowHandle:new Uint8Array(0),useDefaultBrokerAccount:!0},authenticationRecord:n})}preparePromise;prepareOnce(e){return this.preparePromise||(this.preparePromise=this.prepare(e)),this.preparePromise}async getToken(e,r){let n=jn(e);if(await this.prepareOnce(n),!this.msalClient)throw new $(\"Visual Studio Code Authentication failed to initialize. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.\");return this.msalClient.getTokenByInteractiveRequest(n,{...r,disableAutomaticAuthentication:!0})}async loadAuthRecord(e,r){try{let n=await(0,Bq.readFile)(e,{encoding:\"utf8\"});return NT(n)}catch(n){throw lb.getToken.info(Se(r,n)),new $(\"Cannot load authentication record in Visual Studio Code. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.\")}}};var Ty=le(\"BrokerCredential\"),by=class{brokerMsalClient;brokerTenantId;brokerAdditionallyAllowedTenantIds;constructor(e){this.brokerTenantId=tu(Ty,e.tenantId),this.brokerAdditionallyAllowedTenantIds=kt(e?.additionallyAllowedTenants);let r={...e,tokenCredentialOptions:e,logger:Ty,brokerOptions:{enabled:!0,parentWindowHandle:new Uint8Array(0),useDefaultBrokerAccount:!0}};this.brokerMsalClient=gr($a,this.brokerTenantId,r)}async getToken(e,r={}){return Ue.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=wt(this.brokerTenantId,n,this.brokerAdditionallyAllowedTenantIds,Ty);let i=jn(e);try{return this.brokerMsalClient.getBrokeredToken(i,!0,{...n,disableAutomaticAuthentication:!0})}catch(o){throw Ty.getToken.info(Se(i,o)),new $(\"Failed to acquire token using broker authentication\",{cause:o})}})}};function Qq(t={}){return new by(t)}function ub(t={}){return new Ug(t)}function db(t={}){t.retryOptions??={maxRetries:5,retryDelayInMs:800},t.sendProbeRequest??=!0;let e=t?.managedIdentityClientId??process.env.AZURE_CLIENT_ID,r=t?.workloadIdentityClientId??e,n=t?.managedIdentityResourceId,i=process.env.AZURE_FEDERATED_TOKEN_FILE,o=t?.tenantId??process.env.AZURE_TENANT_ID;if(n){let s={...t,resourceId:n};return new js(s)}if(i&&r){let s={...t,tenantId:o};return new js(r,s)}if(e){let s={...t,clientId:e};return new js(s)}return new js(t)}function hb(t){let e=t?.managedIdentityClientId??process.env.AZURE_CLIENT_ID,r=t?.workloadIdentityClientId??e,n=process.env.AZURE_FEDERATED_TOKEN_FILE,i=t?.tenantId??process.env.AZURE_TENANT_ID;if(n&&r){let o={...t,tenantId:i,clientId:r,tokenFilePath:n};return new Ho(o)}if(i){let o={...t,tenantId:i};return new Ho(o)}return new Ho(t)}function gb(t={}){return new Mg(t)}function fb(t={}){return new Lg(t)}function pb(t={}){return new Og(t)}function Eb(t={}){return new Ng(t)}var ky=le(\"DefaultAzureCredential\"),Cb=class{credentialUnavailableErrorMessage;credentialName;constructor(e,r){this.credentialName=e,this.credentialUnavailableErrorMessage=r}getToken(){return ky.getToken.info(`Skipping ${this.credentialName}, reason: ${this.credentialUnavailableErrorMessage}`),Promise.resolve(null)}},su=class extends $d{constructor(e){Yie(e);let r=process.env.AZURE_TOKEN_CREDENTIALS?process.env.AZURE_TOKEN_CREDENTIALS.trim().toLowerCase():void 0,n=[ub,fb,pb,gb,Qq],i=[Eb,hb,db],o=[],s=\"EnvironmentCredential, WorkloadIdentityCredential, ManagedIdentityCredential, VisualStudioCodeCredential, AzureCliCredential, AzurePowerShellCredential, AzureDeveloperCliCredential\";if(r)switch(r){case\"dev\":o=n;break;case\"prod\":o=i;break;case\"environmentcredential\":o=[Eb];break;case\"workloadidentitycredential\":o=[hb];break;case\"managedidentitycredential\":o=[()=>db({sendProbeRequest:!1})];break;case\"visualstudiocodecredential\":o=[ub];break;case\"azureclicredential\":o=[fb];break;case\"azurepowershellcredential\":o=[pb];break;case\"azuredeveloperclicredential\":o=[gb];break;default:{let A=`Invalid value for AZURE_TOKEN_CREDENTIALS = ${process.env.AZURE_TOKEN_CREDENTIALS}. Valid values are 'prod' or 'dev' or any of these credentials - ${s}.`;throw ky.warning(A),new Error(A)}}else o=[...i,...n];let a=o.map(A=>{try{return A(e??{})}catch(c){return ky.warning(`Skipped ${A.name} because of an error creating the credential: ${c}`),new Cb(A.name,c.message)}});super(...a)}};function Yie(t){if(t?.requiredEnvVars){let r=(Array.isArray(t.requiredEnvVars)?t.requiredEnvVars:[t.requiredEnvVars]).filter(n=>!process.env[n]);if(r.length>0){let n=`Required environment ${r.length===1?\"variable\":\"variables\"} '${r.join(\", \")}' for DefaultAzureCredential ${r.length===1?\"is\":\"are\"} not set or empty.`;throw ky.warning(n),new Error(n)}}}var Aze=le(\"InteractiveBrowserCredential\");var pze=le(\"DeviceCodeCredential\");var Vie=\"AzurePipelinesCredential\",wze=le(Vie);var vze=le(\"AuthorizationCodeCredential\");var Jie=\"OnBehalfOfCredential\",_ze=le(Jie);var Kie=new su({managedIdentityClientId:process.env.AZURE_CLIENT_ID}),Wie=new ad({endpoint:process.env.COSMOS_ENDPOINT,aadCredentials:Kie}),zie=Wie.database(\"ATAKORA_DATABASE_NAME\"),jie=zie.container(\"ATAKORA_CONTAINER_NAME\"),$ie=ATAKORA_SCHEMA_JSON;function Xie(t){let e=[];for(let[r,n]of Object.entries($ie)){let i=typeof n==\"string\"?{type:n}:n,o=t[r];if(i.required&&o==null){e.push(`Field '${r}' is required`);continue}if(o!=null){let s=i.type;if(s===\"timestamp\"?(typeof o!=\"string\"||isNaN(Date.parse(o)))&&e.push(`Field '${r}' must be a valid ISO 8601 timestamp`):s!==typeof o&&e.push(`Field '${r}' must be of type ${s}`),i.validation){let A=i.validation;A.minLength&&o.length<A.minLength&&e.push(`Field '${r}' must be at least ${A.minLength} characters`),A.maxLength&&o.length>A.maxLength&&e.push(`Field '${r}' must be at most ${A.maxLength} characters`),A.min!==void 0&&o<A.min&&e.push(`Field '${r}' must be at least ${A.min}`),A.max!==void 0&&o>A.max&&e.push(`Field '${r}' must be at most ${A.max}`),A.pattern&&!new RegExp(A.pattern).test(o)&&e.push(`Field '${r}' does not match required pattern`),A.enum&&!A.enum.includes(o)&&e.push(`Field '${r}' must be one of: ${A.enum.join(\", \")}`)}}}return e}wq.app.http(\"create-ATAKORA_ENTITY_NAME_LOWER\",{methods:[\"POST\"],authLevel:\"anonymous\",handler:async(t,e)=>{try{let r=await t.json(),n=Xie(r);if(n.length>0)return{status:400,jsonBody:{error:\"Validation failed\",details:n}};let i=new Date().toISOString(),o={...r,id:r.id||crypto.randomUUID(),ATAKORA_PARTITION_KEY:r.ATAKORA_PARTITION_KEY||r.id||crypto.randomUUID(),createdAt:i,updatedAt:i},{resource:s}=await jie.items.create(o);return{status:201,jsonBody:s}}catch(r){return e.error(\"Error creating ATAKORA_ENTITY_NAME:\",r),r.code===409?{status:409,jsonBody:{error:\"ATAKORA_ENTITY_NAME already exists\"}}:{status:500,jsonBody:{error:\"Internal server error\",message:r.message}}}}});\n/*! Bundled license information:\n\ncookie/index.js:\n  (*!\n   * cookie\n   * Copyright(c) 2012-2014 Roman Shtylman\n   * Copyright(c) 2015 Douglas Christopher Wilson\n   * MIT Licensed\n   *)\n\nundici/lib/fetch/body.js:\n  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)\n\nundici/lib/websocket/frame.js:\n  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)\n\nsafe-buffer/index.js:\n  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\n@azure/msal-node/dist/cache/serializer/Serializer.mjs:\n@azure/msal-node/dist/cache/serializer/Deserializer.mjs:\n@azure/msal-node/dist/internals.mjs:\n@azure/msal-node/dist/utils/Constants.mjs:\n@azure/msal-node/dist/utils/NetworkUtils.mjs:\n@azure/msal-node/dist/network/HttpClient.mjs:\n@azure/msal-node/dist/error/ManagedIdentityErrorCodes.mjs:\n@azure/msal-node/dist/error/ManagedIdentityError.mjs:\n@azure/msal-node/dist/config/ManagedIdentityId.mjs:\n@azure/msal-node/dist/error/NodeAuthError.mjs:\n@azure/msal-node/dist/config/Configuration.mjs:\n@azure/msal-node/dist/crypto/GuidGenerator.mjs:\n@azure/msal-node/dist/utils/EncodingUtils.mjs:\n@azure/msal-node/dist/crypto/HashUtils.mjs:\n@azure/msal-node/dist/crypto/PkceGenerator.mjs:\n@azure/msal-node/dist/crypto/CryptoProvider.mjs:\n@azure/msal-node/dist/cache/CacheHelpers.mjs:\n@azure/msal-node/dist/cache/NodeStorage.mjs:\n@azure/msal-node/dist/cache/TokenCache.mjs:\n@azure/msal-node/dist/client/ClientAssertion.mjs:\n@azure/msal-node/dist/packageMetadata.mjs:\n@azure/msal-node/dist/client/UsernamePasswordClient.mjs:\n@azure/msal-node/dist/protocol/Authorize.mjs:\n@azure/msal-node/dist/client/ClientApplication.mjs:\n@azure/msal-node/dist/network/LoopbackClient.mjs:\n@azure/msal-node/dist/client/DeviceCodeClient.mjs:\n@azure/msal-node/dist/client/PublicClientApplication.mjs:\n@azure/msal-node/dist/client/ClientCredentialClient.mjs:\n@azure/msal-node/dist/client/OnBehalfOfClient.mjs:\n@azure/msal-node/dist/client/ConfidentialClientApplication.mjs:\n@azure/msal-node/dist/utils/TimeUtils.mjs:\n@azure/msal-node/dist/network/HttpClientWithRetries.mjs:\n@azure/msal-node/dist/client/ManagedIdentitySources/BaseManagedIdentitySource.mjs:\n@azure/msal-node/dist/retry/LinearRetryStrategy.mjs:\n@azure/msal-node/dist/retry/DefaultManagedIdentityRetryPolicy.mjs:\n@azure/msal-node/dist/config/ManagedIdentityRequestParameters.mjs:\n@azure/msal-node/dist/client/ManagedIdentitySources/AppService.mjs:\n@azure/msal-node/dist/client/ManagedIdentitySources/AzureArc.mjs:\n@azure/msal-node/dist/client/ManagedIdentitySources/CloudShell.mjs:\n@azure/msal-node/dist/retry/ExponentialRetryStrategy.mjs:\n@azure/msal-node/dist/retry/ImdsRetryPolicy.mjs:\n@azure/msal-node/dist/client/ManagedIdentitySources/Imds.mjs:\n@azure/msal-node/dist/client/ManagedIdentitySources/ServiceFabric.mjs:\n@azure/msal-node/dist/client/ManagedIdentitySources/MachineLearning.mjs:\n@azure/msal-node/dist/client/ManagedIdentityClient.mjs:\n@azure/msal-node/dist/client/ManagedIdentityApplication.mjs:\n@azure/msal-node/dist/cache/distributed/DistributedCachePlugin.mjs:\n@azure/msal-node/dist/index.mjs:\n  (*! @azure/msal-node v3.8.0 2025-09-24 *)\n\n@azure/msal-common/dist/utils/Constants.mjs:\n@azure/msal-common/dist/error/AuthErrorCodes.mjs:\n@azure/msal-common/dist/error/AuthError.mjs:\n@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs:\n@azure/msal-common/dist/error/ClientAuthError.mjs:\n@azure/msal-common/dist/crypto/ICrypto.mjs:\n@azure/msal-common/dist/logger/Logger.mjs:\n@azure/msal-common/dist/packageMetadata.mjs:\n@azure/msal-common/dist/authority/AuthorityOptions.mjs:\n@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs:\n@azure/msal-common/dist/error/ClientConfigurationError.mjs:\n@azure/msal-common/dist/utils/StringUtils.mjs:\n@azure/msal-common/dist/request/ScopeSet.mjs:\n@azure/msal-common/dist/account/AccountInfo.mjs:\n@azure/msal-common/dist/account/AuthToken.mjs:\n@azure/msal-common/dist/utils/UrlUtils.mjs:\n@azure/msal-common/dist/url/UrlString.mjs:\n@azure/msal-common/dist/authority/AuthorityMetadata.mjs:\n@azure/msal-common/dist/error/CacheErrorCodes.mjs:\n@azure/msal-common/dist/error/CacheError.mjs:\n@azure/msal-common/dist/cache/CacheManager.mjs:\n@azure/msal-common/dist/authority/ProtocolMode.mjs:\n@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs:\n@azure/msal-common/dist/telemetry/performance/StubPerformanceClient.mjs:\n@azure/msal-common/dist/config/ClientConfiguration.mjs:\n@azure/msal-common/dist/account/CcsCredential.mjs:\n@azure/msal-common/dist/account/ClientInfo.mjs:\n@azure/msal-common/dist/constants/AADServerParamKeys.mjs:\n@azure/msal-common/dist/request/RequestParameterBuilder.mjs:\n@azure/msal-common/dist/authority/AuthorityType.mjs:\n@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs:\n@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs:\n@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs:\n@azure/msal-common/dist/utils/FunctionWrappers.mjs:\n@azure/msal-common/dist/authority/RegionDiscovery.mjs:\n@azure/msal-common/dist/utils/TimeUtils.mjs:\n@azure/msal-common/dist/cache/utils/CacheHelpers.mjs:\n@azure/msal-common/dist/authority/Authority.mjs:\n@azure/msal-common/dist/authority/AuthorityFactory.mjs:\n@azure/msal-common/dist/error/ServerError.mjs:\n@azure/msal-common/dist/network/RequestThumbprint.mjs:\n@azure/msal-common/dist/network/ThrottlingUtils.mjs:\n@azure/msal-common/dist/error/NetworkError.mjs:\n@azure/msal-common/dist/client/BaseClient.mjs:\n@azure/msal-common/dist/account/TokenClaims.mjs:\n@azure/msal-common/dist/cache/entities/AccountEntity.mjs:\n@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs:\n@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs:\n@azure/msal-common/dist/utils/ProtocolUtils.mjs:\n@azure/msal-common/dist/crypto/PopTokenGenerator.mjs:\n@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs:\n@azure/msal-common/dist/response/ResponseHandler.mjs:\n@azure/msal-common/dist/utils/ClientAssertionUtils.mjs:\n@azure/msal-common/dist/client/AuthorizationCodeClient.mjs:\n@azure/msal-common/dist/client/RefreshTokenClient.mjs:\n@azure/msal-common/dist/client/SilentFlowClient.mjs:\n@azure/msal-common/dist/protocol/Authorize.mjs:\n@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs:\n@azure/msal-common/dist/index-node.mjs:\n@azure/msal-common/dist/index.mjs:\n  (*! @azure/msal-common v15.13.0 2025-09-24 *)\n*/\n";
